var _0x59e1=['special','1.\x20e4\x20e5\x202.\x20Bc4\x20d6\x203.\x20Qh5\x20Nf6\x204.\x20Qxf7#\x201-0','KEYUP','name','undefined\x20state\x20in\x20Game.inState()','ptr','Comments:\x20','enpassant','textColor','\x20½-½\x20(Fifty\x20moves)','rgba(120,\x20120,\x20120,\x200.5)','fenstring','QGA\x20Nf6\x20-\x20Queen\x27s\x20Gambit\x20Accepted','%ar','forward','color','focus','1327647HSuuWk','4LNOFTm','events','\x20½-½\x20(Repetition)','atan2','fiftyMoves','absolute','undefined\x20event\x20in\x20event()','BOARD','imgs','animsec','resizeControl','textBaseline','#000000','moveTo','anim','#cccccc','Scholars\x20mate\x20-\x20Fishing\x20pole',':\x20(','initPos','6n1/3p4/3P1k2/7R/7K/8/8/8\x20w\x20KQkq\x20-\x200\x201','1.\x20d4\x20d5\x202.\x20c4\x20{Queen\x27s\x20gambit}\x20e5\x20{Albin\x27s\x20countergambit}\x203.\x20dxe5\x20d4\x204.\x20e3\x20Bb4+\x205.\x20Bd2\x20dxe3\x206.\x20Bxb4\x20{[%eval\x20-8.8]}\x20{Blunder,\x20best\x20move\x20is\x20fxe3\x20double\x20pwns}\x20exf2+\x207.\x20Ke2\x20fxg1=N+\x20{\x20[%ar\x20Gh1g1]\x20[%ar\x20Rc8g4]\x20[%ar\x20Rg4d1]\x20}\x208.\x20Ke1\x20Qh4+\x20{\x20[%ar\x20Gg2g3]\x20[%ar\x20Rh4e4]\x20[%ar\x20Re4e1]\x20[%ar\x20Re4h1]\x20}\x209.\x20Kd2\x20Nc6\x20{\x20[%ar\x20Rc6e5]\x20}\x2010.\x20Bc3\x20{\x20[%ar\x20Rc6e5]\x20[%ar\x20Gc3e5]\x20}\x2010...\x20Bg4\x20{\x20[%ar\x20Rg4d1]\x20[%ar\x20Bd1e1]\x20[%ar\x20Bd1c1]\x20[%ar\x20Bd1c2]\x20}\x2011.\x20Qc2\x200-0-0+\x20{\x20[%ar\x20Rd8d2]\x20}','sideline:\x20','#ababab','Material','clk','depth','Russian\x20game\x20Stafford\x20gambit','fillStyle','none','TOOLBAR','Insufficient\x20material,\x20its\x20a\x20draw!','becomesPiece','piece\x20is\x20not\x20legal:\x20','round','Checkmate','pgnmove','Empty','ply','1.\x20d4\x20{\x20[%eval\x200.0]\x20[%clk\x200:05:00]\x20}\x201...\x20d5\x20{\x20[%eval\x200.22]\x20[%clk\x200:05:00]\x20}\x202.\x20e3\x20{\x20[%eval\x200.05]\x20[%clk\x200:04:58]\x20}\x20{\x20D00\x20Queen\x27s\x20Pawn\x20Game\x20}\x202...\x20Bf5\x20{\x20[%eval\x200.13]\x20[%clk\x200:04:49]\x20}\x203.\x20c3\x20{\x20[%eval\x20-0.2]\x20[%clk\x200:04:55]\x20}\x203...\x20e6\x20{\x20[%eval\x20-0.17]\x20[%clk\x200:04:43]\x20}\x204.\x20Bd3\x20{\x20[%eval\x20-0.6]\x20[%clk\x200:04:53]\x20}\x204...\x20Bg6?!\x20{\x20(-0.60\x20→\x200.13)\x20Inaccuracy.\x20Bxd3\x20was\x20best.\x20}\x20{\x20[%eval\x200.13]\x20[%clk\x200:04:32]\x20}\x20(4...\x20Bxd3\x205.\x20Qxd3\x20Qg5\x206.\x20g3\x20Nc6\x207.\x20Nf3\x20Qg6\x208.\x20Qxg6\x20hxg6\x209.\x20b4)\x205.\x20Bxg6\x20{\x20[%eval\x20-0.16]\x20[%clk\x200:04:51]\x20}\x205...\x20hxg6\x20{\x20[%eval\x200.0]\x20[%clk\x200:04:31]\x20}\x206.\x20h3\x20{\x20[%eval\x20-0.15]\x20[%clk\x200:04:47]\x20}\x206...\x20f5\x20{\x20[%eval\x200.2]\x20[%clk\x200:04:29]\x20}\x207.\x20Nf3\x20{\x20[%eval\x20-0.02]\x20[%clk\x200:04:43]\x20}\x207...\x20Nc6\x20{\x20[%eval\x20-0.06]\x20[%clk\x200:04:22]\x20}\x208.\x20Ne5?\x20{\x20(-0.06\x20→\x20-1.26)\x20Mistake.\x20Qb3\x20was\x20best.\x20}\x20{\x20[%eval\x20-1.26]\x20[%clk\x200:04:37]\x20}\x20(8.\x20Qb3\x20a6)\x208...\x20Nxe5\x20{\x20[%eval\x20-1.2]\x20[%clk\x200:04:20]\x20}\x209.\x20dxe5\x20{\x20[%eval\x20-1.06]\x20[%clk\x200:04:35]\x20}\x209...\x20g5\x20{\x20[%eval\x20-1.2]\x20[%clk\x200:04:11]\x20}\x2010.\x20g3?!\x20{\x20(-1.20\x20→\x20-1.87)\x20Inaccuracy.\x20Qb3\x20was\x20best.\x20}\x20{\x20[%eval\x20-1.87]\x20[%clk\x200:04:25]\x20}\x20(10.\x20Qb3\x20Ne7)\x2010...\x20Ne7\x20{\x20[%eval\x20-1.76]\x20[%clk\x200:04:05]\x20}\x2011.\x20f4\x20{\x20[%eval\x20-1.61]\x20[%clk\x200:04:19]\x20}\x2011...\x20g4\x20{\x20[%eval\x20-1.46]\x20[%clk\x200:03:59]\x20}\x2012.\x20h4?\x20{\x20(-1.46\x20→\x20-2.66)\x20Mistake.\x20Qe2\x20was\x20best.\x20}\x20{\x20[%eval\x20-2.66]\x20[%clk\x200:04:17]\x20}\x20(12.\x20Qe2\x20Qd7)\x2012...\x20Qd7\x20{\x20[%eval\x20-2.1]\x20[%clk\x200:03:18]\x20}\x2013.\x20Na3\x20{\x20[%eval\x20-2.59]\x20[%clk\x200:04:06]\x20}\x2013...\x20Nc6\x20{\x20[%eval\x20-2.64]\x20[%clk\x200:03:10]\x20}\x2014.\x20Nc2\x20{\x20[%eval\x20-2.52]\x20[%clk\x200:03:57]\x20}\x2014...\x20g5\x20{\x20[%eval\x20-2.56]\x20[%clk\x200:03:02]\x20}\x2015.\x20Nd4?!\x20{\x20(-2.56\x20→\x20-3.38)\x20Inaccuracy.\x20e4\x20was\x20best.\x20}\x20{\x20[%eval\x20-3.38]\x20[%clk\x200:03:49]\x20}\x20(15.\x20e4\x20O-O-O)\x2015...\x20gxh4\x20{\x20[%eval\x20-3.53]\x20[%clk\x200:02:48]\x20}\x2016.\x20gxh4\x20{\x20[%eval\x20-3.35]\x20[%clk\x200:03:35]\x20}\x2016...\x20O-O-O\x20{\x20[%eval\x20-3.12]\x20[%clk\x200:02:38]\x20}\x2017.\x20Bd2\x20{\x20[%eval\x20-3.63]\x20[%clk\x200:03:31]\x20}\x2017...\x20Be7\x20{\x20[%eval\x20-3.3]\x20[%clk\x200:02:32]\x20}\x2018.\x20h5\x20{\x20[%eval\x20-3.84]\x20[%clk\x200:03:22]\x20}\x2018...\x20Rh6?!\x20{\x20(-3.84\x20→\x20-2.96)\x20Inaccuracy.\x20Nxd4\x20was\x20best.\x20}\x20{\x20[%eval\x20-2.96]\x20[%clk\x200:02:30]\x20}\x20(18...\x20Nxd4)\x2019.\x20Qc2?!\x20{\x20(-2.96\x20→\x20-4.43)\x20Inaccuracy.\x20Qa4\x20was\x20best.\x20}\x20{\x20[%eval\x20-4.43]\x20[%clk\x200:03:13]\x20}\x20(19.\x20Qa4\x20Nxd4)\x2019...\x20Rdh8\x20{\x20[%eval\x20-3.72]\x20[%clk\x200:02:26]\x20}\x2020.\x20O-O-O\x20{\x20[%eval\x20-4.2]\x20[%clk\x200:03:09]\x20}\x2020...\x20Rxh5\x20{\x20[%eval\x20-4.05]\x20[%clk\x200:02:24]\x20}\x2021.\x20Rxh5\x20{\x20[%eval\x20-4.06]\x20[%clk\x200:03:02]\x20}\x2021...\x20Rxh5\x20{\x20[%eval\x20-4.12]\x20[%clk\x200:02:23]\x20}\x2022.\x20Ne2\x20{\x20[%eval\x20-4.57]\x20[%clk\x200:02:54]\x20}\x2022...\x20Rh2\x20{\x20[%eval\x20-4.07]\x20[%clk\x200:02:02]\x20}\x2023.\x20Ng3?!\x20{\x20(-4.07\x20→\x20-5.54)\x20Inaccuracy.\x20Qd3\x20was\x20best.\x20}\x20{\x20[%eval\x20-5.54]\x20[%clk\x200:02:52]\x20}\x20(23.\x20Qd3\x20Na5\x2024.\x20b3\x20Qe8\x2025.\x20Be1\x20Kb8\x2026.\x20Kb1\x20a6\x2027.\x20Nd4\x20Bc5\x2028.\x20Nc2\x20Bb6\x2029.\x20Rd2\x20Rh3)\x2023...\x20Bh4\x20{\x20[%eval\x20-4.83]\x20[%clk\x200:01:52]\x20}\x2024.\x20Rg1?!\x20{\x20(-4.83\x20→\x20-7.59)\x20Inaccuracy.\x20Nf1\x20was\x20best.\x20}\x20{\x20[%eval\x20-7.59]\x20[%clk\x200:02:49]\x20}\x20(24.\x20Nf1)\x2024...\x20Bxg3\x20{\x20[%eval\x20-6.88]\x20[%clk\x200:01:47]\x20}\x2025.\x20Qd1\x20{\x20[%eval\x20-10.17]\x20[%clk\x200:02:33]\x20}\x2025...\x20Rh3\x20{\x20[%eval\x20-8.18]\x20[%clk\x200:01:25]\x20}\x2026.\x20Rh1\x20{\x20[%eval\x20-8.7]\x20[%clk\x200:02:30]\x20}\x2026...\x20Qh7\x20{\x20[%eval\x20-10.1]\x20[%clk\x200:01:20]\x20}\x2027.\x20Rxh3\x20{\x20[%eval\x20-11.8]\x20[%clk\x200:02:15]\x20}\x2027...\x20Qxh3\x20{\x20[%eval\x20-10.26]\x20[%clk\x200:01:06]\x20}\x2028.\x20b4\x20{\x20[%eval\x20-10.4]\x20[%clk\x200:02:07]\x20}\x2028...\x20Bf2\x20{\x20[%eval\x20-10.86]\x20[%clk\x200:01:00]\x20}\x2029.\x20Be1\x20{\x20[%eval\x20-12.1]\x20[%clk\x200:02:01]\x20}\x2029...\x20Qxe3+\x20{\x20[%eval\x20-12.83]\x20[%clk\x200:00:54]\x20}\x2030.\x20Bd2\x20{\x20[%eval\x20-12.01]\x20[%clk\x200:01:59]\x20}\x2030...\x20Qd3\x20{\x20[%eval\x20-12.18]\x20[%clk\x200:00:47]\x20}\x2031.\x20Qh1\x20{\x20[%eval\x20-12.81]\x20[%clk\x200:01:47]\x20}\x2031...\x20Qh3\x20{\x20[%eval\x20-12.35]\x20[%clk\x200:00:40]\x20}\x2032.\x20Qxh3\x20{\x20[%eval\x20-14.37]\x20[%clk\x200:01:36]\x20}\x2032...\x20gxh3\x20{\x20[%eval\x20-13.98]\x20[%clk\x200:00:38]\x20}\x20{\x20White\x20resigns.\x20}\x200-1','rgba(','undefined','mhdzo-studylines\x202021-03-09','1.\x20e4\x20{\x20[%eval\x200.25]\x20[%clk\x200:05:00]\x20}\x201...\x20e5\x20{\x20[%eval\x200.31]\x20[%clk\x200:05:00]\x20}\x202.\x20Nf3\x20{\x20[%eval\x200.28]\x20[%clk\x200:04:59]\x20}\x202...\x20Nf6\x20{\x20[%eval\x200.48]\x20[%clk\x200:04:58]\x20}\x203.\x20Nxe5\x20{\x20[%eval\x200.43]\x20[%clk\x200:04:54]\x20}\x203...\x20Nc6??\x20{\x20(0.43\x20→\x202.25)\x20Blunder.\x20d6\x20was\x20best.\x20}\x20{\x20[%eval\x202.25]\x20[%clk\x200:04:57]\x20}\x20(3...\x20d6\x204.\x20Nf3\x20Nxe4\x205.\x20Bd3\x20Nc5\x206.\x20Be2\x20Be7\x207.\x20c4\x20O-O\x208.\x20Nc3)\x204.\x20Nxc6\x20{\x20[%eval\x201.61]\x20[%clk\x200:04:52]\x20}\x204...\x20dxc6\x20{\x20[%eval\x201.84]\x20[%clk\x200:04:57]\x20}\x20{\x20C42\x20Russian\x20Game:\x20Stafford\x20Gambit\x20}\x205.\x20e5?!\x20{\x20(1.84\x20→\x200.95)\x20Inaccuracy.\x20Nc3\x20was\x20best.\x20}\x20{\x20[%eval\x200.95]\x20[%clk\x200:04:50]\x20}\x20(5.\x20Nc3\x20Bc5\x206.\x20Qe2\x20Be6\x207.\x20d3\x20Qe7\x208.\x20g3\x20O-O-O\x209.\x20Bg2\x20a6)\x205...\x20Ng4?!\x20{\x20(0.95\x20→\x201.73)\x20Inaccuracy.\x20Nd5\x20was\x20best.\x20}\x20{\x20[%eval\x201.73]\x20[%clk\x200:04:53]\x20}\x20(5...\x20Nd5\x206.\x20d4\x20Bf5\x207.\x20c3\x20Qd7\x208.\x20Bd3\x20c5\x209.\x20Bxf5\x20Qxf5\x2010.\x20Qa4+)\x206.\x20d4\x20{\x20[%eval\x201.8]\x20[%clk\x200:04:43]\x20}\x206...\x20c5?\x20{\x20(1.80\x20→\x203.35)\x20Mistake.\x20Be6\x20was\x20best.\x20}\x20{\x20[%eval\x203.35]\x20[%clk\x200:04:49]\x20}\x20(6...\x20Be6\x207.\x20Nc3\x20Qd7\x208.\x20f3\x20Nh6\x209.\x20Bxh6\x20gxh6\x2010.\x20Qd3\x20O-O-O\x2011.\x20O-O-O)\x207.\x20Be2??\x20{\x20(3.35\x20→\x200.31)\x20Blunder.\x20h3\x20was\x20best.\x20}\x20{\x20[%eval\x200.31]\x20[%clk\x200:04:26]\x20}\x20(7.\x20h3\x20Nh6\x208.\x20d5\x20Qe7\x209.\x20Bb5+\x20Bd7\x2010.\x20Bxd7+\x20Qxd7\x2011.\x20c4\x20Nf5)\x207...\x20Qh4??\x20{\x20(0.31\x20→\x203.44)\x20Blunder.\x20Qxd4\x20was\x20best.\x20}\x20{\x20[%eval\x203.44]\x20[%clk\x200:04:37]\x20}\x20(7...\x20Qxd4\x208.\x20Qxd4\x20cxd4\x209.\x20Bf4\x20Bf5\x2010.\x20Nd2\x20f6\x2011.\x20exf6\x20gxf6\x2012.\x20O-O)\x208.\x20g3\x20{\x20[%eval\x203.52]\x20[%clk\x200:03:44]\x20}\x208...\x20Qh3\x20{\x20[%eval\x203.61]\x20[%clk\x200:04:30]\x20}\x209.\x20Bf1\x20{\x20[%eval\x203.25]\x20[%clk\x200:03:36]\x20}\x209...\x20Qh5\x20{\x20[%eval\x203.45]\x20[%clk\x200:04:22]\x20}\x2010.\x20h3\x20{\x20[%eval\x203.58]\x20[%clk\x200:03:30]\x20}\x2010...\x20cxd4\x20{\x20[%eval\x203.16]\x20[%clk\x200:03:58]\x20}\x2011.\x20Be2\x20{\x20[%eval\x203.31]\x20[%clk\x200:03:27]\x20}\x2011...\x20Qxe5\x20{\x20[%eval\x203.5]\x20[%clk\x200:03:36]\x20}\x2012.\x20hxg4\x20{\x20[%eval\x203.63]\x20[%clk\x200:03:16]\x20}\x2012...\x20Bb4+?!\x20{\x20(3.63\x20→\x205.16)\x20Inaccuracy.\x20Bxg4\x20was\x20best.\x20}\x20{\x20[%eval\x205.16]\x20[%clk\x200:03:28]\x20}\x20(12...\x20Bxg4\x2013.\x20Kf1)\x2013.\x20Bd2\x20{\x20[%eval\x204.5]\x20[%clk\x200:03:05]\x20}\x2013...\x20Bxd2+\x20{\x20[%eval\x204.38]\x20[%clk\x200:03:22]\x20}\x2014.\x20Nxd2\x20{\x20[%eval\x204.6]\x20[%clk\x200:02:40]\x20}\x2014...\x20Qd5?!\x20{\x20(4.60\x20→\x205.97)\x20Inaccuracy.\x20Bxg4\x20was\x20best.\x20}\x20{\x20[%eval\x205.97]\x20[%clk\x200:03:10]\x20}\x20(14...\x20Bxg4\x2015.\x20Kf1)\x2015.\x20Bf3\x20{\x20[%eval\x205.83]\x20[%clk\x200:02:24]\x20}\x2015...\x20Qe5+\x20{\x20[%eval\x205.94]\x20[%clk\x200:03:00]\x20}\x2016.\x20Qe2\x20{\x20[%eval\x205.86]\x20[%clk\x200:02:18]\x20}\x2016...\x20Qxe2+\x20{\x20[%eval\x205.6]\x20[%clk\x200:02:56]\x20}\x2017.\x20Bxe2\x20{\x20[%eval\x205.48]\x20[%clk\x200:02:16]\x20}\x2017...\x20Be6\x20{\x20[%eval\x205.89]\x20[%clk\x200:02:51]\x20}\x2018.\x20O-O-O\x20{\x20[%eval\x205.87]\x20[%clk\x200:02:11]\x20}\x2018...\x20O-O\x20{\x20[%eval\x206.32]\x20[%clk\x200:02:40]\x20}\x2019.\x20Bd3\x20{\x20[%eval\x206.21]\x20[%clk\x200:02:03]\x20}\x2019...\x20g6\x20{\x20[%eval\x206.17]\x20[%clk\x200:02:36]\x20}\x2020.\x20f3\x20{\x20[%eval\x206.12]\x20[%clk\x200:01:55]\x20}\x2020...\x20Rae8\x20{\x20[%eval\x206.87]\x20[%clk\x200:02:32]\x20}\x2021.\x20Nb3\x20{\x20[%eval\x205.64]\x20[%clk\x200:01:51]\x20}\x2021...\x20Bd5\x20{\x20[%eval\x205.52]\x20[%clk\x200:02:28]\x20}\x2022.\x20Rh2??\x20{\x20(5.52\x20→\x202.18)\x20Blunder.\x20Nxd4\x20was\x20best.\x20}\x20{\x20[%eval\x202.18]\x20[%clk\x200:01:36]\x20}\x20(22.\x20Nxd4\x20c5)\x2022...\x20Bxf3\x20{\x20[%eval\x202.0]\x20[%clk\x200:02:23]\x20}\x2023.\x20Rf1\x20{\x20[%eval\x201.94]\x20[%clk\x200:01:23]\x20}\x2023...\x20Bxg4\x20{\x20[%eval\x201.87]\x20[%clk\x200:02:19]\x20}\x2024.\x20Nxd4\x20{\x20[%eval\x202.21]\x20[%clk\x200:01:17]\x20}\x2024...\x20Re3\x20{\x20[%eval\x202.12]\x20[%clk\x200:02:01]\x20}\x2025.\x20Rg1\x20{\x20[%eval\x201.87]\x20[%clk\x200:00:52]\x20}\x2025...\x20Rfe8\x20{\x20[%eval\x202.34]\x20[%clk\x200:01:44]\x20}\x2026.\x20b3\x20{\x20[%eval\x201.97]\x20[%clk\x200:00:48]\x20}\x2026...\x20Re1+\x20{\x20[%eval\x202.52]\x20[%clk\x200:01:37]\x20}\x2027.\x20Rxe1\x20{\x20[%eval\x202.58]\x20[%clk\x200:00:46]\x20}\x2027...\x20Rxe1+\x20{\x20[%eval\x202.64]\x20[%clk\x200:01:36]\x20}\x2028.\x20Kd2\x20{\x20[%eval\x202.31]\x20[%clk\x200:00:44]\x20}\x2028...\x20Rg1\x20{\x20[%eval\x202.76]\x20[%clk\x200:01:32]\x20}\x2029.\x20Ne2\x20{\x20[%eval\x202.32]\x20[%clk\x200:00:37]\x20}\x2029...\x20Ra1\x20{\x20[%eval\x202.63]\x20[%clk\x200:01:25]\x20}\x2030.\x20a4\x20{\x20[%eval\x202.47]\x20[%clk\x200:00:36]\x20}\x2030...\x20Ra2?\x20{\x20(2.47\x20→\x204.71)\x20Mistake.\x20Kg7\x20was\x20best.\x20}\x20{\x20[%eval\x204.71]\x20[%clk\x200:01:18]\x20}\x20(30...\x20Kg7)\x2031.\x20Bc4\x20{\x20[%eval\x204.38]\x20[%clk\x200:00:33]\x20}\x2031...\x20Bf5\x20{\x20[%eval\x205.52]\x20[%clk\x200:01:13]\x20}\x2032.\x20Nd4\x20{\x20[%eval\x205.62]\x20[%clk\x200:00:29]\x20}\x2032...\x20c5?!\x20{\x20(5.62\x20→\x207.82)\x20Inaccuracy.\x20Bd7\x20was\x20best.\x20}\x20{\x20[%eval\x207.82]\x20[%clk\x200:01:04]\x20}\x20(32...\x20Bd7)\x2033.\x20Nxf5\x20{\x20[%eval\x207.41]\x20[%clk\x200:00:26]\x20}\x2033...\x20gxf5\x20{\x20[%eval\x207.71]\x20[%clk\x200:01:04]\x20}\x2034.\x20Rf2\x20{\x20[%eval\x207.85]\x20[%clk\x200:00:24]\x20}\x2034...\x20Kg7\x20{\x20[%eval\x208.2]\x20[%clk\x200:00:56]\x20}\x2035.\x20Rxf5\x20{\x20[%eval\x208.08]\x20[%clk\x200:00:23]\x20}\x2035...\x20f6\x20{\x20[%eval\x208.1]\x20[%clk\x200:00:53]\x20}\x2036.\x20Rxc5\x20{\x20[%eval\x208.46]\x20[%clk\x200:00:22]\x20}\x2036...\x20Ra1\x20{\x20[%eval\x208.63]\x20[%clk\x200:00:51]\x20}\x2037.\x20Rc7+\x20{\x20[%eval\x208.66]\x20[%clk\x200:00:21]\x20}\x2037...\x20Kg6\x20{\x20[%eval\x208.91]\x20[%clk\x200:00:49]\x20}\x2038.\x20Rxb7\x20{\x20[%eval\x208.78]\x20[%clk\x200:00:20]\x20}\x2038...\x20h5\x20{\x20[%eval\x208.88]\x20[%clk\x200:00:47]\x20}\x2039.\x20Rxa7\x20{\x20[%eval\x209.31]\x20[%clk\x200:00:18]\x20}\x2039...\x20Kg5\x20{\x20[%eval\x209.95]\x20[%clk\x200:00:47]\x20}\x2040.\x20Ra5+\x20{\x20[%eval\x209.31]\x20[%clk\x200:00:16]\x20}\x2040...\x20Kg4\x20{\x20[%eval\x2010.18]\x20[%clk\x200:00:45]\x20}\x2041.\x20Be6+\x20{\x20[%eval\x209.37]\x20[%clk\x200:00:15]\x20}\x2041...\x20Kxg3\x20{\x20[%eval\x209.51]\x20[%clk\x200:00:41]\x20}\x2042.\x20Rxh5\x20{\x20[%eval\x209.71]\x20[%clk\x200:00:13]\x20}\x2042...\x20Rf1\x20{\x20[%eval\x2010.17]\x20[%clk\x200:00:37]\x20}\x2043.\x20Rg5+??\x20{\x20(10.17\x20→\x200.00)\x20Blunder.\x20c4\x20was\x20best.\x20}\x20{\x20[%eval\x200.0]\x20[%clk\x200:00:11]\x20}\x20(43.\x20c4\x20f5\x2044.\x20c5\x20f4\x2045.\x20Rh3+\x20Kg2\x2046.\x20c6\x20Rf2+\x2047.\x20Kd3\x20Rf1\x2048.\x20c7\x20Rc1\x2049.\x20c8=Q\x20Rxc8)\x2043...\x20Kf4??\x20{\x20(0.00\x20→\x20Mate\x20in\x2012)\x20Checkmate\x20is\x20now\x20unavoidable.\x20fxg5\x20was\x20best.\x20}\x20{\x20[%eval\x20#12]\x20[%clk\x200:00:35]\x20}\x20(43...\x20fxg5\x2044.\x20b4\x20Kf4\x2045.\x20a5\x20Ke5\x2046.\x20Bc8\x20g4\x2047.\x20Bxg4\x20Rf4\x2048.\x20Be2\x20Rxb4\x2049.\x20Kc3\x20Rb1\x2050.\x20Kc4)\x2044.\x20Rg8?\x20{\x20(Mate\x20in\x2012\x20→\x208.21)\x20Lost\x20forced\x20checkmate\x20sequence.\x20Rf5+\x20was\x20best.\x20}\x20{\x20[%eval\x208.21]\x20[%clk\x200:00:08]\x20}\x20(44.\x20Rf5+\x20Ke4\x2045.\x20Rxf1\x20Ke5\x2046.\x20Bh3\x20Kd6\x2047.\x20Rxf6+\x20Kd5\x2048.\x20a5\x20Ke5\x2049.\x20Rf7\x20Kd6\x2050.\x20a6\x20Kd5)\x2044...\x20Ke5\x20{\x20[%eval\x208.15]\x20[%clk\x200:00:34]\x20}\x2045.\x20Bc4\x20{\x20[%eval\x208.56]\x20[%clk\x200:00:07]\x20}\x2045...\x20f5?\x20{\x20(8.56\x20→\x20Mate\x20in\x2012)\x20Checkmate\x20is\x20now\x20unavoidable.\x20Ra1\x20was\x20best.\x20}\x20{\x20[%eval\x20#12]\x20[%clk\x200:00:33]\x20}\x20(45...\x20Ra1\x2046.\x20Ra8)\x2046.\x20Rf8?\x20{\x20(Mate\x20in\x2012\x20→\x208.72)\x20Lost\x20forced\x20checkmate\x20sequence.\x20Bxf1\x20was\x20best.\x20}\x20{\x20[%eval\x208.72]\x20[%clk\x200:00:06]\x20}\x20(46.\x20Bxf1\x20Kf6\x2047.\x20Rf8+\x20Kg5\x2048.\x20Bd3\x20f4\x2049.\x20a5\x20f3\x2050.\x20Rxf3\x20Kh4\x2051.\x20Rf5\x20Kg3\x2052.\x20a6\x20Kg2)\x2046...\x20f4?\x20{\x20(8.72\x20→\x20Mate\x20in\x2010)\x20Checkmate\x20is\x20now\x20unavoidable.\x20Ra1\x20was\x20best.\x20}\x20{\x20[%eval\x20#10]\x20[%clk\x200:00:32]\x20}\x20(46...\x20Ra1\x2047.\x20Kc3)\x2047.\x20a5?\x20{\x20(Mate\x20in\x2010\x20→\x209.27)\x20Lost\x20forced\x20checkmate\x20sequence.\x20Bxf1\x20was\x20best.\x20}\x20{\x20[%eval\x209.27]\x20[%clk\x200:00:04]\x20}\x20(47.\x20Bxf1\x20Kd4\x2048.\x20a5\x20Kc5\x2049.\x20Rxf4\x20Kc6\x2050.\x20a6\x20Kb6\x2051.\x20Rf7\x20Kc6\x2052.\x20a7\x20Kb6\x2053.\x20a8=Q\x20Kc5)\x2047...\x20f3?\x20{\x20(9.27\x20→\x20Mate\x20in\x209)\x20Checkmate\x20is\x20now\x20unavoidable.\x20Ra1\x20was\x20best.\x20}\x20{\x20[%eval\x20#9]\x20[%clk\x200:00:31]\x20}\x20(47...\x20Ra1\x2048.\x20b4)\x2048.\x20a6?!\x20{\x20(Mate\x20in\x209\x20→\x2010.77)\x20Lost\x20forced\x20checkmate\x20sequence.\x20Bxf1\x20was\x20best.\x20}\x20{\x20[%eval\x2010.77]\x20[%clk\x200:00:04]\x20}\x20(48.\x20Bxf1\x20Ke6\x2049.\x20Rxf3\x20Kd5\x2050.\x20a6\x20Ke4\x2051.\x20Rf7\x20Ke5\x2052.\x20a7\x20Ke6\x2053.\x20Bc4+\x20Kd6\x2054.\x20a8=Q\x20Kc5)\x2048...\x20f2?!\x20{\x20(10.77\x20→\x20Mate\x20in\x206)\x20Checkmate\x20is\x20now\x20unavoidable.\x20Ra1\x20was\x20best.\x20}\x20{\x20[%eval\x20#6]\x20[%clk\x200:00:29]\x20}\x20(48...\x20Ra1\x2049.\x20Ke3)\x2049.\x20a7?!\x20{\x20(Mate\x20in\x206\x20→\x2072.85)\x20Lost\x20forced\x20checkmate\x20sequence.\x20Bxf1\x20was\x20best.\x20}\x20{\x20[%eval\x2072.85]\x20[%clk\x200:00:03]\x20}\x20(49.\x20Bxf1\x20Ke6\x2050.\x20a7\x20Ke5\x2051.\x20a8=Q\x20Kd6\x2052.\x20Qa5\x20Kc6\x2053.\x20Rd8\x20Kb7\x2054.\x20Bg2#)\x2049...\x20Kd6?!\x20{\x20(72.85\x20→\x20Mate\x20in\x205)\x20Checkmate\x20is\x20now\x20unavoidable.\x20Ra1\x20was\x20best.\x20}\x20{\x20[%eval\x20#5]\x20[%clk\x200:00:25]\x20}\x20(49...\x20Ra1\x2050.\x20a8=Q)\x2050.\x20a8=Q\x20{\x20[%eval\x20#5]\x20[%clk\x200:00:01]\x20}\x2050...\x20Kc5\x20{\x20[%eval\x20#3]\x20[%clk\x200:00:25]\x20}\x2051.\x20Qa5+\x20{\x20[%eval\x20#2]\x20[%clk\x200:00:01]\x20}\x2051...\x20Kd4\x20{\x20[%eval\x20#1]\x20[%clk\x200:00:24]\x20}\x20{\x20Black\x20wins\x20on\x20time.\x20}\x200-1','87654321','trail','PGN','top','counter','next','Checkmate,\x20','1.\x20e4\x20e5\x202.\x20Nf3\x20d6\x203.\x20d4\x20Bg4\x20{\x20[%ar\x20Re5d4]\x20[%ar\x20Gf3d4]\x20[%ar\x20Rg4d1]\x20}\x204.\x20dxe5\x20{\x20[%ar\x20Rd6e5]\x20[%ar\x20Rd1d8]\x20[%ar\x20Be8d8]\x20}\x204...\x20Bxf3\x205.\x20Qxf3\x20dxe5\x206.\x20Bc4\x20{\x20[%ar\x20Rf3f7]\x20[%ar\x20Gc4f7]\x20[%ar\x20Rf7e8]\x20[%sq\x20Re8]\x20}\x206...\x20Nf6\x207.\x20Qb3\x20{\x20[%ar\x20Rb3f7]\x20[%ar\x20Rb3b7]\x20}\x207...\x20Qe7\x20{\x20[%ar\x20Ge7f7]\x20[%ar\x20Rb3b7]\x20}\x208.\x20Nc3\x20c6\x20{\x20[%ar\x20Ge7b7]\x20}\x209.\x20Bg5\x20b5\x20{\x20[%ar\x20Yc3b5]\x20}\x2010.\x20Nxb5\x20cxb5\x2011.\x20Bxb5+\x20{\x20[%ar\x20Rb5e8]\x20}\x2011...\x20Nbd7\x2012.\x200-0-0\x20{\x20[%ar\x20Rb5d7]\x20[%ar\x20Rd1d7]\x20}\x2012...\x20Rd8\x20{\x20[%ar\x20Yd1d7]\x20}\x2013.\x20Rxd7\x20Rxd7\x2014.\x20Rd1\x20{\x20[%ar\x20Rd1d7]\x20[%ar\x20Rb5d7]\x20}\x2014...\x20Qe6\x20{\x20[%ar\x20Bg5e7]\x20}\x2015.\x20Bxd7+\x20Nxd7\x20{\x20[%ar\x20Yb3b8]\x20}\x2016.\x20Qb8+\x20Nxb8\x2017.\x20Rd8#\x20{\x20[%ar\x20Gg5d8]\x20[%ar\x20Rd8e8]\x20[%ar\x20Rd8d7]\x20[%sq\x20Re8]\x20[%sq\x20Rd7]\x20[%sq\x20Bh8]\x20[%sq\x20Bf8]\x20[%sq\x20Bb8]\x20[%sq\x20Be6]\x20[%sq\x20Yg5]\x20[%sq\x20Yd8]\x20}\x201-0','fifty','Saved\x20setup\x20position','sideline','attackSpots','annotatedPgnString','left','squareNames','abs','has','BACKGROUND','targetSquares','moves','load','getBoundingClientRect','KNN','restore','0-1','clickPgn','CTRL','WYHN\x20-\x20studylines\x202021','indexP\x20out\x20of\x20range:\x20','Mobility','2eezupZ','init','flip','arrows','pos','SHIFT','Gauri\x20-\x20Nakamura\x202015','savedFen','squares','split','1/2-1/2','arc','No\x20pawn\x20move\x20or\x20capture\x20in\x2050\x20moves,\x20its\x20a\x20draw!','123456789','textAlign','bR2','get','CTRLSHIFT','which','leftPiece','set','Anonymous','evt','button','Philidor\x20','2N5/8/8/3k4/K7/8/8/3B4\x20w\x20KQkq\x20-\x200\x201','state','Pgn\x20move:\x20doMove\x20fail,\x20see\x20console.log!','piece','prevImageData','undefined\x20event\x20in\x20setEvent()','White\x20wins\x20(Rh8-Zugzwang)','1786460EmfHEN','last','replace','COLOR','length','Eval','indexOf','lineTo','cos','RIGHTUP','spaces','eventTimer','TEXT','clicked','lineWidth','drawImage','target','src','comments','1.\x20e4\x20e5\x202.\x20f4\x20{King\x27s\x20gambit}\x202...\x20exf4\x203.\x20Bc4\x20{\x20[%ar\x20Yg1f3]\x20}\x203...\x20Qh4+\x204.\x20Kf1\x20b5\x20{Bryan\x20Countergambit}\x205.\x20Bxb5\x20Nf6\x206.\x20Nf3\x20Qh6\x207.\x20d3\x20{\x20[%ar\x20Yb1c3]\x20}\x207...\x20Nh5\x208.\x20Nh4\x20Qg5\x20{\x20[%ar\x20Yg7g6]\x20}\x209.\x20Nf5\x20c6\x20{\x20[%ar\x20Yg7g6]\x20[%ar\x20Rc6b5]\x20}\x2010.\x20g4\x20{\x20[%ar\x20Rc6b5]\x20[%ar\x20Rg4h5]\x20}\x2010...\x20Nf6\x2011.\x20Rg1\x20{\x20[%ar\x20Rc6b5]\x20}\x2011...\x20cxb5\x20{Blunder}\x20{[%eval\x20+3]}\x20{\x20[%ar\x20Yh7h5]\x20}\x2012.\x20h4\x20{\x20[%ar\x20Gf5h4]\x20}\x2012...\x20Qg6\x2013.\x20h5\x20Qg5\x2014.\x20Qf3\x20{\x20[%ar\x20Rc1f4]\x20[%ar\x20Re4e5]\x20[%ar\x20Be5f6]\x20[%ar\x20Bf3a8]\x20}\x2014...\x20Ng8\x2015.\x20Bxf4\x20Qf6\x2016.\x20Nc3\x20Bc5\x20{\x20[%ar\x20Rc5g1]\x20}\x2017.\x20Nd5\x20{\x20[%ar\x20Rd5f6]\x20[%ar\x20Rd5c7]\x20[%ar\x20Bc7e8]\x20[%ar\x20Bc7a8]\x20}\x2017...\x20Qxb2\x20{\x20[%ar\x20Rb2a1]\x20[%ar\x20Ra1g1]\x20}\x2018.\x20Bd6\x20{\x20[%ar\x20Yd3d4]\x20[%ar\x20Yf4e3]\x20[%ar\x20Ya1e1]\x20}\x2018...\x20Bxg1\x20{\x20[%ar\x20Yb2a1]\x20}\x2019.\x20e5\x20{\x20[%ar\x20Rf5g7]\x20[%ar\x20Ge8d8]\x20[%ar\x20Rd6c7]\x20[%ar\x20Rc7d8]\x20[%sq\x20Rd8]\x20}\x2019...\x20Qxa1+\x2020.\x20Ke2\x20Na6\x2021.\x20Nxg7+\x20{\x20[%ar\x20Rg7e8]\x20}\x2021...\x20Kd8\x2022.\x20Qf6+\x20{\x20[%ar\x20Rf6d8]\x20}\x2022...\x20Nxf6\x2023.\x20Be7#\x20{\x20[%ar\x20Re7d8]\x20[%sq\x20Rd8]\x20}\x200-1','Immortal\x20game\x20Kieseritzky\x20va\x20Anderssen\x201851','bold','Sholars\x20mate\x20e5\x20Nf3\x20Nc6','initFen','push','r1k4r/ppp1bq1p/2n1N3/6B1/3p2Q1/8/PPP2PPP/R5K1\x20w\x20KQkq\x20-\x200\x201','lastEvent','SETUP.SIDECLICK','KNB\x20checkmate\x20in\x2033','ptrCursor','rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR\x20w\x20KQkq\x20-\x200\x201','attacks','IDLE','CTRLSHIFTMOUSEDOWN','addButton','pgn\x20loaded','closePath','Unambiguation\x20test','undefined\x20nextStateValue\x20in\x20Game.setNextState()','abcdefgh','k7/1r6/2K5/7Q/8/8/8/8\x20w\x20KQkq\x20-\x200\x201','comment:\x20','Promotion\x20test','Position.nextIndex:\x20no\x20index\x20found\x20in\x20this\x20pos\x20for\x20piece:\x20','1.\x20e4\x20b6\x20{\x20[%ar\x20Rc8b7]\x20[%ar\x20Rb7h1]\x20}\x202.\x20d4\x20Bb7\x20{\x20[%ar\x20Rb7e4]\x20}\x203.\x20Bd3\x20{\x20[%ar\x20Gd3e4]\x20[%ar\x20Rb7e4]\x20}\x203...\x20f5\x20{\x20[%ar\x20Rb7e4]\x20[%ar\x20Gd3e4]\x20[%ar\x20Rf5e4]\x20}\x204.\x20exf5\x20Bxg2\x20{\x20[%ar\x20Rg2h1]\x20}\x205.\x20Qh5+\x20{\x20[%ar\x20Rh5e8]\x20}\x205...\x20g6\x206.\x20fxg6\x20Nf6\x20{\x20[%ar\x20Rf6h5]\x20}\x207.\x20gxh7+\x20{\x20[%ar\x20Rh5e8]\x20}\x207...\x20Nxh5\x208.\x20Bg6#\x20{\x20[%ar\x20Yg6e8]\x20[%sq\x20Ye8]\x20[%sq\x20Yf7]\x20}\x201-0','MOUSEWHEEL','275306XWCIwa','KEYDOWN','pcs','clipboard','CLICKED','nextStateValue','STATUS','sin','strokeStyle','#0000ff','aniPhases','studylines-okta39\x202021-03-08','getImageData','BUTTON','setWH','NOSVG','SETUP','1.\x20d4\x20f5\x20{Dutch\x20Defense}\x202.\x20Nf3\x20e6\x203.\x20Nc3\x20Nf6\x204.\x20Bg5\x20Be7\x205.\x20Bxf6\x20Bxf6\x206.\x20e4\x20fxe4\x207.\x20Nxe4\x20b6\x208.\x20Bd3\x20Bb7\x209.\x20Ne5\x200-0\x2010.\x20Qh5\x20Qe7\x20{(0.0\x20→\x20#7)\x20Blunder,\x20Bxe5\x20was\x20best}\x20{[%eval\x20#7]}\x20{\x20[%ar\x20Yh5h7]\x20}\x2011.\x20Qxh7+\x20{\x20[%ar\x20Bg8h7]\x20}\x2011...\x20Kxh7\x20{\x20[%ar\x20Bg8h7]\x20}\x2012.\x20Nxf6+\x20{\x20[%ar\x20Bh7h6]\x20[%ar\x20Bg8h7]\x20[%ar\x20Rd3h7]\x20[%ar\x20Ge5g6]\x20[%ar\x20Gg6h8]\x20[%ar\x20Gg6e7]\x20[%sq\x20Rg8]\x20[%sq\x20Rg6]\x20[%sq\x20Gh8]\x20[%sq\x20Rh7]\x20}\x2012...\x20Kh6\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20}\x2013.\x20Neg4+\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%sq\x20Rh7]\x20[%sq\x20Rg6]\x20[%sq\x20Rh5]\x20}\x2013...\x20Kg5\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20}\x2014.\x20h4+\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%ar\x20Bg5f4]\x20[%sq\x20Rh5]\x20[%sq\x20Rh6]\x20[%sq\x20Rg6]\x20[%sq\x20Rf5]\x20[%sq\x20Rf6]\x20[%sq\x20Rg4]\x20[%sq\x20Rh4]\x20}\x2014...\x20Kf4\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%ar\x20Bg5f4]\x20}\x2015.\x20g3+\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%ar\x20Bg5f4]\x20[%ar\x20Bf4f3]\x20[%sq\x20Rf5]\x20[%sq\x20Re5]\x20[%sq\x20Rg5]\x20[%sq\x20Rg4]\x20[%sq\x20Re4]\x20[%sq\x20Re3]\x20}\x2015...\x20Kf3\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%ar\x20Bg5f4]\x20[%ar\x20Bf4f3]\x20}\x2016.\x20Be2+\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%ar\x20Bg5f4]\x20[%ar\x20Bf4f3]\x20[%ar\x20Bf3g2]\x20[%sq\x20Rf4]\x20[%sq\x20Re4]\x20[%sq\x20Re3]\x20[%sq\x20Rg4]\x20[%sq\x20Rg3]\x20[%sq\x20Rf2]\x20[%sq\x20Re2]\x20}\x2016...\x20Kg2\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%ar\x20Bg5f4]\x20[%ar\x20Bf4f3]\x20[%ar\x20Bf3g2]\x20}\x2017.\x20Rh2+\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%ar\x20Bg5f4]\x20[%ar\x20Bf4f3]\x20[%ar\x20Bf3g2]\x20[%ar\x20Bg2g1]\x20[%sq\x20Rf3]\x20[%sq\x20Rg3]\x20[%sq\x20Rh3]\x20[%sq\x20Rh2]\x20[%sq\x20Rf2]\x20[%sq\x20Rh1]\x20[%sq\x20Rf1]\x20}\x2017...\x20Kg1\x20{\x20[%ar\x20Ye1d2]\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%ar\x20Bg5f4]\x20[%ar\x20Bf4f3]\x20[%ar\x20Bf3g2]\x20[%ar\x20Bg2g1]\x20[%ar\x20Ra1g1]\x20[%ar\x20Gg4h2]\x20[%ar\x20Gg4f2]\x20[%sq\x20Rh1]\x20[%sq\x20Rg2]\x20}\x2018.\x200-0-0#\x20{\x20[%ar\x20Bg8h7]\x20[%ar\x20Bh7h6]\x20[%ar\x20Bh6g5]\x20[%ar\x20Bg5f4]\x20[%ar\x20Bf4f3]\x20[%ar\x20Bf3g2]\x20[%ar\x20Bg2g1]\x20[%ar\x20Gg4h2]\x20[%ar\x20Gg4f2]\x20[%ar\x20Rd1g1]\x20[%sq\x20Rg2]\x20[%sq\x20Rh1]\x20}\x201-0','0-0-0','1.\x20e4\x20c5\x202.\x20Nf3\x20Nc6\x203.\x20d4\x20cxd4\x204.\x20Nxd4\x20e5\x205.\x20Nb5\x20d6\x206.\x20N1c3\x20a6\x207.\x20Na3\x20Nf6\x208.\x20Bg5\x20Be7\x209.\x20Bxf6\x20gxf6\x2010.\x20Qh5\x20Be6\x2011.\x20Bc4\x20Bxc4\x2012.\x20Nxc4\x20b5\x2013.\x20Ne3\x20Qa5\x2014.\x20O-O\x20Nd4\x2015.\x20Ncd5\x20Ra7\x2016.\x20Rfd1\x20Rd7\x2017.\x20c3\x20Ne6\x2018.\x20Nxe7\x20Kxe7\x2019.\x20Nd5+\x20Kd8\x2020.\x20Nxf6\x20Nf4\x2021.\x20Qf5\x20Qc7\x2022.\x20Nxd7\x20Qxd7\x2023.\x20Qf6+','daw','defaultText','Fool\x27s\x20mate\x20-\x20Greco\x20vs.\x20NN\x201625','enabled','eval','a8=Q','Morphys\x20mate\x20w\x20in\x206','All','includes','1.\x20e4\x20c5\x202.\x20Nf3\x20d6\x203.\x20d4\x20cxd4\x204.\x20Nxd4\x20Nf6\x205.\x20Nc3\x20a6\x206.\x20Bg5\x20e6\x207.\x20f4\x20Be7\x208.\x20Qf3\x20Qc7\x209.\x20f5\x20Nc6\x2010.\x20Nxc6\x20bxc6\x2011.\x20g4\x20d5\x2012.\x200-0-0\x20Rb8\x2013.\x20Bf4\x20e5\x2014.\x20Bg3\x200-0\x2015.\x20h4\x20dxe4\x2016.\x20Nxe4\x20Qa5\x2017.\x20Bc4\x20Nxe4\x2018.\x20Qxe4\x20Rxb2\x2019.\x20Kxb2\x20Ba3+\x2020.\x20Kb1\x20Qb4+','mousedown','PGN\x20move...','w\x20draws\x20(Ne7-d5-Nc6)','636323yNqCyl','inside','3q4/p1p5/2p3k1/2b2pP1/P1N4K/6PP/1QP2r2/2BR4\x20b\x20-\x20-\x200\x201','mouseup','modified','1.\x20e4\x20e5\x202.\x20Nf3\x20f6\x203.\x20Nxe5\x20fxe5\x204.\x20Qh5+\x20Ke7\x205.\x20Qxe5+\x20Kf7\x206.\x20Bc4+\x20Kg6\x207.\x20Qf5+\x20Kh6\x208.\x20d3+\x20g5\x209.\x20h4\x20Qe7\x2010.\x20Bxg5+','fillRect','oncontextmenu','fen','1.\x20d4\x20d5\x202.\x20c4\x20dxc4\x203.\x20e4\x20Nf6\x204.\x20e5\x20Nd5\x205.\x20Bxc4\x20Nb6\x206.\x20Bd3\x20Nc6\x207.\x20Be3\x20Nb4\x208.\x20Be4\x20f5\x209.\x20a3\x20Nd5\x2010.\x20Bxd5\x20Nxd5\x2011.\x20Ne2\x20Be6\x2012.\x200-0\x20c6\x2013.\x20Nc3\x20g6\x2014.\x20Qd2','inMove','1.\x20e4\x20e5\x202.\x20Nf3\x20Nc6\x203.\x20Bc4\x20Nf6\x204.\x20Ng5\x20d5\x205.\x20exd5\x20Nxd5\x206.\x20Nxf7\x20Kxf7\x207.\x20Qf3+\x20Ke6\x208.\x20Nc3\x20Ne7\x209.\x200-0','loadPieces','search','values','clickedMy','takenPiece','MOUSEDOWN','newR','animPos','color_frame','fake','normal','MOUSEMOVE','ann','SETUP.DRAG','INMOVEFRAME','---','Trail','f2x','tags','SHIFTMOUSEDOWN','r2y','1.\x20e4\x20c5\x202.\x20Nc3\x20d6\x203.\x20Nf3\x20a6\x204.\x20d4\x20cxd4\x205.\x20Nxd4\x20Nf6\x206.\x20Be3\x20e5\x207.\x20Nb3\x20Be7\x208.\x20f3\x20Be6\x209.\x20Qd2\x20h5\x2010.\x20Be2\x20Nbd7\x2011.\x20Nd5\x20Bxd5\x2012.\x20exd5\x20Qc7\x2013.\x20c4\x20a5\x2014.\x20Rd1\x20O-O\x2015.\x20O-O\x20a4\x2016.\x20Na1\x20Nb6\x2017.\x20Rc1\x20h4\x2018.\x20Rc3\x20Bd8\x2019.\x20Nc2\x20Nc8\x2020.\x20Bd3\x20Qd7\x2021.\x20Na3\x20Ba5\x2022.\x20Bg5\x20Bxc3\x2023.\x20bxc3\x20Nh5\x2024.\x20Qe1\x20f5\x2025.\x20Qxh4\x20Nf6\x2026.\x20Qh3\x20e4\x2027.\x20fxe4\x20fxe4\x2028.\x20Qxd7\x20Nxd7\x2029.\x20Be2\x20Rxf1+\x2030.\x20Kxf1\x20Ne5\x2031.\x20Kf2\x20Nf7\x2032.\x20Be3\x20Ne7\x2033.\x20Bb6\x20Rf8\x2034.\x20Nb5\x20Nf5\x2035.\x20Ke1\x20g5\x2036.\x20Kd2\x20Kg7\x2037.\x20g4\x20Nh4\x2038.\x20Bd4+\x20Kg8\x2039.\x20Ke3\x20Ng2+\x2040.\x20Kxe4\x20Re8+\x2041.\x20Kf3\x20Nf4\x2042.\x20Bd1\x20Nd3\x2043.\x20Bxa4\x20Ne1+\x2044.\x20Kf2\x20Nd3+\x2045.\x20Kf3\x20Ne1+\x2046.\x20Kf2\x20Nd3+\x2047.\x20Kf3','12345678','posPairs','DARK','1180621iGVqFM','splice','Edward\x20Lasker\x20-\x20Sir\x20George\x20Thomas\x201911','addEventListener','forEach','291514TIIimt','cursorIn','pgn','783324JBpNtM','deltaY','stack','1FELHiA','SIDECLICK','offset','\x20wins!','Stalemate\x20for\x20','#dcdcdc','#aab3bf','tag:\x20','textboxes','\x20\x20\x20','moveR','pos2fen:\x20piece\x20not\x20legal:\x20','width','pgn\x20move:\x20','8/8/8/8/8/8/8/8\x20w\x20KQkq\x20-\x200\x201','wR1','middle','festis-studylines\x202021-03-06','k7/2q5/3p2N1/N5P1/2B5/8/2K5/8\x20w\x20KQkq\x20-\x200\x201','paste\x20error','substr','1.\x20e4\x20e5\x202.\x20Nf3\x20Nc6\x203.\x20Bc4\x20d6\x204.\x20Nc3\x20Bg4\x205.\x20Nxe5\x20Bxd1\x206.\x20Bxf7+\x20Ke7\x207.\x20Nd5#','Opera\x20Game\x20-\x20Paul\x20Morphy\x201858','fill','1.\x20e4\x20{\x20[%eval\x200.25]\x20}\x201...\x20e5\x20{\x20[%eval\x200.31]\x20}\x202.\x20Bc4\x20{\x20[%eval\x200.0]\x20}\x202...\x20Nf6\x20{\x20[%eval\x200.01]\x20}\x20{\x20C24\x20Bishop\x27s\x20Opening:\x20Berlin\x20Defense\x20}\x203.\x20d3\x20{\x20[%eval\x200.0]\x20}\x203...\x20d5?!\x20{\x20(0.00\x20→\x200.82)\x20Inaccuracy.\x20c6\x20was\x20best.\x20}\x20{\x20[%eval\x200.82]\x20}\x20(3...\x20c6\x204.\x20Bb3\x20a5\x205.\x20c3\x20d5\x206.\x20Nf3\x20Bd6\x207.\x20exd5\x20cxd5\x208.\x20O-O)\x204.\x20Bb3??\x20{\x20(0.82\x20→\x20-1.50)\x20Blunder.\x20exd5\x20was\x20best.\x20}\x20{\x20[%eval\x20-1.5]\x20}\x20(4.\x20exd5\x20Nxd5\x205.\x20Nf3\x20Nc6\x206.\x20O-O\x20Nb6\x207.\x20Bb5\x20Bd6\x208.\x20Nxe5\x20Bxe5)\x204...\x20d4??\x20{\x20(-1.50\x20→\x200.31)\x20Blunder.\x20dxe4\x20was\x20best.\x20}\x20{\x20[%eval\x200.31]\x20}\x20(4...\x20dxe4\x205.\x20Nc3\x20Bb4\x206.\x20Ne2\x20exd3\x207.\x20Qxd3\x20Qxd3\x208.\x20cxd3\x20Nc6\x209.\x20Be3)\x205.\x20h3\x20{\x20[%eval\x200.16]\x20}\x205...\x20Bb4+\x20{\x20[%eval\x200.5]\x20}\x206.\x20Bd2\x20{\x20[%eval\x200.28]\x20}\x206...\x20Bxd2+\x20{\x20[%eval\x200.32]\x20}\x207.\x20Qxd2\x20{\x20[%eval\x200.08]\x20}\x207...\x20c5?!\x20{\x20(0.08\x20→\x201.06)\x20Inaccuracy.\x20Nh5\x20was\x20best.\x20}\x20{\x20[%eval\x201.06]\x20}\x20(7...\x20Nh5\x208.\x20Ne2\x20O-O\x209.\x20g4\x20Nf6\x2010.\x20O-O\x20a5\x2011.\x20f4\x20a4\x2012.\x20Bc4\x20exf4\x2013.\x20Qxf4\x20Nc6\x2014.\x20Nd2)\x208.\x20a3?\x20{\x20(1.06\x20→\x20-0.40)\x20Mistake.\x20Qg5\x20was\x20best.\x20}\x20{\x20[%eval\x20-0.4]\x20}\x20(8.\x20Qg5)\x208...\x20Nc6\x20{\x20[%eval\x20-0.28]\x20}\x209.\x20c3\x20{\x20[%eval\x20-0.7]\x20}\x209...\x20Na5\x20{\x20[%eval\x20-0.41]\x20}\x2010.\x20Ba2\x20{\x20[%eval\x20-0.2]\x20}\x2010...\x20O-O\x20{\x20[%eval\x20-0.51]\x20}\x2011.\x20Nf3\x20{\x20[%eval\x20-0.29]\x20}\x2011...\x20Qd6??\x20{\x20(-0.29\x20→\x201.95)\x20Blunder.\x20Nc6\x20was\x20best.\x20}\x20{\x20[%eval\x201.95]\x20}\x20(11...\x20Nc6\x2012.\x20cxd4)\x2012.\x20Qg5??\x20{\x20(1.95\x20→\x20-0.84)\x20Blunder.\x20cxd4\x20was\x20best.\x20}\x20{\x20[%eval\x20-0.84]\x20}\x20(12.\x20cxd4)\x2012...\x20Re8\x20{\x20[%eval\x20-0.55]\x20}\x2013.\x20Nh4?\x20{\x20(-0.55\x20→\x20-1.64)\x20Mistake.\x20cxd4\x20was\x20best.\x20}\x20{\x20[%eval\x20-1.64]\x20}\x20(13.\x20cxd4)\x2013...\x20h6\x20{\x20[%eval\x20-1.51]\x20}\x2014.\x20Qg3\x20{\x20[%eval\x20-2.04]\x20}\x2014...\x20Nh5\x20{\x20[%eval\x20-1.89]\x20}\x2015.\x20Qf3\x20{\x20[%eval\x20-2.16]\x20}\x2015...\x20Nf4\x20{\x20[%eval\x20-1.92]\x20}\x2016.\x20O-O\x20{\x20[%eval\x20-2.38]\x20}\x2016...\x20Be6?!\x20{\x20(-2.38\x20→\x20-1.26)\x20Inaccuracy.\x20Rd8\x20was\x20best.\x20}\x20{\x20[%eval\x20-1.26]\x20}\x20(16...\x20Rd8)\x2017.\x20Bxe6?\x20{\x20(-1.26\x20→\x20-2.55)\x20Mistake.\x20cxd4\x20was\x20best.\x20}\x20{\x20[%eval\x20-2.55]\x20}\x20(17.\x20cxd4\x20Qxd4\x2018.\x20Nc3\x20g6\x2019.\x20Ne2\x20Qxd3\x2020.\x20Nxf4\x20Qxf3\x2021.\x20Nxf3\x20exf4\x2022.\x20Bxe6\x20Rxe6\x2023.\x20Rac1\x20b6)\x2017...\x20Rxe6?!\x20{\x20(-2.55\x20→\x20-1.58)\x20Inaccuracy.\x20Qxe6\x20was\x20best.\x20}\x20{\x20[%eval\x20-1.58]\x20}\x20(17...\x20Qxe6)\x2018.\x20Nf5\x20{\x20[%eval\x20-1.74]\x20}\x2018...\x20Qd7?!\x20{\x20(-1.74\x20→\x20-1.00)\x20Inaccuracy.\x20Qc7\x20was\x20best.\x20}\x20{\x20[%eval\x20-1.0]\x20}\x20(18...\x20Qc7\x2019.\x20cxd4)\x2019.\x20cxd4\x20{\x20[%eval\x20-0.93]\x20}\x2019...\x20cxd4\x20{\x20[%eval\x20-0.78]\x20}\x2020.\x20Nd2\x20{\x20[%eval\x20-0.44]\x20}\x2020...\x20Rg6\x20{\x20[%eval\x20-0.62]\x20}\x2021.\x20Nh4?!\x20{\x20(-0.62\x20→\x20-1.38)\x20Inaccuracy.\x20g3\x20was\x20best.\x20}\x20{\x20[%eval\x20-1.38]\x20}\x20(21.\x20g3)\x2021...\x20Rg5\x20{\x20[%eval\x20-1.87]\x20}\x2022.\x20g3??\x20{\x20(-1.87\x20→\x20-6.22)\x20Blunder.\x20Rfc1\x20was\x20best.\x20}\x20{\x20[%eval\x20-6.22]\x20}\x20(22.\x20Rfc1\x20Nc6)\x2022...\x20Qxh3\x20{\x20[%eval\x20-6.32]\x20}\x2023.\x20Qh1??\x20{\x20(-6.32\x20→\x20Mate\x20in\x201)\x20Checkmate\x20is\x20now\x20unavoidable.\x20Ng2\x20was\x20best.\x20}\x20{\x20[%eval\x20#-1]\x20}\x20(23.\x20Ng2\x20Rh5\x2024.\x20Nh4\x20Nb3\x2025.\x20Qxh5\x20Nxh5\x2026.\x20Nxb3\x20Nf4\x2027.\x20gxf4\x20Qxh4\x2028.\x20fxe5\x20Rd8\x2029.\x20Nxd4\x20Qg5+)\x2023...\x20Ne2#\x20{\x20Black\x20wins\x20by\x20checkmate.\x20}\x200-1','2r2rk1/5ppp/pp6/2q5/2P2P2/3pP1RP/P5P1/B1R3K1\x20w\x20KQkq\x20-\x200\x201','color_background','slice','eventName','NOIMAGEDATA','TEXTBOX','setLineDash','EVENTLOG','mousemove','noframe','click','nPgns','Attacks','0123456789','RIGHTDOWN','location','maxPly','floor','MOVESTART','frame','mp3/Capture.mp3','text','Tags:\x20','setNextState','title','posChars','setup','aniStep','c2c4\x20g8f6\x20b1c3\x20e7e6\x20e2e4\x20c7c5\x20g1f3\x20b8c6\x20f1e2\x20e6e5\x20e1g1\x20f8e7\x20d2d3\x20e8g8\x20a1b1\x20a7a6\x20a2a4\x20d7d6\x20f3e1\x20c8d7\x20e1c2\x20a8b8\x20c1d2\x20f8e8\x20b2b3\x20h7h6\x20h2h3\x20c6d4\x20b3b4\x20e7f8\x20b4b5\x20d4e6\x20b5b6\x20e6d4\x20f2f4\x20e5f4\x20d2f4\x20d4e6\x20f4g3','calcFen','linear','key','#edebe9','demo','moveFeedback','newF','imageSmoothingEnabled','attacker','fens','onBoard','1.\x20e4\x20{\x20[%eval\x200.25]\x20[%clk\x200:05:00]\x20}\x201...\x20e5\x20{\x20[%eval\x200.31]\x20[%clk\x200:05:00]\x20}\x202.\x20Nf3\x20{\x20[%eval\x200.28]\x20[%clk\x200:04:59]\x20}\x202...\x20Nc6\x20{\x20[%eval\x200.27]\x20[%clk\x200:04:59]\x20}\x203.\x20Bb5\x20{\x20[%eval\x200.17]\x20[%clk\x200:04:58]\x20}\x203...\x20Nf6\x20{\x20[%eval\x200.48]\x20[%clk\x200:04:56]\x20}\x20{\x20C65\x20Ruy\x20Lopez:\x20Berlin\x20Defense\x20}\x204.\x20d3\x20{\x20[%eval\x200.32]\x20[%clk\x200:04:56]\x20}\x204...\x20a6?\x20{\x20(0.32\x20→\x201.75)\x20Mistake.\x20Bc5\x20was\x20best.\x20}\x20{\x20[%eval\x201.75]\x20[%clk\x200:04:47]\x20}\x20(4...\x20Bc5\x205.\x20Bxc6\x20dxc6\x206.\x20O-O\x20Qe7\x207.\x20Nbd2\x20a5\x208.\x20Nc4\x20Nd7\x209.\x20c3)\x205.\x20Bxc6\x20{\x20[%eval\x201.55]\x20[%clk\x200:04:55]\x20}\x205...\x20dxc6\x20{\x20[%eval\x201.74]\x20[%clk\x200:04:46]\x20}\x206.\x20O-O??\x20{\x20(1.74\x20→\x200.15)\x20Blunder.\x20Nxe5\x20was\x20best.\x20}\x20{\x20[%eval\x200.15]\x20[%clk\x200:04:55]\x20}\x20(6.\x20Nxe5\x20Be6\x207.\x20f4\x20Qe7\x208.\x20O-O\x20O-O-O\x209.\x20Nc3\x20g6\x2010.\x20Be3\x20Kb8)\x206...\x20Bc5??\x20{\x20(0.15\x20→\x201.74)\x20Blunder.\x20Bd6\x20was\x20best.\x20}\x20{\x20[%eval\x201.74]\x20[%clk\x200:04:38]\x20}\x20(6...\x20Bd6\x207.\x20Nbd2\x20Be6\x208.\x20b3\x20Qe7\x209.\x20a4\x20Nd7\x2010.\x20Nc4\x20f6\x2011.\x20Nxd6+)\x207.\x20Nc3?\x20{\x20(1.74\x20→\x200.39)\x20Mistake.\x20Nxe5\x20was\x20best.\x20}\x20{\x20[%eval\x200.39]\x20[%clk\x200:04:51]\x20}\x20(7.\x20Nxe5\x20Qe7\x208.\x20Nf3\x20Bg4\x209.\x20h3\x20Bxf3\x2010.\x20Qxf3\x20O-O\x2011.\x20Nd2\x20Rfe8)\x207...\x20h6?!\x20{\x20(0.39\x20→\x201.38)\x20Inaccuracy.\x20Qd6\x20was\x20best.\x20}\x20{\x20[%eval\x201.38]\x20[%clk\x200:04:31]\x20}\x20(7...\x20Qd6\x208.\x20h3\x20Be6\x209.\x20a3\x20Nd7\x2010.\x20b4\x20Bb6\x2011.\x20Na4\x20O-O\x2012.\x20c4)\x208.\x20Nxe5\x20{\x20[%eval\x201.57]\x20[%clk\x200:04:46]\x20}\x208...\x20Bg4??\x20{\x20(1.57\x20→\x206.87)\x20Blunder.\x20Qe7\x20was\x20best.\x20}\x20{\x20[%eval\x206.87]\x20[%clk\x200:04:25]\x20}\x20(8...\x20Qe7\x209.\x20d4)\x209.\x20Qd2??\x20{\x20(6.87\x20→\x202.06)\x20Blunder.\x20Nxg4\x20was\x20best.\x20}\x20{\x20[%eval\x202.06]\x20[%clk\x200:04:31]\x20}\x20(9.\x20Nxg4\x20Qe7\x2010.\x20Nxf6+\x20Qxf6\x2011.\x20Be3\x20Be7\x2012.\x20f4\x20O-O-O\x2013.\x20Qf3\x20Kb8\x2014.\x20h3\x20Ka8\x2015.\x20f5\x20g6)\x209...\x20Bd4?!\x20{\x20(2.06\x20→\x203.22)\x20Inaccuracy.\x20Be6\x20was\x20best.\x20}\x20{\x20[%eval\x203.22]\x20[%clk\x200:04:12]\x20}\x20(9...\x20Be6\x2010.\x20Qe1\x20Nd7\x2011.\x20Nf3\x20Qe7\x2012.\x20Be3\x20O-O-O\x2013.\x20Bxc5\x20Qxc5\x2014.\x20Qe3\x20Qxe3\x2015.\x20fxe3\x20c5\x2016.\x20Kf2)\x2010.\x20Nxg4\x20{\x20[%eval\x202.94]\x20[%clk\x200:04:28]\x20}\x2010...\x20Nxg4\x20{\x20[%eval\x202.91]\x20[%clk\x200:04:09]\x20}\x2011.\x20Qf4\x20{\x20[%eval\x202.84]\x20[%clk\x200:04:20]\x20}\x2011...\x20h5\x20{\x20[%eval\x202.71]\x20[%clk\x200:03:52]\x20}\x2012.\x20Ne2??\x20{\x20(2.71\x20→\x200.40)\x20Blunder.\x20h3\x20was\x20best.\x20}\x20{\x20[%eval\x200.4]\x20[%clk\x200:04:16]\x20}\x20(12.\x20h3\x20Be5)\x2012...\x20Rh6??\x20{\x20(0.40\x20→\x204.98)\x20Blunder.\x20Be5\x20was\x20best.\x20}\x20{\x20[%eval\x204.98]\x20[%clk\x200:03:37]\x20}\x20(12...\x20Be5\x2013.\x20Qg5\x20Bxh2+\x2014.\x20Kh1\x20Qxg5\x2015.\x20Bxg5\x20Bd6\x2016.\x20f3\x20f6\x2017.\x20Bd2\x20Ne5\x2018.\x20Nd4\x20g5\x2019.\x20f4)\x2013.\x20Nxd4\x20{\x20[%eval\x205.02]\x20[%clk\x200:04:00]\x20}\x2013...\x20Rf6?!\x20{\x20(5.02\x20→\x208.41)\x20Inaccuracy.\x20Qxd4\x20was\x20best.\x20}\x20{\x20[%eval\x208.41]\x20[%clk\x200:03:31]\x20}\x20(13...\x20Qxd4\x2014.\x20Qxc7\x20Qd6\x2015.\x20Bf4\x20Qxc7\x2016.\x20Bxc7\x20Re6\x2017.\x20Rae1\x20f6\x2018.\x20d4\x20h4\x2019.\x20Ba5\x20Nh6\x2020.\x20h3)\x2014.\x20Qg3?!\x20{\x20(8.41\x20→\x205.98)\x20Inaccuracy.\x20Nf5\x20was\x20best.\x20}\x20{\x20[%eval\x205.98]\x20[%clk\x200:03:43]\x20}\x20(14.\x20Nf5\x20g6)\x2014...\x20Qxd4\x20{\x20[%eval\x205.91]\x20[%clk\x200:03:23]\x20}\x2015.\x20Qxc7??\x20{\x20(5.91\x20→\x20-7.71)\x20Blunder.\x20h3\x20was\x20best.\x20}\x20{\x20[%eval\x20-7.71]\x20[%clk\x200:03:40]\x20}\x20(15.\x20h3\x20Qe5\x2016.\x20hxg4\x20Qxg3\x2017.\x20fxg3\x20Rxf1+\x2018.\x20Kxf1\x20hxg4\x2019.\x20Ke2\x20Kd7\x2020.\x20Be3\x20Rh8\x2021.\x20Rf1\x20f6)\x2015...\x20Nxf2?!\x20{\x20(-7.71\x20→\x20-5.54)\x20Inaccuracy.\x20Rxf2\x20was\x20best.\x20}\x20{\x20[%eval\x20-5.54]\x20[%clk\x200:03:19]\x20}\x20(15...\x20Rxf2)\x2016.\x20Bg5??\x20{\x20(-5.54\x20→\x20Mate\x20in\x203)\x20Checkmate\x20is\x20now\x20unavoidable.\x20Be3\x20was\x20best.\x20}\x20{\x20[%eval\x20#-3]\x20[%clk\x200:03:05]\x20}\x20(16.\x20Be3)\x2016...\x20Nh3+\x20{\x20[%eval\x20#-2]\x20[%clk\x200:03:15]\x20}\x2017.\x20Kh1\x20{\x20[%eval\x20#-2]\x20[%clk\x200:03:03]\x20}\x2017...\x20Qg1+\x20{\x20[%eval\x20#-1]\x20[%clk\x200:03:13]\x20}\x2018.\x20Rxg1\x20{\x20[%eval\x20#-1]\x20[%clk\x200:03:01]\x20}\x2018...\x20Nf2#\x20{\x20[%clk\x200:03:12]\x20}\x20{\x20Black\x20wins\x20by\x20checkmate.\x20}\x200-1','endOfGame','Wrong\x20color:\x20','SILENT','Stockfish\x2013+\x20NNUE\x20Depth\x2030','White\x20to\x20move\x20(Su\x20Xuan)','save','pgnMove','bR1','center','cursorBlinkTimer','moveNumber','pSavedFen','render','mycanvas','undefined\x20state\x20in\x20Game.nextState()','\x20½-½\x20(Stalemate)','undefined\x20event\x20in\x20UI.push()','PLAY','#d9d9d9','wR2','Anastasias\x20mate\x20w\x20in\x203','display','Sholar\x27s\x20mate\x20-\x20Francis\x20Beale\x201656','inState','#e8e8e8','clip','drc','fillText','BOARDCLICK','allLoaded','RIGHTCLICK','disamb','tag\x20value:\x20','addOffspring','check','Setup','MOUSEUP','w\x20mates\x20in\x20two','event','promotionMove','QGA\x20e5','ARROW','fullPgn','fullPgnString','keyCode','layout','log','1.\x20e4\x20e5\x202.\x20Nf3\x20Nf6\x20{Russian\x20game}\x203.\x20Nxe5\x20Nc6\x20{Stafford\x20gambit}\x204.\x20Nxc6\x20{Stafford\x20gambit\x20accepted}\x204...\x20dxc6\x205.\x20d3\x20Bc5\x206.\x20Bg5\x20{Blunder,\x20h3\x20was\x20best}\x20{[%eval\x20-4.5]}\x206...\x20Nxe4\x207.\x20Bxd8\x20Bxf2+\x208.\x20Ke2\x20Bg4#\x200-1','Load','Main','ctx','1.\x20e4\x20e5\x202.\x20Nf3\x20Nc6\x203.\x20Bc4\x20Bc5\x204.\x20d3\x20Nf6\x205.\x20c3\x200-0\x206.\x20Bb3\x20a6\x207.\x200-0\x20Ba7\x208.\x20Bg5\x20h6\x209.\x20Bh4\x20d6\x2010.\x20Nd2\x20g5\x2011.\x20Bg3\x20Nh5\x2012.\x20Nxe5\x20Nxe5\x2013.\x20Qxh5\x20Kg7\x2014.\x20d4\x20Ng6\x2015.\x20f4\x20gxf4\x2016.\x20Bxf4\x20Qh4\x2017.\x20Bxh6+\x20Kg8\x2018.\x20Qxg6+\x201-0','getMoveData','LIGHT','Najdorf\x20Sicilian\x20-\x20GM\x20Anish\x20Giri','\x20its\x20a\x20draw!','selectStart','setEventName','PGNLOG','4nr2/5PPP/2K5/8/8/5k2/8/8\x20w\x20KQkq\x20-\x200\x201','clear','1R6/6pk/6np/p6Q/P2p4/3P4/K1P5/8\x20w\x20KQkq\x20-\x200\x201','comment','DRAG','clientY','sound','nextState','moveF','#ffffff','setXY','ticktimer','ptrStart','setMoveData','height','#555555','nextIndex','beginPath','FRAME','innerWidth','\x20[%ar\x20','measure','8/8/1p6/1K6/8/pk2N3/3Q4/n7\x20w\x20KQkq\x20-\x200\x201','0-0','withinBoard','findKing','play','aniTimer','cursorBlink','stroke','selectEnd','%clk','now','2010.09.03.\x20Konya(2111)\x20-\x20Egyed(1950)\x200-1','parent','castle','canvas','1NIDqMm','CTRLMOUSEDOWN','.svg','RESIZE','movePiece','#4d4d4d','nSavedFen','INMOVE','WHITE','PROMOTION','savedSetupFen','prev','FLIP','random','drag','innerHeight'];var _0xb2a1=function(_0x3c9d88,_0x2f3c04){_0x3c9d88=_0x3c9d88-0xce;var _0x59e184=_0x59e1[_0x3c9d88];return _0x59e184;};var _0x13c3c3=_0xb2a1;(function(_0x23f387,_0x4abb2d){var _0x2e3ca0=_0xb2a1;while(!![]){try{var _0x588238=-parseInt(_0x2e3ca0(0x10a))*-parseInt(_0x2e3ca0(0x211))+-parseInt(_0x2e3ca0(0x12c))*-parseInt(_0x2e3ca0(0x1c3))+parseInt(_0x2e3ca0(0x195))+parseInt(_0x2e3ca0(0x12b))*-parseInt(_0x2e3ca0(0x214))+parseInt(_0x2e3ca0(0x20e))+parseInt(_0x2e3ca0(0x1e4))+-parseInt(_0x2e3ca0(0x175))*parseInt(_0x2e3ca0(0x209));if(_0x588238===_0x4abb2d)break;else _0x23f387['push'](_0x23f387['shift']());}catch(_0xd59c1b){_0x23f387['push'](_0x23f387['shift']());}}}(_0x59e1,0xde284));var NOSVG=0x0,NOIMAGEDATA=0x0,PGNLOG=0x0,EVENTLOG=0x0,SILENT=0x0,SMALLBOARD=0x0;const EMPTY=_0x13c3c3(0x21d),F=_0x13c3c3(0x1bc),R=_0x13c3c3(0x206),initialPosition=_0x13c3c3(0x1b3);function emptyBoard(){var _0x16a1bd=[[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY],[EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY,EMPTY]];return _0x16a1bd;}const COLOR={'BACKGROUND':_0x13c3c3(0x24d),'PGN':{'BACKGROUND':_0x13c3c3(0xee),'FRAME':_0x13c3c3(0x268),'COLOR':_0x13c3c3(0x10f)},'TEXTBOX':{'BACKGROUND':'#ffffff','FRAME':_0x13c3c3(0x268),'COLOR':_0x13c3c3(0x10f)},'TOOLBAR':{'BACKGROUND':_0x13c3c3(0xee),'FRAME':_0x13c3c3(0x268),'COLOR':_0x13c3c3(0x10f)},'BUTTON':{'BACKGROUND':'#ffffff','FRAME':_0x13c3c3(0x268),'COLOR':_0x13c3c3(0x10f)},'TEXT':{'LIGHT':_0x13c3c3(0x13b),'DARK':_0x13c3c3(0xf4)},'BOARD':{'FRAME':'#666666','BLACK':_0x13c3c3(0x142),'WHITE':_0x13c3c3(0x219),'INMOVEFRAME':_0x13c3c3(0x26e),'INMOVE':_0x13c3c3(0x21a)},'STATUS':{'BACKGROUND':_0x13c3c3(0xee),'FRAME':_0x13c3c3(0x268)},'ARROW':{'G':[0x0,0xb4,0x0,0.75],'R':[0xb4,0x0,0x0,0.75],'B':[0x0,0xb4,0xb4,0.75],'Y':[0xfa,0xc8,0x0,0.75],'L':[0x64,0x64,0x64,0.35],'N':[0x3c,0xb4,0x14,0.35]}},SM={'L':{'PLAY':'PLAY','SETUP':_0x13c3c3(0x1d3)},'E':{'MOUSEDOWN':_0x13c3c3(0x1f5),'MOUSEUP':_0x13c3c3(0xce),'MOUSEMOVE':'MOUSEMOVE','RIGHTDOWN':_0x13c3c3(0x23b),'RIGHTUP':_0x13c3c3(0x19e),'MOUSEWHEEL':_0x13c3c3(0x1c2),'KEYDOWN':'KEYDOWN','KEYUP':_0x13c3c3(0x11c),'RIGHTCLICK':_0x13c3c3(0x274)},'S':{'TEXTBOX':_0x13c3c3(0x232),'IDLE':_0x13c3c3(0x1b5),'CLICKED':_0x13c3c3(0x1c7),'DRAG':_0x13c3c3(0xe9),'MOVESTART':'MOVESTART','PROMOTION':_0x13c3c3(0x113),'SETUP':{'IDLE':'SETUP.IDLE','SIDECLICK':_0x13c3c3(0x1b0),'BOARDCLICK':'SETUP.BOARDCLICK','DRAG':_0x13c3c3(0x1fd)},'RESIZE':_0x13c3c3(0x10d),'SHIFT':'SHIFT','CTRL':_0x13c3c3(0x171),'CTRLSHIFT':'CTRLSHIFT','CTRLMOUSEDOWN':_0x13c3c3(0x10b),'SHIFTMOUSEDOWN':_0x13c3c3(0x203),'CTRLSHIFTMOUSEDOWN':_0x13c3c3(0x1b6),'RIGHTDOWN':'RIGHTDOWN'}};class Layout{constructor(){}[_0x13c3c3(0x1de)](){return!![];}['Setup'](){var _0x45ad0d=_0x13c3c3;return g['state']['substr'](0x0,0x5)==_0x45ad0d(0x1d3);}[_0x13c3c3(0xdb)](){var _0x54bc0e=_0x13c3c3;return g[_0x54bc0e(0x18f)]['substr'](0x0,0x5)!=_0x54bc0e(0x1d3);}}var layout=new Layout(),soundMove=new Audio('mp3/Move.mp3');soundMove[_0x13c3c3(0x16b)]();var soundCapture=new Audio(_0x13c3c3(0x241));soundCapture[_0x13c3c3(0x16b)]();var soundCastle2=new Audio('mp3/Castle2.mp3');soundCastle2['load']();const constPgns=[[_0x13c3c3(0x1c1),_0x13c3c3(0x1d9)],[_0x13c3c3(0x11b),_0x13c3c3(0x26c)],['1.\x20d4\x20f5\x20{Dutch\x20defence}\x202.\x20Bg5\x20{Hopton\x20attack}\x202...\x20h6\x203.\x20Bh4\x20g5\x204.\x20Bg3\x20f4\x205.\x20e3\x20{\x20[%ar\x20Rd1h5]\x20[%ar\x20Rh5e8]\x20[%sq\x20Re8]\x20[%sq\x20Rf7]\x20}\x205...\x20h5\x20{\x20[%ar\x20Gh8h5]\x20[%sq\x20Gh5]\x20}\x206.\x20Bd3\x20{\x20[%ar\x20Rd3g6]\x20[%ar\x20Rg6e8]\x20[%sq\x20Re8]\x20}\x206...\x20Rh6\x20{\x20[%ar\x20Gh6h5]\x20[%ar\x20Gh6g6]\x20[%sq\x20Gh5]\x20[%sq\x20Gg6]\x20}\x207.\x20Qxh5+\x20{\x20[%ar\x20Rh5e8]\x20[%ar\x20Bh5g6]\x20[%sq\x20Bg6]\x20[%sq\x20Rf7]\x20[%sq\x20Re8]\x20}\x207...\x20Rxh5\x20{\x20[%ar\x20Yd3g6]\x20[%sq\x20Yg6]\x20}\x208.\x20Bg6#\x20{\x20[%ar\x20Rg6e8]\x20[%sq\x20Rf7]\x20[%sq\x20Re8]\x20}\x201-0','Fool\x27s\x20mate\x20-\x20Teed\x20vs.\x20Delmar,\x201896'],[_0x13c3c3(0xd9),_0x13c3c3(0x146)],[_0x13c3c3(0x1e9),_0x13c3c3(0x1ab)],[_0x13c3c3(0x229),'Scholars\x20mate\x20c5\x20Nf3'],[_0x13c3c3(0x1a8),_0x13c3c3(0x1a9)],[_0x13c3c3(0x140),'Lasker\x20trap\x20in\x20Albin\x20Countergambit\x20-\x201882'],[_0x13c3c3(0x1d6),'2010.09.02.\x20Egyed(1950)\x20-\x20Domonkos(1697)\x201-0'],['1.\x20d4\x20g6\x202.\x20g3\x20Bg7\x203.\x20Bg2\x20d6\x204.\x20e4\x20Nf6\x205.\x20Ne2\x20O-O\x206.\x20O-O\x20Nbd7\x207.\x20h3\x20e5\x208.\x20c3\x20Re8\x209.\x20Qd3\x20Qe7\x2010.\x20Bg5\x20h6\x2011.\x20Bxf6\x20Bxf6\x2012.\x20f4\x20c5\x2013.\x20d5\x20Nb6\x2014.\x20Nd2\x20Bd7\x2015.\x20Rab1\x20c4\x2016.\x20Qe3\x20exf4\x2017.\x20Qxf4\x20Bg5\x2018.\x20Qf2\x20Bxd2\x2019.\x20Nd4\x20Qg5\x2020.\x20Nc2\x20Re7\x2021.\x20h4\x20Qe5\x2022.\x20Rbd1\x20Bxc3\x2023.\x20bxc3\x20Qxc3\x2024.\x20Nd4\x20Bg4\x2025.\x20Rc1\x20Qd3\x2026.\x20Nb5\x20Nd7\x2027.\x20Rfe1\x20c3\x2028.\x20Nxc3\x20Rc8\x2029.\x20Bf1\x20Qf3\x2030.\x20Bg2\x20Qd3\x2031.\x20Bf1\x20Qf3\x2032.\x20Qxf3\x20Bxf3\x2033.\x20Re3\x20Ne5\x2034.\x20Rb1\x20a6\x2035.\x20Bh3\x20Rc4\x2036.\x20Bf1\x20Rd4\x2037.\x20Rb6\x20Rd7\x2038.\x20Rb1\x20Re7\x2039.\x20Bg2\x20Bxg2\x2040.\x20Kxg2\x20Nc4\x2041.\x20Re2\x20Rd3\x2042.\x20Nd1\x20Nd2\x2043.\x20Rb4\x20Rxd5\x2044.\x20Nf2\x20a5\x2045.\x20exd5\x20Rxe2\x2046.\x20Rxb7\x20f5\x2047.\x20Kg1\x20Re1+\x2048.\x20Kg2\x20Re2\x2049.\x20Kg1\x20Nf3+\x2050.\x20Kg2\x20Ne5\x2051.\x20Kf1\x20Rxa2\x2052.\x20Rb6\x20Nc4\x2053.\x20Rc6\x20Ra1+\x2054.\x20Kg2\x20Rc1\x2055.\x20Nd3\x20Ne3+\x2056.\x20Kf3',_0x13c3c3(0x106)],[_0x13c3c3(0x1ef),'Two\x20Knights\x20Defense\x20w/\x20Fried\x20Liver'],['1.\x20e4\x20d6\x202.\x20d4\x20e5\x203.\x20Nf3\x20Bg4\x204.\x20dxe5\x20Bxf3\x205.\x20Qxf3\x20dxe5\x206.\x20Bc4',_0x13c3c3(0x18d)],[_0x13c3c3(0x1ed),_0x13c3c3(0x126)],['1.\x20d4\x20d5\x202.\x20c4\x20dxc4\x203.\x20e4\x20e5\x204.\x20Nf3\x20exd4\x205.\x20Bxc4\x20Nc6\x206.\x200-0\x20Be6\x207.\x20Bxe6\x20fxe6\x208.\x20Qb3\x20Qd7\x209.\x20Qxb7\x20Rb8\x2010.\x20Qa6\x20Nf6\x2011.\x20Nd2\x20Be7\x2012.\x20b3\x200-0\x2013.\x20Ba3',_0x13c3c3(0xd2)],[_0x13c3c3(0x15e),_0x13c3c3(0x22a)],[_0x13c3c3(0x1e0),_0x13c3c3(0xe0)],[_0x13c3c3(0x1d4),_0x13c3c3(0x20b)],['1.\x20e4\x20{\x20[%clk\x200:05:00]\x20}\x201...\x20b6\x20{\x20[%clk\x200:05:00]\x20}\x20{\x20B00\x20Owen\x20Defense\x20}\x202.\x20d4\x20{\x20[%clk\x200:04:58]\x20}\x202...\x20Bb7\x20{\x20[%clk\x200:04:59]\x20}\x203.\x20Nc3\x20{\x20[%clk\x200:04:50]\x20}\x203...\x20g6\x20{\x20[%clk\x200:04:57]\x20}\x204.\x20Bd3\x20{\x20[%clk\x200:04:47]\x20}\x204...\x20Bg7\x20{\x20[%clk\x200:04:56]\x20}\x205.\x20Be3\x20{\x20[%clk\x200:04:46]\x20}\x205...\x20e6\x20{\x20[%clk\x200:04:53]\x20}\x206.\x20Nf3\x20{\x20[%clk\x200:04:45]\x20}\x206...\x20Ne7\x20{\x20[%clk\x200:04:52]\x20}\x207.\x20O-O\x20{\x20[%clk\x200:04:44]\x20}\x207...\x20O-O\x20{\x20[%clk\x200:04:51]\x20}\x208.\x20Ng5\x20{\x20[%clk\x200:04:34]\x20}\x208...\x20h6\x20{\x20[%clk\x200:04:42]\x20}\x209.\x20Nf3\x20{\x20[%clk\x200:04:32]\x20}\x209...\x20d6\x20{\x20[%clk\x200:04:37]\x20}\x2010.\x20Qd2\x20{\x20[%clk\x200:04:31]\x20}\x2010...\x20g5\x20{\x20[%clk\x200:04:30]\x20}\x2011.\x20e5\x20{\x20[%clk\x200:04:15]\x20}\x2011...\x20Bxf3\x20{\x20[%clk\x200:04:26]\x20}\x2012.\x20gxf3\x20{\x20[%clk\x200:04:14]\x20}\x2012...\x20d5\x20{\x20[%clk\x200:04:20]\x20}\x2013.\x20Kh1\x20{\x20[%clk\x200:04:10]\x20}\x2013...\x20Nbc6\x20{\x20[%clk\x200:04:06]\x20}\x2014.\x20Rg1\x20{\x20[%clk\x200:04:08]\x20}\x2014...\x20Kh8\x20{\x20[%clk\x200:03:51]\x20}\x2015.\x20Bxg5\x20{\x20[%clk\x200:03:59]\x20}\x2015...\x20hxg5\x20{\x20[%clk\x200:03:47]\x20}\x2016.\x20Rxg5\x20{\x20[%clk\x200:03:57]\x20}\x2016...\x20Nxd4\x20{\x20[%clk\x200:03:23]\x20}\x2017.\x20Rh5+\x20{\x20[%clk\x200:03:51]\x20}\x2017...\x20Kg8\x20{\x20[%clk\x200:03:20]\x20}\x2018.\x20Bh7+\x20{\x20[%clk\x200:03:49]\x20}\x2018...\x20Kh8\x20{\x20[%clk\x200:03:16]\x20}\x2019.\x20Qxd4\x20{\x20[%clk\x200:03:36]\x20}\x2019...\x20f6\x20{\x20[%clk\x200:02:54]\x20}\x2020.\x20Rg1\x20{\x20[%clk\x200:03:32]\x20}\x2020...\x20fxe5\x20{\x20[%clk\x200:02:45]\x20}\x2021.\x20Bf5+\x20{\x20[%clk\x200:03:21]\x20}\x2021...\x20Kg8\x20{\x20[%clk\x200:02:35]\x20}\x2022.\x20Bxe6+\x20{\x20[%clk\x200:03:20]\x20}\x2022...\x20Rf7\x20{\x20[%clk\x200:02:26]\x20}\x2023.\x20Rxg7+\x20{\x20[%clk\x200:03:14]\x20}\x2023...\x20Kxg7\x20{\x20[%clk\x200:02:20]\x20}\x2024.\x20Qxe5+\x20{\x20[%clk\x200:03:12]\x20}\x2024...\x20Rf6\x20{\x20[%clk\x200:02:11]\x20}\x2025.\x20Qg5+\x20{\x20[%clk\x200:03:07]\x20}\x2025...\x20Ng6\x20{\x20[%clk\x200:02:01]\x20}\x2026.\x20Qh6#\x20{\x20[%clk\x200:03:05]\x20}\x20{\x20White\x20wins\x20by\x20checkmate.\x20}\x201-0','studylines\x20vs\x20HWTD5\x202021-02-18'],[_0x13c3c3(0xdd),_0x13c3c3(0x17b)],['1.\x20e4\x20e5\x202.\x20Nf3\x20Nc6\x203.\x20Bb5\x20Nf6\x204.\x200-0\x20Ng4\x205.\x20h3\x20h5\x206.\x20hxg4\x20hxg4\x207.\x20Ne1\x20Qh4\x208.\x20f3\x20g3\x209.\x20Bxc6\x20Qh2#\x200-1',_0x13c3c3(0x13c)],[_0x13c3c3(0x255),_0x13c3c3(0x172)],['1.\x20e4\x20{\x20[%eval\x200.25]\x20[%clk\x200:05:00]\x20}\x201...\x20e5\x20{\x20[%eval\x200.31]\x20[%clk\x200:05:00]\x20}\x202.\x20Nf3\x20{\x20[%eval\x200.28]\x20[%clk\x200:04:59]\x20}\x202...\x20Nc6\x20{\x20[%eval\x200.27]\x20[%clk\x200:04:59]\x20}\x203.\x20Bb5\x20{\x20[%eval\x200.17]\x20[%clk\x200:04:58]\x20}\x203...\x20Nf6\x20{\x20[%eval\x200.48]\x20[%clk\x200:04:56]\x20}\x20{\x20C65\x20Ruy\x20Lopez:\x20Berlin\x20Defense\x20\x20}\x204.\x20d3\x20{\x20[%eval\x200.32]\x20[%clk\x200:04:56]\x20}\x204...\x20a6\x20{\x20[%eval\x201.75]\x20[%clk\x200:04:47]\x20}\x20{\x20(0.32\x20→\x201.75)\x20Mistake.\x20Bc5\x20was\x20best.\x20\x20}\x205.\x20Bxc6\x20{\x20[%eval\x201.55]\x20[%clk\x200:04:55]\x20}\x205...\x20dxc6\x20{\x20[%eval\x201.74]\x20[%clk\x200:04:46]\x20}\x206.\x200-0\x20{\x20[%eval\x200.15]\x20[%clk\x200:04:55]\x20}\x20{\x20(1.74\x20→\x200.15)\x20Blunder.\x20Nxe5\x20was\x20best.\x20\x20}\x206...\x20Bc5\x20{\x20[%eval\x201.74]\x20[%clk\x200:04:38]\x20}\x20{\x20(0.15\x20→\x201.74)\x20Blunder.\x20Bd6\x20was\x20best.\x20\x20}\x207.\x20Nc3\x20{\x20[%eval\x200.39]\x20[%clk\x200:04:51]\x20}\x20{\x20(1.74\x20→\x200.39)\x20Mistake.\x20Nxe5\x20was\x20best.\x20\x20}\x207...\x20h6\x20{\x20[%eval\x201.38]\x20[%clk\x200:04:31]\x20}\x20{\x20(0.39\x20→\x201.38)\x20Inaccuracy.\x20Qd6\x20was\x20best.\x20\x20}\x208.\x20Nxe5\x20{\x20[%eval\x201.57]\x20[%clk\x200:04:46]\x20}\x208...\x20Bg4\x20{\x20[%eval\x206.87]\x20[%clk\x200:04:25]\x20}\x20{\x20(1.57\x20→\x206.87)\x20Blunder.\x20Qe7\x20was\x20best.\x20\x20}\x209.\x20Qd2\x20{\x20[%eval\x202.06]\x20[%clk\x200:04:31]\x20}\x20{\x20(6.87\x20→\x202.06)\x20Blunder.\x20Nxg4\x20was\x20best.\x20\x20}\x209...\x20Bd4\x20{\x20[%eval\x203.22]\x20[%clk\x200:04:12]\x20}\x20{\x20(2.06\x20→\x203.22)\x20Inaccuracy.\x20Be6\x20was\x20best.\x20\x20}\x2010.\x20Nxg4\x20{\x20[%eval\x202.94]\x20[%clk\x200:04:28]\x20}\x2010...\x20Nxg4\x20{\x20[%eval\x202.91]\x20[%clk\x200:04:09]\x20}\x2011.\x20Qf4\x20{\x20[%eval\x202.84]\x20[%clk\x200:04:20]\x20}\x2011...\x20h5\x20{\x20[%eval\x202.71]\x20[%clk\x200:03:52]\x20}\x2012.\x20Ne2\x20{\x20[%eval\x200.4]\x20[%clk\x200:04:16]\x20}\x20{\x20(2.71\x20→\x200.40)\x20Blunder.\x20h3\x20was\x20best.\x20\x20}\x2012...\x20Rh6\x20{\x20[%eval\x204.98]\x20[%clk\x200:03:37]\x20}\x20{\x20(0.40\x20→\x204.98)\x20Blunder.\x20Be5\x20was\x20best.\x20\x20}\x2013.\x20Nxd4\x20{\x20[%eval\x205.02]\x20[%clk\x200:04:00]\x20}\x2013...\x20Rf6\x20{\x20[%eval\x208.41]\x20[%clk\x200:03:31]\x20}\x20{\x20(5.02\x20→\x208.41)\x20Inaccuracy.\x20Qxd4\x20was\x20best.\x20\x20}\x2014.\x20Qg3\x20{\x20[%eval\x205.98]\x20[%clk\x200:03:43]\x20}\x20{\x20(8.41\x20→\x205.98)\x20Inaccuracy.\x20Nf5\x20was\x20best.\x20\x20}\x2014...\x20Qxd4\x20{\x20[%eval\x205.91]\x20[%clk\x200:03:23]\x20}\x2015.\x20Qxc7\x20{\x20[%eval\x20-7.71]\x20[%clk\x200:03:40]\x20}\x20{\x20(5.91\x20→\x20-7.71)\x20Blunder.\x20h3\x20was\x20best.\x20\x20}\x2015...\x20Nxf2\x20{\x20[%eval\x20-5.54]\x20[%clk\x200:03:19]\x20}\x20{\x20(-7.71\x20→\x20-5.54)\x20Inaccuracy.\x20Rxf2\x20was\x20best.\x20\x20}\x2016.\x20Bg5\x20{\x20[%eval\x20#-3]\x20[%clk\x200:03:05]\x20}\x20{\x20(-5.54\x20→\x20Mate\x20in\x203)\x20Checkmate\x20is\x20now\x20unavoidable.\x20Be3\x20was\x20best.\x20\x20}\x2016...\x20Nh3+\x20{\x20[%eval\x20#-2]\x20[%clk\x200:03:15]\x20}\x2017.\x20Kh1\x20{\x20[%eval\x20#-2]\x20[%clk\x200:03:03]\x20}\x2017...\x20Qg1+\x20{\x20[%eval\x20#-1]\x20[%clk\x200:03:13]\x20}\x2018.\x20Rfxg1\x20{\x20[%eval\x20#-1]\x20[%clk\x200:03:01]\x20}\x2018...\x20Nf2#\x20{\x20[%clk\x200:03:12]\x20}\x20{\x20Black\x20wins\x20by\x20checkmate.\x20\x20}\x200-1','test'],[_0x13c3c3(0x205),_0x13c3c3(0x259)],[_0x13c3c3(0x22c),_0x13c3c3(0x225)],[_0x13c3c3(0x156),_0x13c3c3(0x1ce)],[_0x13c3c3(0x152),_0x13c3c3(0x155)]],constFens=[['R2Rn1n1/7n/1R2R3/7n/1R2R3/Q1Q5/7n/Q5n1\x20w\x20KQkq\x20-\x200\x201',_0x13c3c3(0x1ba)],[_0x13c3c3(0xe5),_0x13c3c3(0x1bf)],[_0x13c3c3(0xe7),'White\x20checkmates\x20in\x20two'],[_0x13c3c3(0x18e),_0x13c3c3(0x1b1)],[_0x13c3c3(0x1bd),_0x13c3c3(0x25a)],['5rk1/1b3ppp/8/2RN4/8/8/2Q2PPP/6K1\x20w\x20KQkq\x20-\x200\x201',_0x13c3c3(0x26a)],[_0x13c3c3(0x1ae),'Smothered\x20mate\x20w\x20in\x206'],[_0x13c3c3(0x22d),_0x13c3c3(0x1dd)],[_0x13c3c3(0xfb),_0x13c3c3(0xcf)],[_0x13c3c3(0x13f),_0x13c3c3(0x194)],['3b3k/4n3/8/8/7B/8/8/5KR1\x20w\x20KQkq\x20-\x200\x201','White\x20wins'],[_0x13c3c3(0x1e6),'B\x20mates\x20in\x204'],[_0x13c3c3(0x226),_0x13c3c3(0x1e3)],['6q1/3p4/4pp2/2P2k2/7K/3PP3/2R5/1B6\x20w\x20KQkq\x20-\x200\x201','w\x20wins']];var track=[];const material={'P':0x1,'N':0x3,'B':0x3,'R':0x5,'Q':0x9,'K':0x0},squareValues1=[[0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x3,0x3,0x3,0x3,0x3,0x3,0x1],[0x1,0x3,0x6,0x6,0x6,0x6,0x3,0x1],[0x1,0x3,0x6,0xc,0xc,0x6,0x3,0x1],[0x1,0x3,0x6,0xc,0xc,0x6,0x3,0x1],[0x1,0x3,0x6,0x6,0x6,0x6,0x3,0x1],[0x1,0x3,0x3,0x3,0x3,0x3,0x3,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1]],squareValues=[[0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x2,0x2,0x2,0x2,0x2,0x2,0x1],[0x1,0x2,0x3,0x3,0x3,0x3,0x2,0x1],[0x1,0x2,0x3,0x4,0x4,0x3,0x2,0x1],[0x1,0x2,0x3,0x4,0x4,0x3,0x2,0x1],[0x1,0x2,0x3,0x3,0x3,0x3,0x2,0x1],[0x1,0x2,0x2,0x2,0x2,0x2,0x2,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1]];var allMoves={'P':[],'R':[[[0x1,0x0],[0x2,0x0],[0x3,0x0],[0x4,0x0],[0x5,0x0],[0x6,0x0],[0x7,0x0]],[[-0x1,0x0],[-0x2,0x0],[-0x3,0x0],[-0x4,0x0],[-0x5,0x0],[-0x6,0x0],[-0x7,0x0]],[[0x0,0x1],[0x0,0x2],[0x0,0x3],[0x0,0x4],[0x0,0x5],[0x0,0x6],[0x0,0x7]],[[0x0,-0x1],[0x0,-0x2],[0x0,-0x3],[0x0,-0x4],[0x0,-0x5],[0x0,-0x6],[0x0,-0x7]]],'N':[[[0x1,0x2]],[[-0x1,0x2]],[[0x1,-0x2]],[[-0x1,-0x2]],[[0x2,0x1]],[[-0x2,0x1]],[[0x2,-0x1]],[[-0x2,-0x1]]],'B':[[[0x1,0x1],[0x2,0x2],[0x3,0x3],[0x4,0x4],[0x5,0x5],[0x6,0x6],[0x7,0x7]],[[-0x1,0x1],[-0x2,0x2],[-0x3,0x3],[-0x4,0x4],[-0x5,0x5],[-0x6,0x6],[-0x7,0x7]],[[0x1,-0x1],[0x2,-0x2],[0x3,-0x3],[0x4,-0x4],[0x5,-0x5],[0x6,-0x6],[0x7,-0x7]],[[-0x1,-0x1],[-0x2,-0x2],[-0x3,-0x3],[-0x4,-0x4],[-0x5,-0x5],[-0x6,-0x6],[-0x7,-0x7]]],'Q':[[[0x1,0x0],[0x2,0x0],[0x3,0x0],[0x4,0x0],[0x5,0x0],[0x6,0x0],[0x7,0x0]],[[-0x1,0x0],[-0x2,0x0],[-0x3,0x0],[-0x4,0x0],[-0x5,0x0],[-0x6,0x0],[-0x7,0x0]],[[0x0,0x1],[0x0,0x2],[0x0,0x3],[0x0,0x4],[0x0,0x5],[0x0,0x6],[0x0,0x7]],[[0x0,-0x1],[0x0,-0x2],[0x0,-0x3],[0x0,-0x4],[0x0,-0x5],[0x0,-0x6],[0x0,-0x7]],[[0x1,0x1],[0x2,0x2],[0x3,0x3],[0x4,0x4],[0x5,0x5],[0x6,0x6],[0x7,0x7]],[[-0x1,0x1],[-0x2,0x2],[-0x3,0x3],[-0x4,0x4],[-0x5,0x5],[-0x6,0x6],[-0x7,0x7]],[[0x1,-0x1],[0x2,-0x2],[0x3,-0x3],[0x4,-0x4],[0x5,-0x5],[0x6,-0x6],[0x7,-0x7]],[[-0x1,-0x1],[-0x2,-0x2],[-0x3,-0x3],[-0x4,-0x4],[-0x5,-0x5],[-0x6,-0x6],[-0x7,-0x7]]],'K':[[[0x1,0x0]],[[0x1,0x1]],[[0x0,0x1]],[[-0x1,0x1]],[[-0x1,0x0]],[[-0x1,-0x1]],[[0x0,-0x1]],[[0x1,-0x1]]]};function pos2fen(_0x28e68d){var _0x2c725b=_0x13c3c3;ret='';for(var _0x52deea=0x7;_0x52deea>=0x0;_0x52deea--){var _0x458938=0x0;for(var _0x3da452=0x0;_0x3da452<0x8;_0x3da452++){if(_0x28e68d['b'][_0x3da452][_0x52deea]['length']<0x3)console['log'](_0x2c725b(0x21f)+_0x28e68d['b'][_0x3da452][_0x52deea]);var _0x4fe59c=_0x28e68d['b'][_0x3da452][_0x52deea][0x0],_0x1c592c=_0x28e68d['b'][_0x3da452][_0x52deea][0x1];if(_0x1c592c=='\x20')_0x458938++;else{if(_0x458938>0x0)ret+=''+_0x458938;_0x458938=0x0;if(_0x4fe59c=='b')_0x1c592c=_0x1c592c['toLowerCase']();ret+=_0x1c592c;}}if(_0x458938>0x0)ret+=''+_0x458938;if(_0x52deea>0x0)ret+='/';}return ret+='\x20'+_0x28e68d[_0x2c725b(0x129)]+'\x20'+_0x28e68d['castle']+'\x20'+_0x28e68d[_0x2c725b(0x121)]+'\x20'+_0x28e68d[_0x2c725b(0x15f)]+'\x20'+_0x28e68d['counter'],ret;}function fen2pos(_0x449eb2){var _0x5645ed=_0x13c3c3,_0x1356eb=new Position();_0x1356eb[_0x5645ed(0x1ec)]=_0x449eb2;var _0x48f9cd={'w':{'P':0x0,'N':0x0,'B':0x0,'R':0x0,'Q':0x0,'K':0x0},'b':{'P':0x0,'N':0x0,'B':0x0,'R':0x0,'Q':0x0,'K':0x0}},_0x2f2c32=_0x449eb2[_0x5645ed(0x17e)]('\x20');_0x1356eb[_0x5645ed(0x129)]=_0x2f2c32[0x1],_0x1356eb['castle']=_0x2f2c32[0x2],_0x1356eb['enpassant']=_0x2f2c32[0x3],_0x1356eb[_0x5645ed(0x15f)]=_0x2f2c32[0x4],_0x1356eb[_0x5645ed(0x15b)]=_0x2f2c32[0x5],_0x2f2c32[0x0]+='/',_0x1356eb['b']=emptyBoard();var _0x3e05ba=0x0;for(var _0x25f80f=0x7;_0x25f80f>=0x0;_0x25f80f--){var _0x2d9fc7=_0x2f2c32[0x0][_0x3e05ba++],_0x13e057,_0x474743=0x0;while(_0x2d9fc7!='/'&&_0x2d9fc7!='\x20'){if(_0x2d9fc7>='1'&&_0x2d9fc7<='8')_0x474743+=parseInt(_0x2d9fc7);else{_0x2d9fc7>='a'&&_0x2d9fc7<='z'?(_0x13e057='b',_0x2d9fc7=_0x2d9fc7['toUpperCase']()):_0x13e057='w';;_0x474743<0x8&&(_0x1356eb['b'][_0x474743][_0x25f80f]=_0x13e057+_0x2d9fc7+ ++_0x48f9cd[_0x13e057][_0x2d9fc7],_0x474743++);}_0x2d9fc7=_0x2f2c32[0x0][_0x3e05ba++];}}return _0x1356eb;}function isFile(_0x31ca9c,_0x473c2e){var _0x567060=_0x13c3c3;if(_0x473c2e<_0x31ca9c[_0x567060(0x199)])return F['indexOf'](_0x31ca9c[_0x473c2e]);else return-0x1;}function isRank(_0xb2d4a5,_0x182234){var _0x120b2a=_0x13c3c3;if(_0x182234<_0xb2d4a5['length'])return R[_0x120b2a(0x19b)](_0xb2d4a5[_0x182234]);else return-0x1;}function isTakes(_0x105519,_0x1d0b91){return _0x105519[_0x1d0b91]=='x';}function calcMoveSquare(_0x7dbad3,_0x45b2b3,_0xc26876){var _0x4912eb=_0x13c3c3,_0x1b33e3=-0x1,_0x27726f=-0x1;for(var _0x5101cd=0x0;_0x5101cd<0x8;_0x5101cd++)for(var _0x5bfcef=0x0;_0x5bfcef<0x8;_0x5bfcef++){if(_0x7dbad3['b'][_0x5101cd][_0x5bfcef][_0x4912eb(0x228)](0x0,0x2)==_0x45b2b3[_0x4912eb(0x10e)]){var _0xef7647=calcMoves(_0x7dbad3,_0x5101cd,_0x5bfcef,_0xc26876,_0x7dbad3['b'][_0x5101cd][_0x5bfcef],'normal');for(var _0x2063ec=0x0;_0x2063ec<_0xef7647['length'];_0x2063ec++){_0xef7647[_0x2063ec][0x0]==_0x45b2b3[_0x4912eb(0x250)]&&_0xef7647[_0x2063ec][0x1]==_0x45b2b3[_0x4912eb(0x1f6)]&&((_0x45b2b3[_0x4912eb(0xed)]==-0x1||_0x45b2b3['moveF']==_0x5101cd)&&(_0x45b2b3[_0x4912eb(0x21e)]==-0x1||_0x45b2b3[_0x4912eb(0x21e)]==_0x5bfcef)&&(_0x45b2b3[_0x4912eb(0xed)]=_0x5101cd,_0x45b2b3[_0x4912eb(0x21e)]=_0x5bfcef,_0x45b2b3[_0x4912eb(0x10e)]=_0x7dbad3['b'][_0x5101cd][_0x5bfcef],_0x2063ec=_0xef7647[_0x4912eb(0x199)]-0x1,_0x5101cd=0x7,_0x5bfcef=0x7));}}}(_0x45b2b3[_0x4912eb(0xed)]==-0x1||_0x45b2b3['moveR']==-0x1)&&(console[_0x4912eb(0xd8)](_0x45b2b3),alert('Pgn\x20move\x20fail,\x20see\x20console.log!'));}function doPgnMove(_0x37c9f6,_0x3f5c0c,_0x387837){var _0x5e07a4=_0x13c3c3,_0x11985f=new MoveData();_0x11985f['display']=_0x387837;if(_0x387837==_0x5e07a4(0x1dc))var _0x5bdf9c=_0x5e07a4(0x1f9);var _0x2c08c9=_0x3f5c0c[_0x5e07a4(0x129)],_0x345cb8=_0x387837[_0x5e07a4(0x199)],_0x2bc0e9=_0x387837[0x0];_0x11985f['leftPiece']=EMPTY,_0x11985f[_0x5e07a4(0x1f4)]=EMPTY;if(_0x2bc0e9=='0'||_0x2bc0e9=='O'){_0x11985f['moveF']=0x4;var _0x3f4525=_0x2c08c9=='w'?0x0:0x7;_0x11985f[_0x5e07a4(0x21e)]=_0x3f4525,_0x11985f[_0x5e07a4(0x1f6)]=_0x3f4525,_0x11985f[_0x5e07a4(0x10e)]=_0x3f5c0c['b'][_0x11985f[_0x5e07a4(0xed)]][_0x11985f[_0x5e07a4(0x21e)]],_0x11985f[_0x5e07a4(0x14b)]=_0x11985f['movePiece'],_0x387837[_0x5e07a4(0x199)]>0x4&&(_0x387837[0x4]=='0'||_0x387837[0x4]=='O')?_0x11985f[_0x5e07a4(0x250)]=0x2:_0x11985f[_0x5e07a4(0x250)]=0x6;}else{var _0x368668=0x1;_0x2bc0e9!='N'&&_0x2bc0e9!='B'&&_0x2bc0e9!='R'&&_0x2bc0e9!='Q'&&_0x2bc0e9!='K'&&(_0x2bc0e9='P',_0x368668=0x0);_0x11985f[_0x5e07a4(0x10e)]=_0x2c08c9+_0x2bc0e9;var _0x54d8cf=![];_0x11985f[_0x5e07a4(0xed)]=-0x1,_0x11985f['moveR']=-0x1;if(isRank(_0x387837,_0x368668)!=-0x1)_0x11985f[_0x5e07a4(0x21e)]=isRank(_0x387837,_0x368668),_0x368668++;else{if(isFile(_0x387837,_0x368668)!=-0x1){if(isFile(_0x387837,_0x368668+0x1)!=-0x1||isTakes(_0x387837,_0x368668+0x1))_0x11985f[_0x5e07a4(0xed)]=isFile(_0x387837,_0x368668),_0x368668++;else isRank(_0x387837,_0x368668+0x1)!=-0x1&&(isTakes(_0x387837,_0x368668+0x2)||isFile(_0x387837,_0x368668+0x2)!=-0x1)&&(_0x11985f['moveF']=isFile(_0x387837,_0x368668),_0x368668++,_0x11985f[_0x5e07a4(0x21e)]=isRank(_0x387837,_0x368668),_0x368668++);}}isTakes(_0x387837,_0x368668)&&(_0x54d8cf=!![],_0x368668++);_0x11985f[_0x5e07a4(0x250)]=isFile(_0x387837,_0x368668),_0x11985f[_0x5e07a4(0x1f6)]=isRank(_0x387837,_0x368668+0x1),_0x11985f[_0x5e07a4(0x1f4)]=_0x54d8cf?_0x3f5c0c['b'][_0x11985f['newF']][_0x11985f['newR']]:EMPTY,calcMoveSquare(_0x3f5c0c,_0x11985f,_0x54d8cf?'attack':'moves'),_0x368668+=0x2,_0x11985f[_0x5e07a4(0x14b)]=_0x11985f['movePiece'];if(_0x368668<_0x345cb8){if(_0x387837[_0x368668]=='=')_0x11985f[_0x5e07a4(0x14b)]=_0x2c08c9+_0x387837[_0x368668+0x1]+_0x3f5c0c[_0x5e07a4(0xf5)](_0x2c08c9+_0x387837[_0x368668+0x1]);}}var _0x1ad80a=new Move();_0x1ad80a[_0x5e07a4(0xf2)](_0x11985f),doMove(_0x1ad80a,'pgn');if(PGNLOG)console[_0x5e07a4(0xd8)](_0x11985f);(_0x3f5c0c['b'][_0x11985f[_0x5e07a4(0x250)]][_0x11985f[_0x5e07a4(0x1f6)]]!=_0x11985f[_0x5e07a4(0x14b)]||_0x3f5c0c['b'][_0x11985f['moveF']][_0x11985f['moveR']]!=EMPTY)&&(console[_0x5e07a4(0xd8)](_0x11985f),alert(_0x5e07a4(0x190)));}class Rect{constructor(_0x2302b5,_0x317964,_0x3dd897,_0x14c790,_0x32bf5b,_0x6f0038,_0x1afa29){var _0x2d01a1=_0x13c3c3;this['x']=_0x317964,this['y']=_0x3dd897,this['w']=_0x14c790,this['h']=_0x32bf5b,this['parent']=_0x2302b5;if(this[_0x2d01a1(0x107)]!=null)_0x2302b5['os'][_0x2d01a1(0x1ad)](this);this[_0x2d01a1(0x1da)]=_0x1afa29,this['ax']=0x0,this['ay']=0x0,this['os']=[],this[_0x2d01a1(0x240)]=_0x6f0038,this['ax']=this['x'],this['ay']=this['y'],this[_0x2d01a1(0x22e)]=COLOR[_0x2d01a1(0x168)],this[_0x2d01a1(0x1f8)]=COLOR['TOOLBAR'][_0x2d01a1(0xf7)],this[_0x2d01a1(0x129)]=COLOR[_0x2d01a1(0x149)]['COLOR'];}[_0x13c3c3(0x131)](){var _0x4267e5=_0x13c3c3;this['os'][_0x4267e5(0x20d)](_0x178f69=>{_0x178f69['ax']=this['ax']+_0x178f69['x'],_0x178f69['ay']=this['ay']+_0x178f69['y'],_0x178f69['absolute']();});}[_0x13c3c3(0xef)](_0x7f805c,_0x2f0320){var _0xe12d19=_0x13c3c3;this['x']=_0x7f805c,this['y']=_0x2f0320,this[_0xe12d19(0x131)]();}[_0x13c3c3(0x1d1)](_0x37131e,_0x463d94){this['w']=_0x37131e,this['h']=_0x463d94;}[_0x13c3c3(0x277)](_0xf95ca1){this['os']['push'](_0xf95ca1);}[_0x13c3c3(0x20f)](_0x57b27a,_0x338d51){return _0x57b27a>this['ax']&&_0x57b27a<this['ax']+this['w']&&_0x338d51>this['ay']&&_0x338d51<this['ay']+this['h'];}[_0x13c3c3(0x262)](){var _0x42123c=_0x13c3c3;ui[_0x42123c(0xdc)][_0x42123c(0xf6)](),ui[_0x42123c(0xdc)]['fillStyle']=this[_0x42123c(0x22e)],ui[_0x42123c(0xdc)][_0x42123c(0x1ea)](this['ax'],this['ay']+0.5,this['w'],this['h']),ui[_0x42123c(0xdc)][_0x42123c(0x1cb)]=this[_0x42123c(0x1f8)],ui['ctx'][_0x42123c(0x1a3)]=0x1;if(this[_0x42123c(0x240)]==_0x42123c(0x240))drawRect(this['ax'],this['ay'],this['w'],this['h']);ui[_0x42123c(0xdc)][_0x42123c(0x102)](),ui[_0x42123c(0xdc)][_0x42123c(0x1cb)]=this[_0x42123c(0x129)],ui[_0x42123c(0xdc)][_0x42123c(0x1a3)]=0x1,this['os'][_0x42123c(0x20d)](_0x157a75=>{var _0x1f92bd=_0x42123c;if(_0x157a75[_0x1f92bd(0x1da)]())_0x157a75[_0x1f92bd(0x262)]();});}}class Textbox extends Rect{constructor(_0x3a95b4,_0x5e408a,_0x5881ea,_0x312599,_0x400c7a,_0x1d4e84,_0x4a561c,_0x5edb5c,_0x385f84){var _0x5b4ba7=_0x13c3c3;super(_0x5e408a,_0x5881ea,_0x312599,_0x400c7a,_0x1d4e84,_0x4a561c,_0x5edb5c),this[_0x5b4ba7(0x11d)]=_0x3a95b4,ui[_0x5b4ba7(0x21c)]['push'](this),this['defaultText']=_0x385f84,this[_0x5b4ba7(0x242)]=_0x385f84,this[_0x5b4ba7(0x1b2)]=0x0,this[_0x5b4ba7(0xf1)]=0x0,this[_0x5b4ba7(0xe2)]=0x1,this['selectEnd']=0x0,this[_0x5b4ba7(0x246)]=[],this[_0x5b4ba7(0x101)]=![],this['px']=0x7,this['py']=0x7,this[_0x5b4ba7(0x22e)]=COLOR[_0x5b4ba7(0x232)][_0x5b4ba7(0x168)],this[_0x5b4ba7(0x1f8)]=COLOR['TEXTBOX'][_0x5b4ba7(0xf7)],this['color']=COLOR[_0x5b4ba7(0x232)][_0x5b4ba7(0x198)];}[_0x13c3c3(0xe6)](){var _0x53fd8c=_0x13c3c3;this[_0x53fd8c(0x242)]='',this[_0x53fd8c(0x1b2)]=0x0;}[_0x13c3c3(0x262)](){var _0x4fa1ad=_0x13c3c3;super[_0x4fa1ad(0x262)]();var _0x56c123=this[_0x4fa1ad(0xf1)],_0x2b9252=!![],_0x2a50b6=this['ax']+this['px'],_0x176a75=this['y']+this['py'],_0x20a3fd;this[_0x4fa1ad(0x246)]=[];while(_0x2b9252&&_0x56c123<=this[_0x4fa1ad(0x242)]['length']){this['ptrCursor']==_0x56c123&&this[_0x4fa1ad(0x101)]&&(ui[_0x4fa1ad(0xdc)][_0x4fa1ad(0xf6)](),ui['ctx'][_0x4fa1ad(0x139)](_0x2a50b6,_0x176a75-0x3),ui[_0x4fa1ad(0xdc)][_0x4fa1ad(0x19c)](_0x2a50b6,_0x176a75+this['h']-0x2*this['py']+0x3),ui['ctx'][_0x4fa1ad(0x102)]());_0x56c123<this[_0x4fa1ad(0x242)]['length']&&(_0x20a3fd=drawText(0x3,'',_0x4fa1ad(0x164),_0x4fa1ad(0x15a),this['text'][_0x56c123],_0x2a50b6,_0x176a75,_0x4fa1ad(0xfa)),this['posChars'][_0x56c123]=[_0x2a50b6,_0x176a75-0x3,_0x20a3fd,this['h']-0x2*this['py']+0x6],drawText(0x3,'',_0x4fa1ad(0x164),_0x4fa1ad(0x15a),this[_0x4fa1ad(0x242)][_0x56c123],_0x2a50b6,_0x176a75,''));_0x56c123>=this['selectStart']&&_0x56c123<=this[_0x4fa1ad(0x103)]&&(ui[_0x4fa1ad(0xdc)][_0x4fa1ad(0xf6)](),ui[_0x4fa1ad(0xdc)]['fillStyle']=_0x4fa1ad(0x1cc),ui[_0x4fa1ad(0xdc)][_0x4fa1ad(0x1ea)](_0x2a50b6,_0x176a75-0x3,_0x20a3fd,this['h']-0x2*this['py']+0x6),ui[_0x4fa1ad(0x122)]=COLOR[_0x4fa1ad(0x1a1)][_0x4fa1ad(0xdf)],ui[_0x4fa1ad(0xdc)][_0x4fa1ad(0x102)]());ui['textColor']=COLOR['TEXT'][_0x4fa1ad(0x208)],_0x2a50b6+=_0x20a3fd,_0x56c123++;if(_0x2a50b6+drawText(0x3,'',_0x4fa1ad(0x164),_0x4fa1ad(0x15a),this['text'][_0x56c123],_0x2a50b6,_0x176a75,_0x4fa1ad(0xfa))>this['ax']+this['w']-this['px'])_0x2b9252=![];}this['posChars'][_0x4fa1ad(0x1ad)]([_0x2a50b6,_0x176a75-0x3,this['ax']+this['w']-_0x2a50b6,this['h']-0x2*this['py']+0x6]);{}}[_0x13c3c3(0x1a2)](_0x3f5f54,_0x2e3639){var _0x59ba60=_0x13c3c3;ui[_0x59ba60(0x12a)]=this;if(this[_0x59ba60(0x242)]==this[_0x59ba60(0x1d8)])this[_0x59ba60(0xe6)]();else for(var _0x592c40=0x0;_0x592c40<this[_0x59ba60(0x246)]['length'];_0x592c40++){var _0x158a7d=this[_0x59ba60(0x246)][_0x592c40];_0x3f5f54>=_0x158a7d[0x0]&&_0x3f5f54<=_0x158a7d[0x0]+_0x158a7d[0x2]&&_0x2e3639>=_0x158a7d[0x1]&&_0x2e3639<=_0x158a7d[0x1]+_0x158a7d[0x3]&&(this[_0x59ba60(0x1b2)]=_0x592c40,_0x592c40=this['posChars'][_0x59ba60(0x199)]);}g[_0x59ba60(0xec)](SM['S'][_0x59ba60(0x232)]),doRedraw();}}function textCursorTick(_0x4dc8f5){return!_0x4dc8f5;}class UI{constructor(){var _0x33379f=_0x13c3c3;this[_0x33379f(0xf0)],this[_0x33379f(0x273)]=0xc,this['imgs']=[],this[_0x33379f(0x1c5)]=['bP','bN','bB','bR','bQ','bK','wP','wN','wB','wR','wQ','wK'],this[_0x33379f(0x12d)]=[],this['lastEvent']=null,this[_0x33379f(0x1a0)],this[_0x33379f(0x122)]=COLOR['TEXT'][_0x33379f(0x208)],this['dm']=0x28,this['ds']=0x14,this[_0x33379f(0x1f3)]=0x0,this[_0x33379f(0x12a)]=null,this[_0x33379f(0x21c)]=[],this[_0x33379f(0x25f)]=0x0;}[_0x13c3c3(0x1f0)](){var _0x4235fb=_0x13c3c3;for(var _0x596d32=0x0;_0x596d32<this[_0x4235fb(0x1c5)][_0x4235fb(0x199)];_0x596d32++){var _0x9d1239=new Image();_0x9d1239['onload']=onloadImage,_0x9d1239[_0x4235fb(0x1a6)]='./svg/'+this[_0x4235fb(0x1c5)][_0x596d32]+_0x4235fb(0x10c);if(!NOSVG&&!NOIMAGEDATA)_0x9d1239['crossOrigin']=_0x4235fb(0x18a);this[_0x4235fb(0x134)][_0x4235fb(0x1ad)](_0x9d1239);}}['push'](_0x2513e5,_0x595c96){var _0x3127b3=_0x13c3c3;if(typeof _0x2513e5!==_0x3127b3(0x154)){}else alert(_0x3127b3(0x266)),console[_0x3127b3(0xd8)](new Error()[_0x3127b3(0x213)]);if(_0x2513e5==SM['E'][_0x3127b3(0x1fb)]&&this[_0x3127b3(0x12d)][_0x3127b3(0x199)]>0x0&&this[_0x3127b3(0x1af)][_0x3127b3(0x230)]==SM['E'][_0x3127b3(0x1fb)])this['events'][_0x3127b3(0x20a)](-0x1,0x1);if(_0x2513e5==SM['E'][_0x3127b3(0x1c4)]&&this[_0x3127b3(0x12d)][_0x3127b3(0x199)]>0x0&&this[_0x3127b3(0x1af)][_0x3127b3(0x230)]==SM['E'][_0x3127b3(0x1c4)])return;var _0x1f2c37=new Event();_0x1f2c37[_0x3127b3(0xe3)](_0x2513e5),_0x1f2c37[_0x3127b3(0x18b)]=_0x595c96,_0x1f2c37[_0x3127b3(0x105)]=Date[_0x3127b3(0x105)](),_0x1f2c37[_0x3127b3(0x18c)]=_0x595c96['button'];var _0x310393=ui[_0x3127b3(0x109)][_0x3127b3(0x16c)]();_0x1f2c37['mx']=_0x595c96['clientX']-_0x310393[_0x3127b3(0x164)],_0x1f2c37['my']=_0x595c96[_0x3127b3(0xea)]-_0x310393[_0x3127b3(0x15a)],_0x1f2c37['f']=Math[_0x3127b3(0x23e)]((_0x1f2c37['mx']-b1['dx'])/b1['d']),_0x1f2c37['r']=0x7-Math[_0x3127b3(0x23e)]((_0x1f2c37['my']-b1['dy'])/b1['d']),_0x1f2c37[_0x3127b3(0xfd)]=pos[_0x3127b3(0x1e5)](_0x1f2c37['f'],_0x1f2c37['r']),b1['flip']&&(_0x1f2c37['f']=0x7-_0x1f2c37['f'],_0x1f2c37['r']=0x7-_0x1f2c37['r']),this[_0x3127b3(0x12d)]['push'](_0x1f2c37),this['lastEvent']=_0x1f2c37;}}function onloadImage(){var _0x364cf7=_0x13c3c3;ui[_0x364cf7(0x273)]--;}function tick(){var _0x32a38a=_0x13c3c3;ui[_0x32a38a(0x273)]==0x0&&(clearInterval(ui['ticktimer']),onloadCallback());}function nextPos(_0x10a1f9=![],_0x565eb7=![]){var _0x2012f4=_0x13c3c3;a[_0x2012f4(0x179)][_0x2012f4(0x13e)](pos);if(_0x10a1f9)pos['initPos'](g['bs'][g['ply']]);if(_0x565eb7)a[_0x2012f4(0x1f7)]();else callbackAnimPos();}function callbackAnimPos(){doRedraw();}class Anim{constructor(){var _0x652351=_0x13c3c3;this['pos']=new Position(),this['d']=new MoveData(),this['aniTimer'],this[_0x652351(0x248)],this[_0x652351(0x1cd)]=0x7,this[_0x652351(0x135)]=0x1e,this[_0x652351(0x252)]=![],this['forward']=![],this[_0x652351(0x207)]=[];}['anim'](_0x52dbf7,_0x24c55f,_0x55ec46){var _0x149473=_0x13c3c3;this['d']=_0x52dbf7,this['forward']=_0x55ec46,this[_0x149473(0x248)]=_0x24c55f=='drag'?0x0:this[_0x149473(0x1cd)],this['attacker']=![];var _0x17806d=calcMoves(pos,this['d'][_0x149473(0x250)],this['d'][_0x149473(0x1f6)],_0x149473(0x1b4),this['d'][_0x149473(0x10e)],'normal');for(var _0x5026cc=0x0;_0x5026cc<_0x17806d['length'];_0x5026cc++){pos['b'][_0x17806d[_0x5026cc][0x0]][_0x17806d[_0x5026cc][0x1]][0x0]==oppColor(this['d'][_0x149473(0x10e)][0x0])&&(this['attacker']=!![]);}this[_0x149473(0x100)]=setTimeout(ani,this[_0x149473(0x135)]);}[_0x13c3c3(0x24b)](_0x113f9b,_0x3525b1,_0x38c70d){var _0x41e249=_0x13c3c3;return(_0x38c70d*_0x113f9b+(this['aniPhases']-_0x38c70d)*_0x3525b1)/this[_0x41e249(0x1cd)];}[_0x13c3c3(0x1f7)](){var _0x9b73c0=_0x13c3c3;this[_0x9b73c0(0x248)]=this['aniPhases'],this[_0x9b73c0(0x207)]=[];for(var _0x53100f=0x0;_0x53100f<0x8;_0x53100f++)for(var _0x1b06f3=0x0;_0x1b06f3<0x8;_0x1b06f3++){if(this[_0x9b73c0(0x179)]['b'][_0x53100f][_0x1b06f3]!=EMPTY){var _0x340566=new MoveData();_0x340566[_0x9b73c0(0x10e)]=this[_0x9b73c0(0x179)]['b'][_0x53100f][_0x1b06f3],_0x340566[_0x9b73c0(0xed)]=_0x53100f,_0x340566['moveR']=_0x1b06f3;var _0x15a635=![];for(var _0x5dbccc=0x0;_0x5dbccc<0x8;_0x5dbccc++)for(var _0x26469a=0x0;_0x26469a<0x8;_0x26469a++){pos['b'][_0x5dbccc][_0x26469a]==this[_0x9b73c0(0x179)]['b'][_0x53100f][_0x1b06f3]&&(_0x15a635=!![],_0x340566[_0x9b73c0(0x250)]=_0x5dbccc,_0x340566[_0x9b73c0(0x1f6)]=_0x26469a);}if(!_0x15a635){if(_0x53100f<=_0x1b06f3&&_0x53100f<=0x7-_0x1b06f3)_0x340566[_0x9b73c0(0x250)]=-0x1,_0x340566[_0x9b73c0(0x1f6)]=_0x1b06f3;else{if(_0x53100f>=_0x1b06f3&&0x7-_0x53100f>=_0x1b06f3)_0x340566[_0x9b73c0(0x250)]=_0x53100f,_0x340566[_0x9b73c0(0x1f6)]=-0x1;else{if(0x7-_0x53100f<=_0x1b06f3&&0x7-_0x53100f<=0x7-_0x1b06f3)_0x340566['newF']=0x8,_0x340566[_0x9b73c0(0x1f6)]=_0x1b06f3;else _0x53100f>=0x7-_0x1b06f3&&0x7-_0x53100f>=0x7-_0x1b06f3&&(_0x340566[_0x9b73c0(0x250)]=_0x53100f,_0x340566[_0x9b73c0(0x1f6)]=0x8);}}}this[_0x9b73c0(0x207)][_0x9b73c0(0x1ad)](_0x340566);}}for(var _0x5dbccc=0x0;_0x5dbccc<0x8;_0x5dbccc++)for(var _0x26469a=0x0;_0x26469a<0x8;_0x26469a++){if(pos['b'][_0x5dbccc][_0x26469a]!=EMPTY){var _0x15a635=![];for(var _0x53100f=0x0;_0x53100f<0x8;_0x53100f++)for(var _0x1b06f3=0x0;_0x1b06f3<0x8;_0x1b06f3++){pos['b'][_0x5dbccc][_0x26469a]==this[_0x9b73c0(0x179)]['b'][_0x53100f][_0x1b06f3]&&(_0x15a635=!![]);}if(!_0x15a635){var _0x340566=new MoveData();_0x340566[_0x9b73c0(0x10e)]=pos['b'][_0x5dbccc][_0x26469a],_0x340566['newF']=_0x5dbccc,_0x340566[_0x9b73c0(0x1f6)]=_0x26469a;if(_0x5dbccc<=_0x26469a&&_0x5dbccc<=0x7-_0x26469a)_0x340566[_0x9b73c0(0xed)]=-0x1,_0x340566[_0x9b73c0(0x21e)]=_0x26469a;else{if(_0x5dbccc>=_0x26469a&&0x7-_0x5dbccc>=_0x26469a)_0x340566[_0x9b73c0(0xed)]=_0x5dbccc,_0x340566[_0x9b73c0(0x21e)]=-0x1;else{if(0x7-_0x5dbccc<=_0x26469a&&0x7-_0x5dbccc<=0x7-_0x26469a)_0x340566[_0x9b73c0(0xed)]=0x8,_0x340566['moveR']=_0x26469a;else _0x5dbccc>=0x7-_0x26469a&&0x7-_0x5dbccc>=0x7-_0x26469a&&(_0x340566[_0x9b73c0(0xed)]=_0x5dbccc,_0x340566[_0x9b73c0(0x21e)]=0x8);}}this[_0x9b73c0(0x207)][_0x9b73c0(0x1ad)](_0x340566);}}}ui[_0x9b73c0(0xdc)]['save'](),ui[_0x9b73c0(0xdc)][_0x9b73c0(0xf6)](),ui[_0x9b73c0(0xdc)]['rect'](0x0,0x0,b1[_0x9b73c0(0x216)],b1['offset']),ui[_0x9b73c0(0xdc)][_0x9b73c0(0x26f)](),this['aniTimer']=setTimeout(aniPos,this[_0x9b73c0(0x135)]);}[_0x13c3c3(0xeb)](_0x461a61){var _0x5935f5=_0x13c3c3;if(SILENT==0x0){if(_0x461a61[_0x5935f5(0x1f4)]!=EMPTY)soundCapture['play']();else{if(_0x461a61['movePiece'][0x1]=='K'&&Math[_0x5935f5(0x166)](_0x461a61[_0x5935f5(0xed)]-_0x461a61[_0x5935f5(0x250)])==0x2)soundCastle2[_0x5935f5(0xff)]();else soundMove['play']();}}}['sleep'](_0x262630){var _0x397e39=_0x13c3c3;const _0xbd73d8=Date[_0x397e39(0x105)]();let _0x1dd62e=null;do{_0x1dd62e=Date[_0x397e39(0x105)]();}while(_0x1dd62e-_0xbd73d8<_0x262630);}}function ani(){var _0x1a4895=_0x13c3c3,_0x10113d=a[_0x1a4895(0x252)]&&a[_0x1a4895(0x128)]?0x3:0x0;b1[_0x1a4895(0x262)](),a['pos']['b'][a['d']['moveF']][a['d']['moveR']]=a['d'][_0x1a4895(0x188)],drawPieces(a[_0x1a4895(0x179)]['b']);var _0x41c591=b1[_0x1a4895(0x177)]?0x7-a['d']['moveF']:a['d']['moveF'],_0x5f45ee=b1['flip']?0x7-a['d'][_0x1a4895(0x21e)]:a['d']['moveR'],_0xeac08e=b1[_0x1a4895(0x177)]?0x7-a['d']['newF']:a['d'][_0x1a4895(0x250)],_0x9e9158=b1[_0x1a4895(0x177)]?0x7-a['d'][_0x1a4895(0x1f6)]:a['d'][_0x1a4895(0x1f6)];a[_0x1a4895(0x248)]--;if(a['aniStep']>=0x0)drawAbsPiece(a['d'][_0x1a4895(0x10e)],a[_0x1a4895(0x24b)](b1['f2x'](_0x41c591)+b1['d']/0x2-0xe*b1['dp']/0x1e,b1[_0x1a4895(0x201)](_0xeac08e)+b1['d']/0x2-0xe*b1['dp']/0x1e,a['aniStep']),a[_0x1a4895(0x24b)](b1['r2y'](_0x5f45ee)+b1['d']/0x2-0xe*b1['dp']/0x1e,b1[_0x1a4895(0x204)](_0x9e9158)+b1['d']/0x2-0xe*b1['dp']/0x1e,a[_0x1a4895(0x248)]),0xe*b1['dp']/0xf);else{if(a[_0x1a4895(0x248)]==-0x1)drawAbsPiece(a['d'][_0x1a4895(0x10e)],b1[_0x1a4895(0x201)](_0xeac08e)+b1['d']/0x2-0xe*b1['dp']/0x1e-_0x10113d,b1['r2y'](_0x9e9158)+b1['d']/0x2-0xe*b1['dp']/0x1e,0xe*b1['dp']/0xf);else{if(a[_0x1a4895(0x248)]==-0x2)drawAbsPiece(a['d'][_0x1a4895(0x10e)],b1['f2x'](_0xeac08e)+b1['d']/0x2-0xe*b1['dp']/0x1e+_0x10113d,b1['r2y'](_0x9e9158)+b1['d']/0x2-0xe*b1['dp']/0x1e,0xe*b1['dp']/0xf);else a[_0x1a4895(0x248)]==-0x3&&drawAbsPiece(a['d'][_0x1a4895(0x10e)],b1['f2x'](_0xeac08e)+b1['d']/0x2-0xe*b1['dp']/0x1e,b1['r2y'](_0x9e9158)+b1['d']/0x2-0xe*b1['dp']/0x1e,0xe*b1['dp']/0xf);}}drawArrows(g[_0x1a4895(0x151)]);if(a[_0x1a4895(0x248)]<-0x3)nextPos(!![]),callbackMove();else setTimeout(ani,a[_0x1a4895(0x135)]);}function aniPos(){var _0x47da2f=_0x13c3c3;b1['render'](),a[_0x47da2f(0x248)]--;if(a[_0x47da2f(0x248)]>=0x0){for(var _0x31e682=0x0;_0x31e682<a['posPairs'][_0x47da2f(0x199)];_0x31e682++){var _0x8bedb7=b1['flip']?0x7-a['posPairs'][_0x31e682][_0x47da2f(0xed)]:a[_0x47da2f(0x207)][_0x31e682][_0x47da2f(0xed)],_0x360afa=b1['flip']?0x7-a['posPairs'][_0x31e682][_0x47da2f(0x21e)]:a[_0x47da2f(0x207)][_0x31e682][_0x47da2f(0x21e)],_0x11d162=b1[_0x47da2f(0x177)]?0x7-a[_0x47da2f(0x207)][_0x31e682][_0x47da2f(0x250)]:a[_0x47da2f(0x207)][_0x31e682]['newF'],_0x4d744a=b1[_0x47da2f(0x177)]?0x7-a[_0x47da2f(0x207)][_0x31e682]['newR']:a[_0x47da2f(0x207)][_0x31e682][_0x47da2f(0x1f6)];drawAbsPiece(a[_0x47da2f(0x207)][_0x31e682][_0x47da2f(0x10e)],a[_0x47da2f(0x24b)](b1[_0x47da2f(0x201)](_0x8bedb7)+b1['d']/0x2-0xe*b1['dp']/0x1e,b1['f2x'](_0x11d162)+b1['d']/0x2-0xe*b1['dp']/0x1e,a[_0x47da2f(0x248)]),a[_0x47da2f(0x24b)](b1[_0x47da2f(0x204)](_0x360afa)+b1['d']/0x2-0xe*b1['dp']/0x1e,b1[_0x47da2f(0x204)](_0x4d744a)+b1['d']/0x2-0xe*b1['dp']/0x1e,a[_0x47da2f(0x248)]),0xe*b1['dp']/0xf);}setTimeout(aniPos,a[_0x47da2f(0x135)]);}else ui[_0x47da2f(0xdc)][_0x47da2f(0x16e)](),callbackAnimPos();}class Position{constructor(){var _0x4f6186=_0x13c3c3;this[_0x4f6186(0x1ec)]='',this['b']=[],this['color']='',this[_0x4f6186(0x108)]='',this[_0x4f6186(0x121)]='',this[_0x4f6186(0x15f)]=0x0,this[_0x4f6186(0x15b)]=0x0;}[_0x13c3c3(0x13e)](_0x426973){var _0x8855ce=_0x13c3c3;this[_0x8855ce(0x1ec)]=_0x426973[_0x8855ce(0x1ec)];for(var _0x5eed14=0x0;_0x5eed14<0x8;_0x5eed14++){this['b'][_0x5eed14]=[];for(var _0x19e503=0x0;_0x19e503<0x8;_0x19e503++){this['b'][_0x5eed14][_0x19e503]=_0x426973['b'][_0x5eed14][_0x19e503];}}this[_0x8855ce(0x129)]=_0x426973[_0x8855ce(0x129)],this[_0x8855ce(0x108)]=_0x426973[_0x8855ce(0x108)],this[_0x8855ce(0x121)]=_0x426973[_0x8855ce(0x121)],this[_0x8855ce(0x15f)]=_0x426973[_0x8855ce(0x15f)],this[_0x8855ce(0x15b)]=_0x426973[_0x8855ce(0x15b)];}[_0x13c3c3(0x1ac)](_0x598de1=initialPosition){var _0x23d754=_0x13c3c3,_0x179ce5=fen2pos(_0x598de1);this[_0x23d754(0x1ec)]=_0x179ce5[_0x23d754(0x1ec)],this['b']=_0x179ce5['b'],this[_0x23d754(0x129)]=_0x179ce5[_0x23d754(0x129)],this[_0x23d754(0x108)]=_0x179ce5[_0x23d754(0x108)],this['enpassant']=_0x179ce5[_0x23d754(0x121)],this[_0x23d754(0x15f)]=_0x179ce5['fifty'],this['counter']=_0x179ce5[_0x23d754(0x15b)];}['calcFen'](){var _0x173274=_0x13c3c3;this[_0x173274(0x1ec)]=pos2fen(this);}[_0x13c3c3(0x1e5)](_0x56832b,_0x560180){return _0x56832b>=0x0&&_0x56832b<0x8&&_0x560180>=0x0&&_0x560180<0x8;}['findKing'](_0x123b48){for(var _0x3ff7fe=0x0;_0x3ff7fe<0x8;_0x3ff7fe++)for(var _0x7db68c=0x0;_0x7db68c<0x8;_0x7db68c++)if(this['b'][_0x3ff7fe][_0x7db68c][0x0]==_0x123b48&&this['b'][_0x3ff7fe][_0x7db68c][0x1]=='K')return[_0x3ff7fe,_0x7db68c];return null;}[_0x13c3c3(0xf5)](_0x1872ff){var _0x3f1b3b=_0x13c3c3,_0xc73f4e=_0x3f1b3b(0x23a);for(var _0x15aac8=0x0;_0x15aac8<0x8;_0x15aac8++)for(var _0x16d04f=0x0;_0x16d04f<0x8;_0x16d04f++)if(pos['b'][_0x15aac8][_0x16d04f]['substr'](0x0,0x2)==_0x1872ff)_0xc73f4e=_0xc73f4e[_0x3f1b3b(0x197)](pos['b'][_0x15aac8][_0x16d04f][0x2],'-');var _0x4a353d='\x20',_0x26ea11=![],_0x2e0990=0x1;while(_0x2e0990<_0xc73f4e[_0x3f1b3b(0x199)]&&!_0x26ea11){_0xc73f4e[_0x2e0990]!='-'&&(_0x4a353d=_0xc73f4e[_0x2e0990],_0x26ea11=!![]),_0x2e0990++;}if(_0x4a353d=='\x20')alert(_0x3f1b3b(0x1c0)+_0x1872ff);else return _0x4a353d;}}class MoveData{constructor(){var _0x410302=_0x13c3c3;this[_0x410302(0x10e)]='',this[_0x410302(0x188)]='',this[_0x410302(0xed)]=-0x1,this[_0x410302(0x21e)]=-0x1,this[_0x410302(0x250)]=-0x1,this[_0x410302(0x1f6)]=-0x1,this[_0x410302(0x1f4)]='',this[_0x410302(0x14b)]='',this['display']='';}[_0x13c3c3(0x176)](){var _0x18e024=_0x13c3c3;this['movePiece']='',this[_0x18e024(0x188)]='',this[_0x18e024(0xed)]=-0x1,this['moveR']=-0x1,this[_0x18e024(0x250)]=-0x1,this[_0x18e024(0x1f6)]=-0x1,this[_0x18e024(0x1f4)]='',this[_0x18e024(0x14b)]='',this[_0x18e024(0x26b)]='';}}class Move extends MoveData{constructor(){var _0x25ab67=_0x13c3c3;super(),this['promotionMove']=[],this[_0x25ab67(0x11a)]='',this['check']='',this['moveFeedback']='',this['targetSquares']=[];}[_0x13c3c3(0x176)](){var _0x598bd1=_0x13c3c3;super['init'](),this[_0x598bd1(0xd1)]=[],this[_0x598bd1(0x11a)]='',this[_0x598bd1(0x278)]='',this[_0x598bd1(0x24f)]='',this[_0x598bd1(0x169)]=[];}['getMoveData'](){var _0x44ba16=_0x13c3c3,_0xc2f555=new MoveData();return _0xc2f555[_0x44ba16(0x10e)]=this[_0x44ba16(0x10e)],_0xc2f555['leftPiece']=this[_0x44ba16(0x188)],_0xc2f555['moveF']=this['moveF'],_0xc2f555[_0x44ba16(0x21e)]=this[_0x44ba16(0x21e)],_0xc2f555[_0x44ba16(0x250)]=this[_0x44ba16(0x250)],_0xc2f555['newR']=this[_0x44ba16(0x1f6)],_0xc2f555[_0x44ba16(0x1f4)]=this['takenPiece'],_0xc2f555[_0x44ba16(0x14b)]=this[_0x44ba16(0x14b)],_0xc2f555[_0x44ba16(0x26b)]=this[_0x44ba16(0x26b)],_0xc2f555;}[_0x13c3c3(0xf2)](_0xb01d0c){var _0x5ec1f7=_0x13c3c3;this['movePiece']=_0xb01d0c[_0x5ec1f7(0x10e)],this[_0x5ec1f7(0x188)]=_0xb01d0c['leftPiece'],this['moveF']=_0xb01d0c[_0x5ec1f7(0xed)],this[_0x5ec1f7(0x21e)]=_0xb01d0c[_0x5ec1f7(0x21e)],this[_0x5ec1f7(0x250)]=_0xb01d0c[_0x5ec1f7(0x250)],this['newR']=_0xb01d0c[_0x5ec1f7(0x1f6)],this[_0x5ec1f7(0x1f4)]=_0xb01d0c[_0x5ec1f7(0x1f4)],this[_0x5ec1f7(0x14b)]=_0xb01d0c[_0x5ec1f7(0x14b)],this[_0x5ec1f7(0x26b)]=_0xb01d0c[_0x5ec1f7(0x26b)];}}function drawRect(_0x534024,_0x531fdf,_0x8a5789,_0x477fe7){var _0x3ad4cf=_0x13c3c3;ui['ctx'][_0x3ad4cf(0x139)](_0x534024+0.5,_0x531fdf+0.5),ui[_0x3ad4cf(0xdc)][_0x3ad4cf(0x19c)](_0x534024+0.5+_0x8a5789,_0x531fdf+0.5),ui[_0x3ad4cf(0xdc)]['lineTo'](_0x534024+0.5+_0x8a5789,_0x531fdf+0.5+_0x477fe7),ui['ctx'][_0x3ad4cf(0x19c)](_0x534024+0.5,_0x531fdf+0.5+_0x477fe7),ui['ctx'][_0x3ad4cf(0x19c)](_0x534024+0.5,_0x531fdf+0.5);}function moveTo(_0x24c5c2,_0x2deb54){var _0xb17d9b=_0x13c3c3;_0x24c5c2=Math[_0xb17d9b(0x23e)](_0x24c5c2)+0.5,_0x2deb54=Math[_0xb17d9b(0x23e)](_0x2deb54)+0.5,ui[_0xb17d9b(0xdc)]['moveTo'](_0x24c5c2,_0x2deb54);}function lineTo(_0x4e7732,_0x49be51){var _0x465f50=_0x13c3c3;_0x4e7732=Math['floor'](_0x4e7732)+0.5,_0x49be51=Math['floor'](_0x49be51)+0.5,ui['ctx'][_0x465f50(0x19c)](_0x4e7732,_0x49be51);}function drawAbsArrow(_0x3a53f4,_0x1a0d89,_0x3710ee,_0x221de4,_0x7e0753,_0x4c39ce,_0x491d18){var _0x45d309=_0x13c3c3;_0x4c39ce=_0x4c39ce==0xa?b1[_0x45d309(0x1d7)]/0x2:b1[_0x45d309(0x1d7)];var _0x188abe=0x2*_0x4c39ce,_0x3cc495=Math[_0x45d309(0x12f)](_0x7e0753-_0x3710ee,_0x221de4-_0x1a0d89);_0x221de4-=Math[_0x45d309(0x19d)](_0x3cc495)*(_0x4c39ce*1.15),_0x7e0753-=Math[_0x45d309(0x1ca)](_0x3cc495)*(_0x4c39ce*1.15),ui[_0x45d309(0xdc)][_0x45d309(0xf6)]();var _0xd6b470=COLOR[_0x45d309(0xd3)][_0x3a53f4];ui[_0x45d309(0xdc)][_0x45d309(0x1cb)]=_0x45d309(0x153)+_0xd6b470[0x0]+','+_0xd6b470[0x1]+','+_0xd6b470[0x2]+','+_0xd6b470[0x3]+')',ui[_0x45d309(0xdc)][_0x45d309(0x1a3)]=_0x4c39ce;if(_0x491d18==0x2)ui[_0x45d309(0xdc)][_0x45d309(0x233)]([0x14,0x7]);ui[_0x45d309(0xdc)][_0x45d309(0x139)](_0x1a0d89,_0x3710ee),ui[_0x45d309(0xdc)]['lineTo'](_0x221de4,_0x7e0753),_0x491d18==0x2&&(ui[_0x45d309(0xdc)]['stroke'](),ui[_0x45d309(0xdc)][_0x45d309(0x1b9)](),ui[_0x45d309(0xdc)]['beginPath'](),ui[_0x45d309(0xdc)][_0x45d309(0x233)]([0x0])),ui[_0x45d309(0xdc)][_0x45d309(0x139)](_0x221de4,_0x7e0753),ui['ctx'][_0x45d309(0x19c)](_0x221de4-_0x188abe*Math['cos'](_0x3cc495-Math['PI']/0x7),_0x7e0753-_0x188abe*Math['sin'](_0x3cc495-Math['PI']/0x7)),ui[_0x45d309(0xdc)]['lineTo'](_0x221de4-_0x188abe*Math[_0x45d309(0x19d)](_0x3cc495+Math['PI']/0x7),_0x7e0753-_0x188abe*Math[_0x45d309(0x1ca)](_0x3cc495+Math['PI']/0x7)),ui[_0x45d309(0xdc)][_0x45d309(0x19c)](_0x221de4,_0x7e0753),ui[_0x45d309(0xdc)][_0x45d309(0x19c)](_0x221de4-_0x188abe*Math[_0x45d309(0x19d)](_0x3cc495-Math['PI']/0x7),_0x7e0753-_0x188abe*Math['sin'](_0x3cc495-Math['PI']/0x7)),ui[_0x45d309(0xdc)][_0x45d309(0x102)](),ui[_0x45d309(0xdc)][_0x45d309(0x233)]([0x0]),ui[_0x45d309(0xdc)]['closePath']();}function drawArrow(_0x2d46c2,_0x825a9,_0x30968d,_0x38294e,_0x3fe0a0,_0x549e6b,_0x3a38bb){var _0x29cf83=_0x13c3c3;b1[_0x29cf83(0x177)]&&(_0x825a9=0x7-_0x825a9,_0x30968d=0x7-_0x30968d,_0x38294e=0x7-_0x38294e,_0x3fe0a0=0x7-_0x3fe0a0);var _0xf52347=b1['f2x'](_0x825a9)+b1['d']/0x2,_0x581819=b1[_0x29cf83(0x204)](_0x30968d)+b1['d']/0x2,_0x4ce7b7=b1['dx']+b1['d']*_0x38294e+b1['d']/0x2,_0x59a436=b1['dy']+b1['d']*(0x7-_0x3fe0a0)+b1['d']/0x2;drawAbsArrow(_0x2d46c2,_0xf52347,_0x581819,_0x4ce7b7,_0x59a436,_0x549e6b,_0x3a38bb);}function drawCircle(_0x302712,_0x3386e5,_0x103714,_0x4f618f){var _0x173295=_0x13c3c3;b1[_0x173295(0x177)]&&(_0x3386e5=0x7-_0x3386e5,_0x103714=0x7-_0x103714);var _0x19a2e4=b1[_0x173295(0x201)](_0x3386e5)+b1['d']/0x2,_0x17c1bb=b1['r2y'](_0x103714)+b1['d']/0x2;ui['ctx'][_0x173295(0xf6)]();if(_0x4f618f==0x2)ui[_0x173295(0xdc)][_0x173295(0x233)]([0x14,0x7]);ui[_0x173295(0xdc)][_0x173295(0x1a3)]=0x4/0x384*b1['h'],ui[_0x173295(0xdc)][_0x173295(0x180)](_0x19a2e4,_0x17c1bb,b1['d']*0x4/0xa,0x0,0x2*Math['PI']);var _0x55cf59=COLOR[_0x173295(0xd3)][_0x302712];ui[_0x173295(0xdc)][_0x173295(0x1cb)]='rgba('+_0x55cf59[0x0]+','+_0x55cf59[0x1]+','+_0x55cf59[0x2]+','+_0x55cf59[0x3]+')',ui[_0x173295(0xdc)][_0x173295(0x102)](),ui[_0x173295(0xdc)][_0x173295(0x233)]([0x0]),ui[_0x173295(0xdc)][_0x173295(0x1b9)]();}function drawSpot(_0x195f67,_0x42b759,_0x57daa8,_0x191dc6){var _0x2a0d5b=_0x13c3c3;ui['ctx']['beginPath'](),ui[_0x2a0d5b(0xdc)]['arc'](_0x42b759,_0x57daa8,_0x191dc6,0x0,0x2*Math['PI'],![]),ui[_0x2a0d5b(0xdc)][_0x2a0d5b(0x1a3)]=0x0,ui[_0x2a0d5b(0xdc)]['fillStyle']='rgba('+_0x195f67[0x0]+','+_0x195f67[0x1]+','+_0x195f67[0x2]+',0.5)',ui[_0x2a0d5b(0xdc)][_0x2a0d5b(0x22b)](),ui[_0x2a0d5b(0xdc)][_0x2a0d5b(0x1b9)]();}function drawSquare(_0x41b9be,_0x1e7faa,_0x1635f5=_0x13c3c3(0x1fa)){var _0xa76028=_0x13c3c3,_0x42b9e4=b1[_0xa76028(0x177)]?0x7-_0x41b9be:_0x41b9be,_0x2f4e85=b1[_0xa76028(0x177)]?0x7-_0x1e7faa:_0x1e7faa;ui[_0xa76028(0xdc)][_0xa76028(0xf6)]();if(_0x1635f5==_0xa76028(0x1fa)){if((_0x42b9e4+_0x2f4e85)%0x2==0x0)ui[_0xa76028(0xdc)][_0xa76028(0x147)]=COLOR[_0xa76028(0x133)]['BLACK'];else ui['ctx'][_0xa76028(0x147)]=COLOR[_0xa76028(0x133)][_0xa76028(0x112)];ui['ctx']['fillRect'](b1['f2x'](_0x42b9e4),b1[_0xa76028(0x204)](_0x2f4e85),b1['d'],b1['d']),ui[_0xa76028(0xdc)]['fill']();}else _0x1635f5==_0xa76028(0x1ee)&&(ui[_0xa76028(0xdc)]['fillStyle']=COLOR['BOARD'][_0xa76028(0x1fe)],ui[_0xa76028(0xdc)][_0xa76028(0x1ea)](b1[_0xa76028(0x201)](_0x42b9e4),b1[_0xa76028(0x204)](_0x2f4e85),b1['d'],b1['d']),ui[_0xa76028(0xdc)][_0xa76028(0x147)]=COLOR['BOARD'][_0xa76028(0x111)],ui[_0xa76028(0xdc)][_0xa76028(0x1ea)](b1['f2x'](_0x42b9e4)+b1['d']/0xc,b1[_0xa76028(0x204)](_0x2f4e85)+b1['d']/0xc,b1['d']-b1['d']/0x6,b1['d']-b1['d']/0x6));_0x1635f5==_0xa76028(0x1a5)&&(ui['ctx'][_0xa76028(0x147)]=_0xa76028(0x124),ui[_0xa76028(0xdc)][_0xa76028(0x139)](b1['f2x'](_0x42b9e4)+b1['d']/0x2,b1[_0xa76028(0x204)](_0x2f4e85)+b1['d']/0x2),pos['b'][_0x41b9be][_0x1e7faa]==EMPTY?ui[_0xa76028(0xdc)][_0xa76028(0x180)](b1['f2x'](_0x42b9e4)+b1['d']/0x2,b1['r2y'](_0x2f4e85)+b1['d']/0x2,b1['d']/0x7,0x0,0x2*Math['PI']):(ui[_0xa76028(0xdc)]['arc'](b1['f2x'](_0x42b9e4)+b1['d']/0x2,b1['r2y'](_0x2f4e85)+b1['d']/0x2,0x5*b1['d']/0xb,0x0,0x2*Math['PI'],![]),ui[_0xa76028(0xdc)][_0xa76028(0x180)](b1[_0xa76028(0x201)](_0x42b9e4)+b1['d']/0x2,b1['r2y'](_0x2f4e85)+b1['d']/0x2,0x4*b1['d']/0xb,0x0,0x2*Math['PI'],!![]))),ui[_0xa76028(0xdc)][_0xa76028(0x1b9)](),ui['ctx'][_0xa76028(0x22b)]();}function drawAbsPiece(_0x6d7e01,_0x574e4f,_0x574cf6,_0x10bb3b,_0x55cc90=_0x13c3c3(0x148)){var _0x3946fc=_0x13c3c3;if(_0x55cc90==_0x3946fc(0x115)){if(b1[_0x3946fc(0x192)]!=null)ui['ctx']['putImageData'](b1['prevImageData'][0x0],b1[_0x3946fc(0x192)][0x1],b1['prevImageData'][0x2]);}if(_0x55cc90!='prev'&&_0x6d7e01!=EMPTY){var _0x518ce8=ui[_0x3946fc(0x1c5)][_0x3946fc(0x19b)](_0x6d7e01[_0x3946fc(0x228)](0x0,0x2));if(_0x518ce8>=0x0&&_0x518ce8<0xc){ui['ctx'][_0x3946fc(0xf6)]();if(_0x55cc90==_0x3946fc(0x25b)){if(!NOIMAGEDATA)b1[_0x3946fc(0x192)]=[ui[_0x3946fc(0xdc)][_0x3946fc(0x1cf)](_0x574e4f,_0x574cf6,0xe*b1['dp']/0xf,0xe*b1['dp']/0xf),_0x574e4f,_0x574cf6];}if(NOSVG)drawText(0xa,'',_0x3946fc(0x25e),_0x3946fc(0x224),_0x6d7e01,_0x574e4f+b1['d']/0x2,_0x574cf6+b1['d']/0x2);else ui['ctx'][_0x3946fc(0x1a4)](ui[_0x3946fc(0x134)][_0x518ce8],_0x574e4f,_0x574cf6,_0x10bb3b,_0x10bb3b);ui['ctx'][_0x3946fc(0x102)]();}else console[_0x3946fc(0xd8)](_0x3946fc(0x173)+_0x6d7e01);}}function drawPiece(_0x4779fb,_0x4a6dae,_0x366372){var _0x511192=_0x13c3c3;b1['flip']&&(_0x4a6dae=0x7-_0x4a6dae,_0x366372=0x7-_0x366372),drawAbsPiece(_0x4779fb,b1[_0x511192(0x201)](_0x4a6dae)+b1['d']/0x2-0xe*b1['dp']/0x1e,b1[_0x511192(0x204)](_0x366372)+b1['d']/0x2-0xe*b1['dp']/0x1e,0xe*b1['dp']/0xf);}function f(_0x24bbb1,_0x14f458){var _0x4fe783=_0x13c3c3;ui[_0x4fe783(0xdc)][_0x4fe783(0x1ea)](_0x24bbb1+0.5,_0x14f458+0.5,0x1,0x1);}function drawText(_0x1156ec,_0x480acd,_0x5378ff,_0x994600,_0x40c397,_0x443418,_0x174e36,_0x47f9ab=''){var _0x2d8e23=_0x13c3c3,_0x2ed54d=_0x480acd+'\x20'+Math['floor'](_0x1156ec*ui['dm']/0xa)+'px\x20Helvetica';ui[_0x2d8e23(0xdc)]['font']=_0x2ed54d,ui['ctx']['textAlign']=_0x5378ff,ui['ctx'][_0x2d8e23(0x137)]=_0x994600;var _0x3f59f0=0x0;if(_0x47f9ab=='measure')_0x3f59f0=ui[_0x2d8e23(0xdc)]['measureText'](_0x40c397)[_0x2d8e23(0x220)];else ui[_0x2d8e23(0xdc)][_0x2d8e23(0x147)]=ui[_0x2d8e23(0x122)],ui[_0x2d8e23(0xdc)][_0x2d8e23(0x271)](_0x40c397,_0x443418,_0x174e36);return _0x3f59f0;}function doResize(){var _0x15c805=_0x13c3c3;ui['canvas']['width']=window[_0x15c805(0xf8)],ui['canvas'][_0x15c805(0xf3)]=window['innerHeight'],b1['h']=window[_0x15c805(0x119)],doRedraw();}function doRedraw(){var _0x4a3750=_0x13c3c3;ui['ctx'][_0x4a3750(0x147)]=COLOR[_0x4a3750(0x168)],ui[_0x4a3750(0xdc)]['clearRect'](0x0,0x0,ui['canvas'][_0x4a3750(0x220)],ui['canvas'][_0x4a3750(0xf3)]),b1[_0x4a3750(0x176)](),b1['render'](),drawPieces(pos['b']);if(b1[_0x4a3750(0x162)]){for(var _0x505a06=0x0;_0x505a06<0x8;_0x505a06++)for(var _0x4dec02=0x0;_0x4dec02<0x8;_0x4dec02++)if(pos['b'][_0x505a06][_0x4dec02][0x0]==pos['color']){var _0x35229c=calcMoves(pos,_0x505a06,_0x4dec02,_0x4a3750(0x1b4),pos['b'][_0x505a06][_0x4dec02],_0x4a3750(0x1fa));drawAttackSpots(_0x35229c);}}panel['x']=b1[_0x4a3750(0x216)],panel['ax']=b1[_0x4a3750(0x216)],panel[_0x4a3750(0x131)]();var _0x415cbf,_0x5133fc=g[_0x4a3750(0x1fc)][g['ply']];_0x415cbf='';for(var _0x327b14=0x0;_0x327b14<_0x5133fc[_0x4a3750(0x202)][_0x4a3750(0x199)];_0x327b14++){_0x415cbf+=_0x5133fc['tags'][_0x327b14]+':\x20'+_0x5133fc['values'][_0x327b14]+'\x20\x20';}b1['tags']['text']=_0x415cbf,_0x415cbf='';for(var _0x327b14=0x0;_0x327b14<_0x5133fc[_0x4a3750(0x1a7)][_0x4a3750(0x199)];_0x327b14++){_0x415cbf+=_0x5133fc[_0x4a3750(0x1a7)][_0x327b14]+'\x20\x20';}b1[_0x4a3750(0x1a7)][_0x4a3750(0x242)]=_0x415cbf,panel['render']();if(layout[_0x4a3750(0xdb)]())drawArrows(g[_0x4a3750(0x151)]);}class Title extends Rect{constructor(_0x1551e6,_0x38bb87,_0x251784,_0x38c420){var _0x559a50=_0x13c3c3;super(_0x1551e6,_0x38bb87,_0x251784,0x2bc,0x19,_0x559a50(0x236),layout[_0x559a50(0x1de)]),this[_0x559a50(0x242)]=_0x38c420;}[_0x13c3c3(0x262)](){var _0x2cc2f5=_0x13c3c3;drawText(0x6,'','left',_0x2cc2f5(0x15a),this[_0x2cc2f5(0x242)],this['ax'],this['ay']);}}function drawPieces(_0x540476){for(var _0x2e6577=0x0;_0x2e6577<0x8;_0x2e6577++){for(var _0x213b22=0x0;_0x213b22<0x8;_0x213b22++){var _0x19e19b=_0x540476[_0x2e6577][_0x213b22];_0x19e19b!=EMPTY&&drawPiece(_0x19e19b,_0x2e6577,_0x213b22);}}}function drawTargets(_0x768c0a){var _0x209cd6=_0x13c3c3,_0x21940d=_0x768c0a[_0x209cd6(0x169)];for(var _0x39cc24=0x0;_0x39cc24<_0x21940d['length'];_0x39cc24++)drawSquare(_0x21940d[_0x39cc24][0x0],_0x21940d[_0x39cc24][0x1],_0x209cd6(0x1a5));}function drawArrows(_0x1b0f1c){var _0x21fcbd=_0x13c3c3,_0x4c2d9c=g[_0x21fcbd(0x1fc)][_0x1b0f1c],_0x59e980;_0x59e980=_0x4c2d9c[_0x21fcbd(0x196)];if(_0x59e980[_0x21fcbd(0x199)]==0x4)drawArrow('L',_0x59e980[0x0],_0x59e980[0x1],_0x59e980[0x2],_0x59e980[0x3],b1[_0x21fcbd(0x1d7)]);_0x59e980=_0x4c2d9c[_0x21fcbd(0x15c)];if(_0x59e980[_0x21fcbd(0x199)]==0x4)drawArrow('N',_0x59e980[0x0],_0x59e980[0x1],_0x59e980[0x2],_0x59e980[0x3],b1['daw']);_0x59e980=_0x4c2d9c[_0x21fcbd(0x178)];for(var _0x27ecf0=0x0;_0x27ecf0<_0x59e980['length'];_0x27ecf0++)drawArrow(_0x59e980[_0x27ecf0][0x0],F[_0x21fcbd(0x19b)](_0x59e980[_0x27ecf0][0x1]),R[_0x21fcbd(0x19b)](_0x59e980[_0x27ecf0][0x2]),F[_0x21fcbd(0x19b)](_0x59e980[_0x27ecf0][0x3]),R[_0x21fcbd(0x19b)](_0x59e980[_0x27ecf0][0x4]),0xa,0x1);_0x59e980=_0x4c2d9c['squares'];for(var _0x27ecf0=0x0;_0x27ecf0<_0x59e980[_0x21fcbd(0x199)];_0x27ecf0++)drawCircle(_0x59e980[_0x27ecf0][0x0],F[_0x21fcbd(0x19b)](_0x59e980[_0x27ecf0][0x1]),R[_0x21fcbd(0x19b)](_0x59e980[_0x27ecf0][0x2]),0x1);if(b1[_0x21fcbd(0x158)])for(var _0x27ecf0=0x0;_0x27ecf0<=_0x1b0f1c;_0x27ecf0++){_0x59e980=g['ann'][_0x27ecf0][_0x21fcbd(0x196)];if(_0x59e980[_0x21fcbd(0x199)]==0x4)drawArrow('L',_0x59e980[0x0],_0x59e980[0x1],_0x59e980[0x2],_0x59e980[0x3],b1[_0x21fcbd(0x1d7)],0x1);}}function drawAttackSpots(_0x2a83b6){var _0x139745=_0x13c3c3;for(var _0x350876=0x0;_0x350876<_0x2a83b6['length'];_0x350876++){drawSpot([0xb4,0x28,0x28],b1[_0x139745(0x201)](_0x2a83b6[_0x350876][0x0])+b1['d']/0x2,b1[_0x139745(0x204)](_0x2a83b6[_0x350876][0x1])+b1['d']/0x2,b1['d']/0x3);}}class ResizeControl extends Rect{constructor(_0x2445e2){var _0x448167=_0x13c3c3;super(_0x2445e2,0x0,0x0,0x0,0x0,_0x448167(0x236),layout['All']),this[_0x448167(0x270)]=0x14;}[_0x13c3c3(0x262)](){var _0x30ab8b=_0x13c3c3;ui['ctx'][_0x30ab8b(0xf6)](),ui['ctx'][_0x30ab8b(0x1a3)]=0x1,ui[_0x30ab8b(0xdc)][_0x30ab8b(0x1cb)]=_0x30ab8b(0x138);for(var _0x4d92a8=0x0;_0x4d92a8<0x2;_0x4d92a8++){ui[_0x30ab8b(0xdc)]['moveTo'](this['ax']+this['w'],this['ay']+_0x4d92a8*this[_0x30ab8b(0x270)]/0x2),ui[_0x30ab8b(0xdc)][_0x30ab8b(0x19c)](this['ax']+_0x4d92a8*this[_0x30ab8b(0x270)]/0x2,this['ay']+this['h']);}ui[_0x30ab8b(0xdc)][_0x30ab8b(0x102)]();}[_0x13c3c3(0x176)](_0x532a28,_0x2b10b3,_0x259b1e){this['ax']=_0x532a28-1.2*_0x259b1e,this['ay']=_0x2b10b3-1.2*_0x259b1e,this['w']=_0x259b1e,this['h']=_0x259b1e,this['drc']=_0x259b1e;}}class Board extends Rect{constructor(){var _0x4dad69=_0x13c3c3;super(null,0x0,0x0,window[_0x4dad69(0x119)],window[_0x4dad69(0x119)],_0x4dad69(0x236),layout['All']),this[_0x4dad69(0x245)],this[_0x4dad69(0x1db)],this['x']=0x0,this['y']=0x0,this['dx']=0x32,this['dy']=0x32,this['d']=0x64,this['dp']=0x64,this[_0x4dad69(0x216)]=0x0,this[_0x4dad69(0x1d7)]=0x14,this[_0x4dad69(0x192)]=null,this['depth']=0x0,this[_0x4dad69(0x24e)]=![],this[_0x4dad69(0x165)]=!![],this['trail']=![],this[_0x4dad69(0x162)]=![],this[_0x4dad69(0x177)]=![],this[_0x4dad69(0x136)]=new ResizeControl(this),this['h']=window['innerHeight'],this[_0x4dad69(0x176)]();}[_0x13c3c3(0x176)](){var _0x531e27=_0x13c3c3;if(SMALLBOARD==0x1)this['h']=0x226;this['w']=this['h'],this[_0x531e27(0x1d7)]=0x14/0x384*this['h'],this['offset']=this['w']+0x19,this['squareNames']?(this['d']=this['h']/0x9,this['dp']=this['d'],this['dx']=this['d']/0x2,this['dy']=this['d']/0x2):(this['d']=this['h']/0x8,this['dp']=1.07*this['d'],this['dx']=0x0,this['dy']=0x0),this[_0x531e27(0x136)][_0x531e27(0x176)](0x8*this['d']+0x2*this['dx'],0x8*this['d']+0x2*this['dy'],0x14/0x64*this['d']);}['f2x'](_0x369821){return this['x']+this['dx']+this['d']*_0x369821;}[_0x13c3c3(0x204)](_0x2b7c1f){return this['y']+this['dy']+this['d']*(0x7-_0x2b7c1f);}[_0x13c3c3(0x262)](){var _0x1e9b00=_0x13c3c3;ui[_0x1e9b00(0xdc)][_0x1e9b00(0x147)]=COLOR[_0x1e9b00(0x168)],ui['ctx'][_0x1e9b00(0x1ea)](this['x'],this['y'],this[_0x1e9b00(0x216)]-0x1,this[_0x1e9b00(0x216)]-0x1),ui['ctx'][_0x1e9b00(0x147)]=COLOR[_0x1e9b00(0x133)][_0x1e9b00(0xf7)],ui['ctx'][_0x1e9b00(0x1ea)](this['x'],this['y'],this['w'],this['h']);for(var _0xf3c197=0x0;_0xf3c197<0x8;_0xf3c197++){for(var _0x464c29=0x0;_0x464c29<0x8;_0x464c29++){drawSquare(_0xf3c197,_0x464c29);}}var _0x55dd10=b1['d']/0xc;if(b1[_0x1e9b00(0x165)]){ui['textColor']=COLOR['TEXT'][_0x1e9b00(0xdf)];for(var _0x464c29=0x0;_0x464c29<0x8;_0x464c29++){var _0xf3c197=b1[_0x1e9b00(0x177)]?0x7-_0x464c29:_0x464c29;drawText(_0x55dd10,'',_0x1e9b00(0x25e),_0x1e9b00(0x224),_0x1e9b00(0x1bc)[_0x464c29],this['dy']+_0xf3c197*this['d']+this['d']/0x2,this['dx']/0x2),drawText(_0x55dd10,'',_0x1e9b00(0x25e),_0x1e9b00(0x224),_0x1e9b00(0x1bc)[_0x464c29],this['dy']+_0xf3c197*this['d']+this['d']/0x2,0x8*this['d']+this['dx']+this['dx']/0x2),drawText(_0x55dd10,'',_0x1e9b00(0x25e),_0x1e9b00(0x224),_0x1e9b00(0x157)[_0x464c29],this['dx']/0x2,this['dy']+_0xf3c197*this['d']+this['d']/0x2),drawText(_0x55dd10,'',_0x1e9b00(0x25e),_0x1e9b00(0x224),_0x1e9b00(0x157)[_0x464c29],0x8*this['d']+this['dx']+this['dx']/0x2,this['dy']+_0xf3c197*this['d']+this['d']/0x2);}ui[_0x1e9b00(0x122)]=COLOR[_0x1e9b00(0x1a1)][_0x1e9b00(0x208)],ui['ctx'][_0x1e9b00(0x183)]=_0x1e9b00(0x164),ui[_0x1e9b00(0xdc)][_0x1e9b00(0x137)]=_0x1e9b00(0x15a);for(var _0x20516e=0x0;_0x20516e<0x8;_0x20516e++){for(var _0x4dae82=0x0;_0x4dae82<0x8;_0x4dae82++){var _0xf3c197=this['flip']?0x7-_0x20516e:_0x20516e,_0x464c29=this[_0x1e9b00(0x177)]?0x7-_0x4dae82:_0x4dae82;drawText(_0x55dd10/0x2,'',_0x1e9b00(0x164),_0x1e9b00(0x15a),_0x1e9b00(0x1bc)[_0x20516e]+_0x1e9b00(0x157)[_0x4dae82],this['dy']+_0xf3c197*this['d'],this['dx']+_0x464c29*this['d']);}}}this[_0x1e9b00(0x136)]['render']();}}class Annotation{constructor(){var _0x1b693d=_0x13c3c3;this[_0x1b693d(0x196)]=[],this[_0x1b693d(0x15c)]=[],this[_0x1b693d(0x178)]=[],this[_0x1b693d(0x17d)]=[],this['comments']=[],this[_0x1b693d(0x1db)]='',this[_0x1b693d(0x144)]='',this[_0x1b693d(0x202)]=[],this[_0x1b693d(0x1f2)]=[];}}class Game{constructor(){var _0x226ba2=_0x13c3c3;this['layout']=SM['L'][_0x226ba2(0x267)],this[_0x226ba2(0x18f)]=SM['S'][_0x226ba2(0x1b5)],this[_0x226ba2(0x1c8)]='',this[_0x226ba2(0x151)]=0x0,this[_0x226ba2(0x23d)]=0x0,this['bs']=[],this['fens']=[],this[_0x226ba2(0x16a)]=[],this[_0x226ba2(0x1fc)]=[],this['fullPgn']=[],this['clickPgn']=[],this[_0x226ba2(0xd5)]='',this[_0x226ba2(0x163)]='';}[_0x13c3c3(0x1ac)](_0x991881=initialPosition){var _0x3e850a=_0x13c3c3;this[_0x3e850a(0xd7)]=SM['L'][_0x3e850a(0x267)],this[_0x3e850a(0x18f)]=SM['S']['IDLE'],this[_0x3e850a(0x1c8)]=SM['S'][_0x3e850a(0x1b5)],this[_0x3e850a(0x151)]=0x0,this[_0x3e850a(0x23d)]=0x0,this['bs']=[],this[_0x3e850a(0x253)]=[],this[_0x3e850a(0x16a)]=[],this[_0x3e850a(0x1fc)]=[],this[_0x3e850a(0xd4)]=[],this[_0x3e850a(0x170)]=[],this[_0x3e850a(0x253)][0x0]=_0x991881,this['bs'][0x0]=fen2pos(_0x991881),this['initMoveAnn'](0x0);}[_0x13c3c3(0x26d)](_0x598e38){var _0x40b2a2=_0x13c3c3;if(typeof _0x598e38!=='undefined')return this['state']==_0x598e38;else alert(_0x40b2a2(0x11e)),console['log'](new Error()['stack']);}[_0x13c3c3(0xec)](_0x2737b1){var _0x4c91ba=_0x13c3c3;typeof _0x2737b1!==_0x4c91ba(0x154)?this[_0x4c91ba(0x1c8)]=_0x2737b1:(alert(_0x4c91ba(0x264)),console['log'](new Error()[_0x4c91ba(0x213)]));}['setNextState'](){var _0x1a7bff=_0x13c3c3;typeof this[_0x1a7bff(0x1c8)]!==_0x1a7bff(0x154)?this[_0x1a7bff(0x18f)]=this['nextStateValue']:(alert(_0x1a7bff(0x1bb)),console[_0x1a7bff(0xd8)](new Error()[_0x1a7bff(0x213)]));}['initMoveAnn'](_0x5edc95){var _0x144586=_0x13c3c3;this[_0x144586(0x1fc)][_0x5edc95]=new Annotation(),this[_0x144586(0x1fc)][_0x5edc95+0x1]=new Annotation();}}class Pgn extends Rect{constructor(){var _0x10141d=_0x13c3c3;super(panel,0x0,0xd2,0x1f4,0x15e,_0x10141d(0x240),layout[_0x10141d(0xdb)]),this['d']=0x5,this['l']=0x14,this[_0x10141d(0x11f)]=-0x1,this[_0x10141d(0x238)]=constPgns[_0x10141d(0x199)],this[_0x10141d(0x22e)]=COLOR[_0x10141d(0x159)][_0x10141d(0x168)],this[_0x10141d(0x1f8)]=COLOR[_0x10141d(0x159)]['FRAME'],this[_0x10141d(0x129)]=COLOR[_0x10141d(0x159)]['COLOR'];}['render'](){var _0x3557cf=_0x13c3c3;super[_0x3557cf(0x262)](),ui[_0x3557cf(0xdc)][_0x3557cf(0xf6)]();var _0x5c582a=pgn['ax']+0x2*pgn['d'],_0x4405bf=pgn['ay']+pgn['d'];g[_0x3557cf(0xd5)]='',g[_0x3557cf(0x163)]='';var _0x171676='',_0xe90172=!![],_0x1f3ec5=![];for(var _0x5640c1=0x1;_0x5640c1<=g[_0x3557cf(0x23d)];_0x5640c1++){var _0x168167=g[_0x3557cf(0x16a)][_0x5640c1][_0x3557cf(0x26b)],_0x36cf01=_0x5640c1==g[_0x3557cf(0x151)]?'bold':'';_0xe90172=_0x5640c1%0x2==0x1;if(_0xe90172)_0x171676=''+(_0x5640c1+0x1)/0x2+'.\x20';else _0x171676=''+_0x5640c1/0x2+'...\x20';var _0x48930d=_0xe90172?_0x171676:'',_0x164670=Math[_0x3557cf(0x14d)](drawText(0x4,_0x3557cf(0x1aa),_0x3557cf(0x164),_0x3557cf(0x15a),_0x48930d+_0x168167,_0x5c582a,_0x4405bf,'measure'));_0x5c582a+_0x164670+pgn['d']>=pgn['ax']+pgn['w']-0x5*pgn['d']&&(_0x5c582a=pgn['ax']+0x2*pgn['d'],_0x4405bf+=pgn['l']);drawText(0x4,_0x36cf01,_0x3557cf(0x164),_0x3557cf(0x15a),_0x48930d+_0x168167,_0x5c582a,_0x4405bf),g[_0x3557cf(0xd5)]+=_0xe90172?_0x171676+_0x168167+'\x20':_0x168167+'\x20';var _0x234321=![],_0x1c75fd=g[_0x3557cf(0x1fc)][_0x5640c1];if(_0x1c75fd[_0x3557cf(0x202)]['length']>0x0){_0x234321=!![],_0x168167+='\x20{';for(var _0xaa6695=0x0;_0xaa6695<_0x1c75fd[_0x3557cf(0x202)]['length'];_0xaa6695++)_0x168167+='\x20['+_0x1c75fd[_0x3557cf(0x202)][_0xaa6695]+'\x20'+_0x1c75fd[_0x3557cf(0x1f2)][_0xaa6695]+']';_0x168167+='\x20}';}if(_0x1c75fd[_0x3557cf(0x1a7)][_0x3557cf(0x199)]>0x0){_0x234321=!![];for(var _0xaa6695=0x0;_0xaa6695<_0x1c75fd[_0x3557cf(0x1a7)][_0x3557cf(0x199)];_0xaa6695++)_0x168167+='\x20{\x20'+_0x1c75fd[_0x3557cf(0x1a7)][_0xaa6695]+'\x20}';}if(_0x1c75fd[_0x3557cf(0x178)][_0x3557cf(0x199)]>0x0||_0x1c75fd[_0x3557cf(0x17d)][_0x3557cf(0x199)]>0x0){_0x168167+='\x20{',_0x234321=!![];for(var _0xaa6695=0x0;_0xaa6695<_0x1c75fd[_0x3557cf(0x178)]['length'];_0xaa6695++){_0x168167+=_0x3557cf(0xf9)+_0x1c75fd[_0x3557cf(0x178)][_0xaa6695]+']';}for(var _0xaa6695=0x0;_0xaa6695<_0x1c75fd[_0x3557cf(0x17d)][_0x3557cf(0x199)];_0xaa6695++){_0x168167+='\x20[%sq\x20'+_0x1c75fd[_0x3557cf(0x17d)][_0xaa6695]+']';}_0x168167+='\x20}';}if(!_0xe90172&&!_0x1f3ec5)_0x171676='';if(_0xe90172)_0x1f3ec5=_0x234321;g[_0x3557cf(0x163)]+=_0x171676+_0x168167+'\x20',g[_0x3557cf(0x170)][_0x5640c1]=[_0x5640c1,_0x5c582a-0x2,_0x4405bf-0x2,_0x5c582a+_0x164670+0x2,_0x4405bf+pgn['l']+0x2],_0x5c582a+=_0x164670+pgn['d'];}ui[_0x3557cf(0xdc)][_0x3557cf(0x102)](),ui[_0x3557cf(0xdc)][_0x3557cf(0x1b9)]();}[_0x13c3c3(0x1a2)](_0x2d80d3,_0x44b619){var _0x458e0d=_0x13c3c3;for(var _0x491b66=0x1;_0x491b66<=g[_0x458e0d(0x23d)];_0x491b66++){var _0x1753b6=g[_0x458e0d(0x170)][_0x491b66];_0x2d80d3>_0x1753b6[0x1]&&_0x44b619>_0x1753b6[0x2]&&_0x2d80d3<_0x1753b6[0x3]&&_0x44b619<_0x1753b6[0x4]&&(g['ply']!=_0x491b66&&(g[_0x458e0d(0x151)]=_0x491b66,nextPos(!![],!![])));}}}class Setup{constructor(){var _0x421101=_0x13c3c3;this[_0x421101(0x17c)]=[],this[_0x421101(0x110)]=0x0,this[_0x421101(0x261)]=0x0,this['savedSetupFen']=[],this[_0x421101(0x1e8)]=![];}}var ui=new UI(),a=new Anim(),g=new Game(),pos=new Position(),m=new Move(),setup=new Setup(),b1=new Board(),panel=new Rect(null,b1[_0x13c3c3(0x216)],0x0,0x2bc,b1['h'],_0x13c3c3(0x236),layout[_0x13c3c3(0x1de)]);b1[_0x13c3c3(0x245)]=new Title(panel,0x0,0xa,'StudyLines\x20Version\x200.0.7\x20Copyright\x202020-2021'),b1[_0x13c3c3(0x202)]=new Title(panel,0x0,0x28,_0x13c3c3(0x243)),b1[_0x13c3c3(0x1a7)]=new Title(panel,0x0,0x46,_0x13c3c3(0x120));var pgn=new Pgn(),text_pgnmove=new Textbox(_0x13c3c3(0x14f),panel,0x0,0x320,0x64,0x18,_0x13c3c3(0x240),layout[_0x13c3c3(0xdb)],_0x13c3c3(0x1e2)),text_fen=new Textbox(_0x13c3c3(0x125),panel,0x0,0x33e,0x1f4,0x18,_0x13c3c3(0x240),layout[_0x13c3c3(0xdb)],'input\x20FEN\x20string...');function initializeSavedFens(_0x345758){var _0x50178f=_0x13c3c3;_0x345758[_0x50178f(0x110)]=0x0;for(var _0x3cd902=0x0;_0x3cd902<constFens[_0x50178f(0x199)];_0x3cd902++){_0x345758['savedFen'][_0x345758[_0x50178f(0x110)]]=[],_0x345758['savedFen'][_0x345758[_0x50178f(0x110)]][0x0]=constFens[_0x3cd902][0x0],_0x345758[_0x50178f(0x17c)][_0x345758[_0x50178f(0x110)]++][0x1]=constFens[_0x3cd902][0x1];}}function initGame(_0x3bbc5c){var _0x35b002=_0x13c3c3;g[_0x35b002(0x1ac)](_0x3bbc5c),pos[_0x35b002(0x1ac)](_0x3bbc5c),m[_0x35b002(0x176)](),text_fen[_0x35b002(0x242)]=pos['fen'];}const scPos=[[-0x2,-0x1],[-0x2,-0x2],[-0x1,-0x2],[0x0,-0x2],[0x1,-0x2],[0x1,-0x1],[-0x2,0x0],[-0x2,0x1],[-0x1,0x1],[0x0,0x1],[0x1,0x1],[0x1,0x0]];var scBox=[];const prPos=[[-0x1,-0x1],[0x0,-0x1],[-0x1,0x0],[0x0,0x0]];function drawPromotion(_0x120a1f,_0xb052e9){var _0x735068=_0x13c3c3,_0x1a7594=_0xb052e9==0x7?'w':'b';b1[_0x735068(0x177)]&&(_0x120a1f=0x7-_0x120a1f,_0xb052e9=0x7-_0xb052e9);var _0x3630ed=b1['d']/0x2,_0x4e9426=b1['d']/0x2,_0x48989e,_0x47cf87,_0x530fe0,_0x318e17;drawSquare(_0x120a1f,_0xb052e9),ui['ctx'][_0x735068(0xf6)]();for(var _0x1d3c51=0x0;_0x1d3c51<0x4;_0x1d3c51++){var _0x2c2bab=_0x1d3c51;_0x2c2bab+=_0x1a7594=='w'?0x7:0x1,scBox[_0x1d3c51]=[b1[_0x735068(0x201)](_0x120a1f)+b1['d']/0x2+_0x3630ed*prPos[_0x1d3c51][0x0],b1[_0x735068(0x204)](_0xb052e9)+b1['d']/0x2+_0x3630ed*prPos[_0x1d3c51][0x1],_0x4e9426,_0x4e9426,ui[_0x735068(0x1c5)][_0x2c2bab]+'0'];if(NOSVG)drawText(0x7,'',_0x735068(0x164),'top',ui[_0x735068(0x1c5)][_0x2c2bab],scBox[_0x1d3c51][0x0],scBox[_0x1d3c51][0x1]);else ui[_0x735068(0xdc)][_0x735068(0x1a4)](ui[_0x735068(0x134)][_0x2c2bab],scBox[_0x1d3c51][0x0],scBox[_0x1d3c51][0x1],scBox[_0x1d3c51][0x2],scBox[_0x1d3c51][0x3]);}ui[_0x735068(0xdc)][_0x735068(0x102)]();}class SetupSideSelector extends Rect{constructor(){var _0x2b0fc8=_0x13c3c3;super(panel,-0x4b,0x0,0xb*b1['dp']/0xf,0x8*b1['d']+0x2*b1['dx']-0x1,_0x2b0fc8(0x240),layout[_0x2b0fc8(0x279)]),this[_0x2b0fc8(0x189)]=['bK','bQ','bR','bB','bN','bP','wK','wQ','wR','wB','wN','wP'],this[_0x2b0fc8(0x191)]=EMPTY;}[_0x13c3c3(0x262)](){var _0x4443de=_0x13c3c3;for(var _0x772daa=0x0;_0x772daa<this[_0x4443de(0x189)]['length'];_0x772daa++){var _0x53b01f=this['set'][_0x772daa],_0x2c0e98=0xb*b1['dp']/0xf,_0xc7e3f=0xb*b1['dp']/0xf;drawAbsPiece(_0x53b01f,this['ax'],_0x772daa*_0xc7e3f+0xa,_0x2c0e98),scBox[_0x772daa]=[this['ax'],_0x772daa*_0xc7e3f+0xa,_0x2c0e98,_0x2c0e98,_0x53b01f];}}}var ss=new SetupSideSelector();function oppColor(_0x2b0ff6){var _0x41429e=_0x13c3c3;if(_0x2b0ff6=='w')return'b';else{if(_0x2b0ff6=='b')return'w';else alert(_0x41429e(0x257)+_0x2b0ff6);}}function squareInCheck(_0x5c103d,_0x58813b,_0x491200,_0x20354f){var _0x409994=_0x13c3c3,_0x398aa6=oppColor(_0x58813b);if(_0x58813b=='w'&&pos[_0x409994(0x1e5)](_0x491200-0x1,_0x20354f+0x1)&&pos['b'][_0x491200-0x1][_0x20354f+0x1][_0x409994(0x228)](0x0,0x2)=='bP')return!![];if(_0x58813b=='w'&&pos[_0x409994(0x1e5)](_0x491200+0x1,_0x20354f+0x1)&&pos['b'][_0x491200+0x1][_0x20354f+0x1][_0x409994(0x228)](0x0,0x2)=='bP')return!![];if(_0x58813b=='b'&&pos[_0x409994(0x1e5)](_0x491200-0x1,_0x20354f-0x1)&&pos['b'][_0x491200-0x1][_0x20354f-0x1][_0x409994(0x228)](0x0,0x2)=='wP')return!![];if(_0x58813b=='b'&&pos['inside'](_0x491200+0x1,_0x20354f-0x1)&&pos['b'][_0x491200+0x1][_0x20354f-0x1][_0x409994(0x228)](0x0,0x2)=='wP')return!![];var _0x3ed56a=![];for(var _0x5cf68f=_0x491200+0x1;_0x5cf68f<0x8;_0x5cf68f++){var _0x516036=pos['b'][_0x5cf68f][_0x20354f];if(!_0x3ed56a&&_0x516036[0x0]==_0x398aa6&&(_0x516036[0x1]=='R'||_0x516036[0x1]=='Q'))return!![];if(_0x516036!=EMPTY)_0x3ed56a=!![];}_0x3ed56a=![];for(var _0x5cf68f=_0x491200-0x1;_0x5cf68f>=0x0;_0x5cf68f--){var _0x516036=pos['b'][_0x5cf68f][_0x20354f];if(!_0x3ed56a&&_0x516036[0x0]==_0x398aa6&&(_0x516036[0x1]=='R'||_0x516036[0x1]=='Q'))return!![];if(_0x516036!=EMPTY)_0x3ed56a=!![];}_0x3ed56a=![];for(var _0x24bafa=_0x20354f+0x1;_0x24bafa<0x8;_0x24bafa++){var _0x516036=pos['b'][_0x491200][_0x24bafa];if(!_0x3ed56a&&_0x516036[0x0]==_0x398aa6&&(_0x516036[0x1]=='R'||_0x516036[0x1]=='Q'))return!![];if(_0x516036!=EMPTY)_0x3ed56a=!![];}_0x3ed56a=![];for(var _0x24bafa=_0x20354f-0x1;_0x24bafa>=0x0;_0x24bafa--){var _0x516036=pos['b'][_0x491200][_0x24bafa];if(!_0x3ed56a&&_0x516036[0x0]==_0x398aa6&&(_0x516036[0x1]=='R'||_0x516036[0x1]=='Q'))return!![];if(_0x516036!=EMPTY)_0x3ed56a=!![];}_0x3ed56a=![];for(var _0x2bc474=0x1;_0x2bc474<0x8;_0x2bc474++){var _0x5cf68f=_0x491200+_0x2bc474,_0x24bafa=_0x20354f+_0x2bc474;if(pos['inside'](_0x5cf68f,_0x24bafa)){var _0x516036=pos['b'][_0x5cf68f][_0x24bafa];if(!_0x3ed56a&&_0x516036[0x0]==_0x398aa6&&(_0x516036[0x1]=='B'||_0x516036[0x1]=='Q'))return!![];if(_0x516036!=EMPTY)_0x3ed56a=!![];}}_0x3ed56a=![];for(var _0x2bc474=0x1;_0x2bc474<0x8;_0x2bc474++){var _0x5cf68f=_0x491200+_0x2bc474,_0x24bafa=_0x20354f-_0x2bc474;if(pos[_0x409994(0x1e5)](_0x5cf68f,_0x24bafa)){var _0x516036=pos['b'][_0x5cf68f][_0x24bafa];if(!_0x3ed56a&&_0x516036[0x0]==_0x398aa6&&(_0x516036[0x1]=='B'||_0x516036[0x1]=='Q'))return!![];if(_0x516036!=EMPTY)_0x3ed56a=!![];}}_0x3ed56a=![];for(var _0x2bc474=0x1;_0x2bc474<0x8;_0x2bc474++){var _0x5cf68f=_0x491200-_0x2bc474,_0x24bafa=_0x20354f+_0x2bc474;if(pos[_0x409994(0x1e5)](_0x5cf68f,_0x24bafa)){var _0x516036=pos['b'][_0x5cf68f][_0x24bafa];if(!_0x3ed56a&&_0x516036[0x0]==_0x398aa6&&(_0x516036[0x1]=='B'||_0x516036[0x1]=='Q'))return!![];if(_0x516036!=EMPTY)_0x3ed56a=!![];}}_0x3ed56a=![];for(var _0x2bc474=0x1;_0x2bc474<0x8;_0x2bc474++){var _0x5cf68f=_0x491200-_0x2bc474,_0x24bafa=_0x20354f-_0x2bc474;if(pos[_0x409994(0x1e5)](_0x5cf68f,_0x24bafa)){var _0x516036=pos['b'][_0x5cf68f][_0x24bafa];if(!_0x3ed56a&&_0x516036[0x0]==_0x398aa6&&(_0x516036[0x1]=='B'||_0x516036[0x1]=='Q'))return!![];if(_0x516036!=EMPTY)_0x3ed56a=!![];}}for(var _0x2bc474=0x0;_0x2bc474<0x8;_0x2bc474++){var _0x5cf68f=_0x491200+allMoves['N'][_0x2bc474][0x0][0x0],_0x24bafa=_0x20354f+allMoves['N'][_0x2bc474][0x0][0x1];if(pos['inside'](_0x5cf68f,_0x24bafa)){var _0x516036=pos['b'][_0x5cf68f][_0x24bafa];if(_0x516036[0x0]==_0x398aa6&&_0x516036[0x1]=='N')return!![];}}for(var _0x2bc474=0x0;_0x2bc474<0x8;_0x2bc474++){var _0x5cf68f=_0x491200+allMoves['K'][_0x2bc474][0x0][0x0],_0x24bafa=_0x20354f+allMoves['K'][_0x2bc474][0x0][0x1];if(pos[_0x409994(0x1e5)](_0x5cf68f,_0x24bafa)){var _0x516036=pos['b'][_0x5cf68f][_0x24bafa];if(_0x516036[0x0]==_0x398aa6&&_0x516036[0x1]=='K')return!![];}}}function inCheck(_0x5b3b96,_0x547dc0){var _0x4470fe=_0x13c3c3,_0x149e3e=pos[_0x4470fe(0xfe)](_0x547dc0);if(_0x149e3e!=null){var _0xcf210b=_0x149e3e[0x0],_0xd2ae0=_0x149e3e[0x1];return squareInCheck(_0x5b3b96,_0x547dc0,_0xcf210b,_0xd2ae0);}else return![];}function insufficientMaterial(_0x5d90a1){var _0x5af150=_0x13c3c3,_0x5dcbe7='',_0x28b2f0='',_0x268e81='',_0x5143a9='',_0x29a584='',_0x3e8e10='',_0x5e0ca3='',_0x549661='';for(var _0x53618f=0x0;_0x53618f<0x8;_0x53618f++)for(var _0x3ca57d=0x0;_0x3ca57d<0x8;_0x3ca57d++){if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x0]=='w'){if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='P')_0x5dcbe7+='P';if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='N')_0x28b2f0+='N';if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='B')_0x268e81+='B';if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='R')_0x5143a9+='R';if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='Q')_0x5143a9+='Q';}if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x0]=='b'){if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='P')_0x29a584+='P';if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='N')_0x3e8e10+='N';if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='B')_0x5e0ca3+='B';if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='R')_0x549661+='R';if(_0x5d90a1['b'][_0x53618f][_0x3ca57d][0x1]=='Q')_0x549661+='Q';}}var _0x4ff9f3='K'+_0x5dcbe7+_0x28b2f0+_0x268e81+_0x5143a9,_0x2b564c='K'+_0x29a584+_0x3e8e10+_0x5e0ca3+_0x549661;if((_0x4ff9f3=='K'||_0x4ff9f3=='KN'||_0x4ff9f3=='KB'||_0x4ff9f3==_0x5af150(0x16d))&&(_0x2b564c=='K'||_0x2b564c=='KN'||_0x2b564c=='KB'||_0x2b564c==_0x5af150(0x16d)))return!![];else return![];}function repetition(_0xea8240,_0x41aa20){var _0x5e15a2=_0x13c3c3,_0x1ba664=0x0;pos['calcFen'](),lastFen=pos[_0x5e15a2(0x1ec)][_0x5e15a2(0x17e)]('\x20');for(var _0x48f35d=0x0;_0x48f35d<=_0xea8240['maxPly'];_0x48f35d++){var _0xd2ab4a=_0xea8240[_0x5e15a2(0x253)][_0x48f35d][_0x5e15a2(0x17e)]('\x20');if(_0xd2ab4a[0x0]==lastFen[0x0])_0x1ba664++;}return _0x1ba664>=0x2;}function legalMove(_0x9cee64,_0x5d24f6){var _0x446875=_0x13c3c3;ret=![];var _0x5235ff=calcMoves(_0x9cee64,_0x5d24f6[_0x446875(0xed)],_0x5d24f6[_0x446875(0x21e)],'moves',_0x5d24f6[_0x446875(0x10e)],'normal');for(var _0x491137=0x0;_0x491137<_0x5235ff[_0x446875(0x199)];_0x491137++)if(_0x5d24f6[_0x446875(0x250)]==_0x5235ff[_0x491137][0x0]&&_0x5d24f6[_0x446875(0x1f6)]==_0x5235ff[_0x491137][0x1])ret=!![];return ret;}function calcMoves(_0x23a529,_0x12b410,_0x938564,_0x32b358,_0x455b41,_0x28ba06){var _0x5db965=_0x13c3c3,_0x5c890e=[],_0x6d196c=_0x23a529['b'][_0x12b410][_0x938564];if(_0x455b41!=_0x5db965(0x1ff))_0x6d196c=_0x455b41;if(_0x6d196c==EMPTY)return _0x5c890e;var _0x39162e,_0x3b171a,_0x36a55a=_0x6d196c[0x0],_0x545bad=_0x6d196c[0x1],_0x29d719=ui[_0x5db965(0x1c5)][_0x5db965(0x19b)](_0x6d196c['substr'](0x0,0x2));if(_0x29d719<0x0||_0x29d719>=0xc)console['log'](_0x5db965(0x14c)+_0x6d196c);var _0x501556=allMoves[_0x545bad];if(_0x545bad=='P'){_0x501556=[];if(_0x36a55a=='w'){var _0x25e0d1=[];if(_0x32b358=='moves'&&pos['b'][_0x12b410][_0x938564+0x1]==EMPTY){if(_0x938564<0x6)_0x25e0d1[_0x5db965(0x1ad)]([0x0,0x1]);else _0x25e0d1[_0x5db965(0x1ad)]([0x0,0x1,'wN']),_0x25e0d1[_0x5db965(0x1ad)]([0x0,0x1,'wQ']);if(_0x938564==0x1&&pos['b'][_0x12b410][_0x938564+0x2]==EMPTY)_0x25e0d1['push']([0x0,0x2]);if(_0x25e0d1!=[])_0x501556['push'](_0x25e0d1);}if(pos[_0x5db965(0x1e5)](_0x12b410-0x1,_0x938564+0x1)&&(pos['b'][_0x12b410-0x1][_0x938564+0x1][0x0]=='b'||_0x32b358==_0x5db965(0x1b4))||pos['enpassant']=='abcdefgh'[_0x12b410-0x1]+'6'&&_0x938564==0x4){if(_0x938564<0x6)_0x501556[_0x5db965(0x1ad)]([[-0x1,0x1]]);else _0x501556['push']([[-0x1,0x1,'wN']]),_0x501556['push']([[-0x1,0x1,'wQ']]);}if(pos[_0x5db965(0x1e5)](_0x12b410+0x1,_0x938564+0x1)&&(pos['b'][_0x12b410+0x1][_0x938564+0x1][0x0]=='b'||_0x32b358==_0x5db965(0x1b4))||pos[_0x5db965(0x121)]==_0x5db965(0x1bc)[_0x12b410+0x1]+'6'&&_0x938564==0x4){if(_0x938564<0x6)_0x501556['push']([[0x1,0x1]]);else _0x501556[_0x5db965(0x1ad)]([[0x1,0x1,'wN']]),_0x501556[_0x5db965(0x1ad)]([[0x1,0x1,'wQ']]);}}if(_0x36a55a=='b'){var _0x25e0d1=[];if(_0x32b358=='moves'&&pos['b'][_0x12b410][_0x938564-0x1]==EMPTY){if(_0x938564>0x1)_0x25e0d1[_0x5db965(0x1ad)]([0x0,-0x1]);else _0x25e0d1[_0x5db965(0x1ad)]([0x0,-0x1,'bN']),_0x25e0d1[_0x5db965(0x1ad)]([0x0,-0x1,'bQ']);if(_0x938564==0x6&&pos['b'][_0x12b410][_0x938564-0x2]==EMPTY)_0x25e0d1[_0x5db965(0x1ad)]([0x0,-0x2]);if(_0x25e0d1!=[])_0x501556['push'](_0x25e0d1);}if(pos['inside'](_0x12b410-0x1,_0x938564-0x1)&&(pos['b'][_0x12b410-0x1][_0x938564-0x1][0x0]=='w'||_0x32b358=='attacks')||pos[_0x5db965(0x121)]==_0x5db965(0x1bc)[_0x12b410-0x1]+'3'&&_0x938564==0x3){if(_0x938564>0x1)_0x501556[_0x5db965(0x1ad)]([[-0x1,-0x1]]);else _0x501556[_0x5db965(0x1ad)]([[-0x1,-0x1,'bN']]),_0x501556[_0x5db965(0x1ad)]([[-0x1,-0x1,'bQ']]);}if(pos[_0x5db965(0x1e5)](_0x12b410+0x1,_0x938564-0x1)&&(pos['b'][_0x12b410+0x1][_0x938564-0x1][0x0]=='w'||_0x32b358==_0x5db965(0x1b4))||pos[_0x5db965(0x121)]==_0x5db965(0x1bc)[_0x12b410+0x1]+'3'&&_0x938564==0x3){if(_0x938564>0x1)_0x501556[_0x5db965(0x1ad)]([[0x1,-0x1]]);else _0x501556[_0x5db965(0x1ad)]([[0x1,-0x1,'bN']]),_0x501556[_0x5db965(0x1ad)]([[0x1,-0x1,'bQ']]);}}}if(_0x545bad=='K'&&_0x12b410==0x4&&(_0x938564==0x0||_0x938564==0x7)&&!inCheck(_0x23a529,_0x36a55a,_0x12b410,_0x938564)){if(_0x36a55a=='w'&&_0x938564==0x0&&pos[_0x5db965(0x108)][0x0]=='K'&&pos['b'][0x5][_0x938564]==EMPTY&&!squareInCheck(_0x23a529,_0x36a55a,0x5,_0x938564)&&pos['b'][0x6][_0x938564]==EMPTY&&!squareInCheck(_0x23a529,_0x36a55a,0x6,_0x938564)&&pos['b'][0x7][_0x938564][_0x5db965(0x228)](0x0,0x2)=='wR')_0x5c890e[_0x5db965(0x1ad)]([0x6,_0x938564]);if(_0x36a55a=='w'&&_0x938564==0x0&&pos['castle'][0x1]=='Q'&&pos['b'][0x3][_0x938564]==EMPTY&&!squareInCheck(_0x23a529,_0x36a55a,0x3,_0x938564)&&pos['b'][0x2][_0x938564]==EMPTY&&!squareInCheck(_0x23a529,_0x36a55a,0x2,_0x938564)&&pos['b'][0x1][_0x938564]==EMPTY&&pos['b'][0x0][_0x938564][_0x5db965(0x228)](0x0,0x2)=='wR')_0x5c890e[_0x5db965(0x1ad)]([0x2,_0x938564]);if(_0x36a55a=='b'&&_0x938564==0x7&&pos['castle'][0x2]=='k'&&pos['b'][0x5][_0x938564]==EMPTY&&!squareInCheck(_0x23a529,_0x36a55a,0x5,_0x938564)&&pos['b'][0x6][_0x938564]==EMPTY&&!squareInCheck(_0x23a529,_0x36a55a,0x6,_0x938564)&&pos['b'][0x7][_0x938564][_0x5db965(0x228)](0x0,0x2)=='bR')_0x5c890e[_0x5db965(0x1ad)]([0x6,_0x938564]);if(_0x36a55a=='b'&&_0x938564==0x7&&pos[_0x5db965(0x108)][0x3]=='q'&&pos['b'][0x3][_0x938564]==EMPTY&&!squareInCheck(_0x23a529,_0x36a55a,0x3,_0x938564)&&pos['b'][0x2][_0x938564]==EMPTY&&!squareInCheck(_0x23a529,_0x36a55a,0x2,_0x938564)&&pos['b'][0x1][_0x938564]==EMPTY&&pos['b'][0x0][_0x938564][_0x5db965(0x228)](0x0,0x2)=='bR')_0x5c890e['push']([0x2,_0x938564]);}for(var _0x1dbb75=0x0;_0x1dbb75<_0x501556[_0x5db965(0x199)];_0x1dbb75++){var _0x18b9ed=![],_0x40eb05=_0x501556[_0x1dbb75];for(var _0x52e2b4=0x0;_0x52e2b4<_0x40eb05[_0x5db965(0x199)];_0x52e2b4++){_0x39162e=_0x12b410+_0x40eb05[_0x52e2b4][0x0],_0x3b171a=_0x938564+_0x40eb05[_0x52e2b4][0x1];if(!_0x18b9ed&&pos['inside'](_0x39162e,_0x3b171a)&&(pos['b'][_0x39162e][_0x3b171a][0x0]!=_0x36a55a||_0x28ba06==_0x5db965(0x275))&&pos['b'][_0x39162e][_0x3b171a][0x1]!='K'){pos['b'][_0x12b410][_0x938564]=EMPTY;var _0x1444ff=pos['b'][_0x39162e][_0x3b171a];pos['b'][_0x39162e][_0x3b171a]=_0x6d196c;if(!inCheck(_0x23a529,_0x36a55a)){var _0x1a7e3f=[];_0x1a7e3f[_0x5db965(0x1ad)](_0x39162e),_0x1a7e3f['push'](_0x3b171a);if(_0x40eb05[_0x52e2b4][_0x5db965(0x199)]==0x3)_0x1a7e3f[_0x5db965(0x1ad)](_0x40eb05[_0x52e2b4][0x2]);_0x5c890e['push'](_0x1a7e3f);}pos['b'][_0x12b410][_0x938564]=_0x6d196c,pos['b'][_0x39162e][_0x3b171a]=_0x1444ff;if(pos['b'][_0x39162e][_0x3b171a]!=EMPTY)_0x18b9ed=!![];}else _0x18b9ed=!![];}}return _0x5c890e;}function allPossMoves(_0x47f23c,_0x30ecd7){var _0xac648d=_0x13c3c3,_0x5b77f4=[];for(var _0x500909=0x0;_0x500909<0x8;_0x500909++)for(var _0x2edd4c=0x0;_0x2edd4c<0x8;_0x2edd4c++){var _0x405e76=pos['b'][_0x500909][_0x2edd4c];if(_0x405e76[0x0]==_0x30ecd7){var _0x326652=calcMoves(_0x47f23c,_0x500909,_0x2edd4c,_0xac648d(0x16a),_0x47f23c['b'][_0x500909][_0x2edd4c],_0xac648d(0x1fa));for(var _0x426cc0=0x0;_0x426cc0<_0x326652['length'];_0x426cc0++){var _0x5724f5=_0x326652[_0x426cc0][0x0],_0x300ead=_0x326652[_0x426cc0][0x1],_0x24c598=_0x326652[_0x426cc0][_0xac648d(0x199)]<0x3?_0x405e76:_0x326652[_0x426cc0][0x2];_0x5b77f4[_0xac648d(0x1ad)]([_0x405e76,_0x500909,_0x2edd4c,_0x5724f5,_0x300ead,pos['b'][_0x5724f5][_0x300ead],_0x24c598]);}}}var _0x37d8b0=![];for(var _0x426cc0=0x0;_0x426cc0<_0x5b77f4['length'];_0x426cc0++){var _0x46a638=_0x5b77f4[_0x426cc0],_0x45d2c3=oppColor(_0x46a638[0x0][0x0]);pos['b'][_0x46a638[0x1]][_0x46a638[0x2]]=EMPTY,pos['b'][_0x46a638[0x3]][_0x46a638[0x4]]=_0x46a638[0x6];if(inCheck(_0x47f23c,_0x45d2c3)&&allPossMoves(_0x47f23c,_0x45d2c3)[_0xac648d(0x199)]==0x0){_0x37d8b0=!![];for(var _0x578e8b=0x0;_0x578e8b<0x7;_0x578e8b++)_0x5b77f4[0x0][_0x578e8b]=_0x5b77f4[_0x426cc0][_0x578e8b];}pos['b'][_0x46a638[0x1]][_0x46a638[0x2]]=_0x46a638[0x0],pos['b'][_0x46a638[0x3]][_0x46a638[0x4]]=_0x46a638[0x5];}if(_0x37d8b0)return[_0x5b77f4[0x0]];else return _0x5b77f4;}function doMove(_0x33fc8c,_0x5378cc){var _0x387c64=_0x13c3c3;_0x33fc8c[_0x387c64(0x11a)]='',_0x33fc8c['check']='',_0x33fc8c['moveFeedback']='';if(!g['inState'](SM['S']['PROMOTION'])){pos['b'][_0x33fc8c['moveF']][_0x33fc8c[_0x387c64(0x21e)]]=_0x33fc8c[_0x387c64(0x188)],pos[_0x387c64(0x24a)]();if(_0x5378cc!='pgn')a[_0x387c64(0x179)]['initPos'](pos);pos['b'][_0x33fc8c[_0x387c64(0x250)]][_0x33fc8c[_0x387c64(0x1f6)]]=_0x33fc8c['becomesPiece'];var _0x27af5f=oppColor(pos[_0x387c64(0x129)]);g['ply']++;pos['color']=='b'&&(pos[_0x387c64(0x130)]++,pos['fullMoves']++);if(_0x33fc8c[_0x387c64(0x10e)][0x1]=='P'||_0x33fc8c[_0x387c64(0x1f4)]!=EMPTY)pos[_0x387c64(0x130)]=0x0;g['inState'](SM['S']['PROMOTION'])&&(g[_0x387c64(0xec)](SM['S'][_0x387c64(0x1b5)]),_0x33fc8c[_0x387c64(0x11a)]='='+_0x33fc8c[_0x387c64(0x14b)][0x1]);processEnpassant(pos,_0x33fc8c),processCastling(pos,_0x33fc8c),processEndings(pos,_0x33fc8c),pos[_0x387c64(0x129)]=oppColor(pos[_0x387c64(0x129)]),pos[_0x387c64(0x24a)](),g[_0x387c64(0x253)][g[_0x387c64(0x151)]]=pos[_0x387c64(0x1ec)];var _0x574fa3=new Position();_0x574fa3[_0x387c64(0x13e)](pos),g['bs'][g['ply']]=_0x574fa3,processDisplayMove(pos,_0x33fc8c),g[_0x387c64(0x16a)][g[_0x387c64(0x151)]]=_0x33fc8c[_0x387c64(0xde)](),processAnnotation(g,_0x33fc8c),g[_0x387c64(0x23d)]=g[_0x387c64(0x151)];var _0x583353=_0x33fc8c[_0x387c64(0xde)]();if(_0x5378cc!=_0x387c64(0x210))a[_0x387c64(0xeb)](_0x583353),a[_0x387c64(0x13a)](_0x583353,_0x5378cc,!![]);else callbackMove();}}function callbackMove(){var _0x6dd123=_0x13c3c3;if(m[_0x6dd123(0x24f)]!='')b1[_0x6dd123(0x24e)]=![],nextPos(),alert(m[_0x6dd123(0x24f)]),m[_0x6dd123(0x24f)]='';else{if(b1[_0x6dd123(0x24e)])demoTimer=setTimeout(function(){doAiMove(pos);},0x32);}}function processEnpassant(_0x2d1201,_0x1bee92){var _0x524ac1=_0x13c3c3;if(_0x1bee92[_0x524ac1(0x10e)][0x1]=='P'&&Math[_0x524ac1(0x166)](_0x1bee92[_0x524ac1(0x21e)]-_0x1bee92[_0x524ac1(0x1f6)])==0x2)_0x2d1201[_0x524ac1(0x121)]=_0x524ac1(0x1bc)[_0x1bee92[_0x524ac1(0xed)]]+((_0x1bee92[_0x524ac1(0x21e)]+_0x1bee92[_0x524ac1(0x1f6)])/0x2+0x1);else _0x2d1201[_0x524ac1(0x121)]='-';_0x1bee92[_0x524ac1(0x10e)][0x1]=='P'&&_0x1bee92['moveF']!=_0x1bee92[_0x524ac1(0x250)]&&Math[_0x524ac1(0x166)](_0x1bee92[_0x524ac1(0x21e)]-_0x1bee92[_0x524ac1(0x1f6)])==0x1&&_0x1bee92[_0x524ac1(0x1f4)]==EMPTY&&(_0x1bee92[_0x524ac1(0x1f4)]='P',_0x2d1201['b'][_0x1bee92[_0x524ac1(0x250)]][_0x1bee92[_0x524ac1(0x21e)]]=EMPTY,_0x1bee92[_0x524ac1(0x11a)]='\x20e.p.');}function processCastling(_0x41101a,_0x3d8ce5){var _0x8b6ef7=_0x13c3c3;_0x3d8ce5[_0x8b6ef7(0x10e)][0x1]=='K'&&Math[_0x8b6ef7(0x166)](_0x3d8ce5[_0x8b6ef7(0x250)]-_0x3d8ce5[_0x8b6ef7(0xed)])==0x2&&(_0x3d8ce5[_0x8b6ef7(0x10e)][0x0]=='w'&&(_0x3d8ce5[_0x8b6ef7(0x250)]==0x6&&(_0x41101a['b'][0x7][0x0]=EMPTY,_0x41101a['b'][0x5][0x0]=_0x8b6ef7(0x269),_0x41101a[_0x8b6ef7(0x108)]=_0x41101a['castle'][_0x8b6ef7(0x197)]('K','-'),_0x3d8ce5[_0x8b6ef7(0x11a)]=_0x8b6ef7(0xfc)),_0x3d8ce5[_0x8b6ef7(0x250)]==0x2&&(_0x41101a['b'][0x0][0x0]=EMPTY,_0x41101a['b'][0x3][0x0]=_0x8b6ef7(0x223),_0x41101a[_0x8b6ef7(0x108)]=_0x41101a[_0x8b6ef7(0x108)][_0x8b6ef7(0x197)]('Q','-'),_0x3d8ce5[_0x8b6ef7(0x11a)]=_0x8b6ef7(0x1d5))),_0x3d8ce5['movePiece'][0x0]=='b'&&(_0x3d8ce5[_0x8b6ef7(0x250)]==0x6&&(_0x41101a['b'][0x7][0x7]=EMPTY,_0x41101a['b'][0x5][0x7]=_0x8b6ef7(0x184),_0x41101a[_0x8b6ef7(0x108)]=_0x41101a[_0x8b6ef7(0x108)][_0x8b6ef7(0x197)]('k','-'),_0x3d8ce5[_0x8b6ef7(0x11a)]=_0x8b6ef7(0xfc)),_0x3d8ce5['newF']==0x2&&(_0x41101a['b'][0x0][0x7]=EMPTY,_0x41101a['b'][0x3][0x7]=_0x8b6ef7(0x25d),_0x41101a[_0x8b6ef7(0x108)]=_0x41101a[_0x8b6ef7(0x108)][_0x8b6ef7(0x197)]('q','-'),_0x3d8ce5[_0x8b6ef7(0x11a)]=_0x8b6ef7(0x1d5))));if(_0x3d8ce5[_0x8b6ef7(0x10e)][0x1]=='K'&&(_0x3d8ce5[_0x8b6ef7(0xed)]!=_0x3d8ce5[_0x8b6ef7(0x250)]||_0x3d8ce5[_0x8b6ef7(0x21e)]!=_0x3d8ce5[_0x8b6ef7(0x1f6)])){if(_0x3d8ce5[_0x8b6ef7(0x10e)][0x0]=='w')_0x41101a[_0x8b6ef7(0x108)]=_0x41101a[_0x8b6ef7(0x108)][_0x8b6ef7(0x197)]('K','-')[_0x8b6ef7(0x197)]('Q','-');if(_0x3d8ce5[_0x8b6ef7(0x10e)][0x0]=='b')_0x41101a[_0x8b6ef7(0x108)]=_0x41101a['castle'][_0x8b6ef7(0x197)]('k','-')[_0x8b6ef7(0x197)]('q','-');}if(_0x3d8ce5[_0x8b6ef7(0x10e)][0x1]=='R'){if(_0x3d8ce5[_0x8b6ef7(0x10e)][0x0]=='w'&&_0x3d8ce5[_0x8b6ef7(0x21e)]==0x0){if(_0x3d8ce5[_0x8b6ef7(0xed)]==0x7)_0x41101a[_0x8b6ef7(0x108)]=_0x41101a[_0x8b6ef7(0x108)][_0x8b6ef7(0x197)]('K','-');if(_0x3d8ce5[_0x8b6ef7(0xed)]==0x0)_0x41101a[_0x8b6ef7(0x108)]=_0x41101a[_0x8b6ef7(0x108)][_0x8b6ef7(0x197)]('Q','-');}if(_0x3d8ce5[_0x8b6ef7(0x10e)][0x0]=='b'&&_0x3d8ce5['moveR']==0x7){if(_0x3d8ce5[_0x8b6ef7(0xed)]==0x7)_0x41101a[_0x8b6ef7(0x108)]=_0x41101a[_0x8b6ef7(0x108)][_0x8b6ef7(0x197)]('k','-');if(_0x3d8ce5[_0x8b6ef7(0xed)]==0x0)_0x41101a[_0x8b6ef7(0x108)]=_0x41101a[_0x8b6ef7(0x108)]['replace']('q','-');}}}function processEndings(_0x216ad5,_0x409d69){var _0x3fe549=_0x13c3c3,_0x20342c=oppColor(_0x216ad5['color']),_0x457a76=inCheck(_0x216ad5,_0x20342c),_0x277306=allPossMoves(_0x216ad5,_0x20342c)[_0x3fe549(0x199)]==0x0;_0x457a76&&!_0x277306&&(_0x409d69[_0x3fe549(0x278)]='+');if(_0x457a76&&_0x277306)_0x409d69[_0x3fe549(0x24f)]=_0x3fe549(0x15d)+_0x216ad5[_0x3fe549(0x129)]+_0x3fe549(0x217),_0x409d69[_0x3fe549(0x278)]='#\x20'+(_0x216ad5[_0x3fe549(0x129)]=='w'?'1-0':_0x3fe549(0x16f));else{if(!_0x457a76&&_0x277306)_0x409d69[_0x3fe549(0x24f)]=_0x3fe549(0x218)+_0x20342c+_0x3fe549(0xe1),_0x409d69['check']=_0x3fe549(0x265);else{if(g['fiftyMoves']>0x32)_0x409d69[_0x3fe549(0x24f)]=_0x3fe549(0x181),_0x409d69[_0x3fe549(0x278)]=_0x3fe549(0x123);else{if(insufficientMaterial(_0x216ad5))_0x409d69[_0x3fe549(0x24f)]=_0x3fe549(0x14a),_0x409d69[_0x3fe549(0x278)]='\x20½-½\x20(Insufficient\x20material)';else repetition(g,_0x216ad5)&&(_0x409d69[_0x3fe549(0x24f)]='Repetition\x20x3,\x20its\x20a\x20draw!',_0x409d69[_0x3fe549(0x278)]=_0x3fe549(0x12e));}}}}function processDisplayMove(_0xa880d9,_0x16fc26){var _0x32b66d=_0x13c3c3;_0x16fc26['display']='';if(_0x16fc26[_0x32b66d(0x10e)][0x1]=='P'){if(_0x16fc26[_0x32b66d(0x1f4)]!=EMPTY)_0x16fc26[_0x32b66d(0x26b)]=_0x32b66d(0x1bc)[_0x16fc26['moveF']];}else _0x16fc26['display']=_0x16fc26[_0x32b66d(0x10e)][0x1];_0xa880d9['b'][_0x16fc26[_0x32b66d(0xed)]][_0x16fc26['moveR']]=_0x16fc26[_0x32b66d(0x10e)],_0xa880d9['b'][_0x16fc26[_0x32b66d(0x250)]][_0x16fc26[_0x32b66d(0x1f6)]]=EMPTY;var _0x1a5e58=![],_0x35bfd9=![],_0x3c7b59='',_0x1a0ded=0x0;for(var _0x5379aa=0x0;_0x5379aa<0x8;_0x5379aa++)for(var _0x534575=0x0;_0x534575<0x8;_0x534575++){if(_0xa880d9['b'][_0x5379aa][_0x534575][_0x32b66d(0x228)](0x0,0x2)==_0x16fc26['movePiece'][_0x32b66d(0x228)](0x0,0x2)&&_0xa880d9['b'][_0x5379aa][_0x534575]!=_0x16fc26[_0x32b66d(0x10e)]){var _0x2ad835=_0x16fc26[_0x32b66d(0x10e)][0x1]=='P'?[]:calcMoves(_0xa880d9,_0x5379aa,_0x534575,'moves',_0xa880d9['b'][_0x5379aa][_0x534575],_0x32b66d(0x275));for(var _0x398b35=0x0;_0x398b35<_0x2ad835[_0x32b66d(0x199)];_0x398b35++){var _0x220cc5=_0x2ad835[_0x398b35];if(_0x220cc5[0x0]==_0x16fc26['newF']&&_0x220cc5[0x1]==_0x16fc26[_0x32b66d(0x1f6)]){_0x1a0ded++;if(_0x5379aa==_0x16fc26[_0x32b66d(0xed)])_0x1a5e58=!![];if(_0x534575==_0x16fc26[_0x32b66d(0x21e)])_0x35bfd9=!![];}}}}if(_0x1a0ded>0x0){if(!_0x1a5e58||_0x35bfd9)_0x3c7b59=F[_0x16fc26['moveF']];if(_0x1a5e58&&!_0x35bfd9)_0x3c7b59=R[_0x16fc26['moveR']];if(_0x1a5e58&&_0x35bfd9)_0x3c7b59+=R[_0x16fc26[_0x32b66d(0x21e)]];}_0x16fc26[_0x32b66d(0x26b)]+=_0x3c7b59,_0xa880d9['b'][_0x16fc26[_0x32b66d(0xed)]][_0x16fc26[_0x32b66d(0x21e)]]=EMPTY,_0xa880d9['b'][_0x16fc26[_0x32b66d(0x250)]][_0x16fc26[_0x32b66d(0x1f6)]]=_0x16fc26[_0x32b66d(0x14b)],_0x16fc26[_0x32b66d(0x26b)]+=_0x16fc26[_0x32b66d(0x1f4)]==EMPTY?'':'x',_0x16fc26[_0x32b66d(0x26b)]+=F[_0x16fc26[_0x32b66d(0x250)]]+R[_0x16fc26[_0x32b66d(0x1f6)]];if(_0x16fc26[_0x32b66d(0x10e)]!=_0x16fc26[_0x32b66d(0x14b)])_0x16fc26['display']+='='+_0x16fc26[_0x32b66d(0x14b)][0x1];if(_0x16fc26[_0x32b66d(0x11a)][0x0]=='0')_0x16fc26[_0x32b66d(0x26b)]=_0x16fc26[_0x32b66d(0x11a)];else _0x16fc26[_0x32b66d(0x26b)]+=_0x16fc26[_0x32b66d(0x11a)];if(_0x16fc26[_0x32b66d(0x278)]!='')_0x16fc26['display']+=_0x16fc26[_0x32b66d(0x278)];}function processAnnotation(_0x1e347b,_0x3df9b4){var _0x28a570=_0x13c3c3;_0x1e347b['ann'][_0x1e347b['ply']]=new Annotation(),_0x1e347b[_0x28a570(0x1fc)][_0x1e347b[_0x28a570(0x151)]]['last']=[_0x3df9b4[_0x28a570(0xed)],_0x3df9b4[_0x28a570(0x21e)],_0x3df9b4[_0x28a570(0x250)],_0x3df9b4[_0x28a570(0x1f6)]],typeof _0x1e347b[_0x28a570(0x1fc)][_0x1e347b['ply']-0x1]===_0x28a570(0x154)&&(_0x1e347b[_0x28a570(0x1fc)][_0x1e347b[_0x28a570(0x151)]-0x1]=new Annotation()),_0x1e347b[_0x28a570(0x1fc)][_0x1e347b[_0x28a570(0x151)]-0x1][_0x28a570(0x15c)]=[_0x3df9b4['moveF'],_0x3df9b4[_0x28a570(0x21e)],_0x3df9b4[_0x28a570(0x250)],_0x3df9b4[_0x28a570(0x1f6)]];}function eval(_0x237ae3){var _0x3a7b00=_0x13c3c3,_0x4eaa7a=[];_0x4eaa7a[0x1]={'name':_0x3a7b00(0x143),'w':0x0,'b':0x0};for(var _0x2ed4e3=0x0;_0x2ed4e3<0x8;_0x2ed4e3++)for(var _0x1f3f89=0x0;_0x1f3f89<0x8;_0x1f3f89++){var _0xbf5ee=pos['b'][_0x2ed4e3][_0x1f3f89];_0xbf5ee!=EMPTY&&(_0x4eaa7a[0x1][_0xbf5ee[0x0]]+=material[_0xbf5ee[0x1]]*0x3e8);}_0x4eaa7a[0x2]={'name':_0x3a7b00(0x174),'w':0x0,'b':0x0};for(var _0x2ed4e3=0x0;_0x2ed4e3<0x8;_0x2ed4e3++)for(var _0x1f3f89=0x0;_0x1f3f89<0x8;_0x1f3f89++){var _0xbf5ee=pos['b'][_0x2ed4e3][_0x1f3f89];if(_0xbf5ee!=EMPTY){var _0x5b27aa=calcMoves(_0x237ae3,_0x2ed4e3,_0x1f3f89,'moves',_0x237ae3['b'][_0x2ed4e3][_0x1f3f89],_0x3a7b00(0x1fa)),_0x275c6e=_0x5b27aa['length']/0xc8;_0x4eaa7a[0x2][_0xbf5ee[0x0]]+=Math[_0x3a7b00(0x14d)](_0x275c6e*0x3e8);}}_0x4eaa7a[0x3]={'name':_0x3a7b00(0x239),'w':0x0,'b':0x0};for(var _0x2ed4e3=0x0;_0x2ed4e3<0x8;_0x2ed4e3++)for(var _0x1f3f89=0x0;_0x1f3f89<0x8;_0x1f3f89++){var _0xbf5ee=pos['b'][_0x2ed4e3][_0x1f3f89];if(_0xbf5ee!=EMPTY){var _0x5b27aa=calcMoves(_0x237ae3,_0x2ed4e3,_0x1f3f89,_0x3a7b00(0x1b4),_0x237ae3['b'][_0x2ed4e3][_0x1f3f89],_0x3a7b00(0x1fa)),_0x275c6e=0x0;for(var _0x5d4cc4=0x0;_0x5d4cc4<_0x5b27aa[_0x3a7b00(0x199)];_0x5d4cc4++){_0x275c6e+=squareValues[_0x5b27aa[_0x5d4cc4][0x0]][_0x5b27aa[_0x5d4cc4][0x1]]/0xc8;}_0x4eaa7a[0x3][_0xbf5ee[0x0]]+=Math[_0x3a7b00(0x14d)](_0x275c6e*0x3e8);}}var _0x47697b=inCheck(_0x237ae3,pos['color']),_0x90ceae=allPossMoves(_0x237ae3,pos[_0x3a7b00(0x129)])[_0x3a7b00(0x199)]==0x0;_0x4eaa7a[0x4]={'name':_0x3a7b00(0x14e),'w':0x0,'b':0x0};if(_0x47697b&&_0x90ceae)_0x4eaa7a[0x4][pos[_0x3a7b00(0x129)]]=-0xf4240;else _0x90ceae&&(_0x4eaa7a[0x4]['w']=0xf4240,_0x4eaa7a[0x4]['b']=0xf4240);_0x4eaa7a[0x0]={'name':_0x3a7b00(0x19a),'w':0x0,'b':0x0};for(var _0x5d4cc4=0x0;_0x5d4cc4<0x2;_0x5d4cc4++)for(var _0x17ffe2=0x1;_0x17ffe2<=0x4;_0x17ffe2++)_0x4eaa7a[0x0][['w','b'][_0x5d4cc4]]+=_0x4eaa7a[_0x17ffe2][['w','b'][_0x5d4cc4]];return _0x4eaa7a;}function searchMove(_0x3bb136){var _0x1c5a47=_0x13c3c3;track=[];var _0x25b524=pos['b'],_0x2c9a08=pos[_0x1c5a47(0x129)],_0x832820=oppColor(_0x2c9a08),_0x425cf7=allPossMoves(_0x3bb136,_0x2c9a08),_0x4fd284=_0x425cf7[_0x1c5a47(0x199)];if(_0x4fd284>0x0){var _0x4e8ea1=Math['floor'](_0x4fd284*Math[_0x1c5a47(0x117)]());if(b1[_0x1c5a47(0x145)]==0x1){var _0x1fbcc4,_0x2b0040=-0x1;for(var _0x40d081=0x0;_0x40d081<_0x4fd284;_0x40d081++){var _0x281c2c=_0x425cf7[_0x40d081];_0x25b524[_0x281c2c[0x1]][_0x281c2c[0x2]]=EMPTY,_0x25b524[_0x281c2c[0x3]][_0x281c2c[0x4]]=_0x281c2c[0x6];var _0x5d814c=eval(_0x3bb136),_0x2dd679=_0x5d814c[0x0]['w']-_0x5d814c[0x0]['b'];(_0x2b0040==-0x1||_0x2c9a08=='w'&&_0x2dd679>_0x1fbcc4||_0x2c9a08=='b'&&_0x2dd679<_0x1fbcc4)&&(_0x1fbcc4=_0x2dd679,_0x2b0040=_0x40d081),_0x25b524[_0x281c2c[0x1]][_0x281c2c[0x2]]=_0x281c2c[0x0],_0x25b524[_0x281c2c[0x3]][_0x281c2c[0x4]]=_0x281c2c[0x5];}_0x4e8ea1=_0x2b0040;}else{if(b1['depth']==0x2){var _0x1fbcc4,_0x2b0040=-0x1;for(var _0x40d081=0x0;_0x40d081<_0x4fd284;_0x40d081++){var _0x281c2c=_0x425cf7[_0x40d081];_0x25b524[_0x281c2c[0x1]][_0x281c2c[0x2]]=EMPTY,_0x25b524[_0x281c2c[0x3]][_0x281c2c[0x4]]=_0x281c2c[0x6];var _0x4110b1=allPossMoves(_0x3bb136,_0x832820),_0x2e647d=_0x4110b1[_0x1c5a47(0x199)],_0x2a6aa6,_0x2826be=-0x1,_0x4e5586=[];for(var _0xc2ad2e=0x0;_0xc2ad2e<_0x2e647d;_0xc2ad2e++){var _0x421e25=_0x4110b1[_0xc2ad2e];_0x25b524[_0x421e25[0x1]][_0x421e25[0x2]]=EMPTY,_0x25b524[_0x421e25[0x3]][_0x421e25[0x4]]=_0x421e25[0x6];var _0x59ace9=eval(_0x3bb136),_0x49ee18=_0x59ace9[0x0]['w']-_0x59ace9[0x0]['b'];(_0x2826be==-0x1||_0x2c9a08=='w'&&_0x49ee18<_0x2a6aa6||_0x2c9a08=='b'&&_0x49ee18>_0x2a6aa6)&&(_0x2a6aa6=_0x49ee18,_0x2826be=_0xc2ad2e,_0x4e5586=_0x421e25),_0x25b524[_0x421e25[0x1]][_0x421e25[0x2]]=_0x421e25[0x0],_0x25b524[_0x421e25[0x3]][_0x421e25[0x4]]=_0x421e25[0x5];}(_0x2b0040==-0x1||_0x2c9a08=='w'&&_0x2a6aa6>_0x1fbcc4||_0x2c9a08=='b'&&_0x2a6aa6<_0x1fbcc4)&&(_0x1fbcc4=_0x2a6aa6,_0x2b0040=_0x40d081),track[_0x1c5a47(0x1ad)]([pos['fen'],_0x281c2c,_0x2a6aa6,_0x4e5586]),_0x25b524[_0x281c2c[0x1]][_0x281c2c[0x2]]=_0x281c2c[0x0],_0x25b524[_0x281c2c[0x3]][_0x281c2c[0x4]]=_0x281c2c[0x5];}_0x4e8ea1=_0x2b0040;}else{if(b1[_0x1c5a47(0x145)]==0x3){var _0x1fbcc4,_0x2b0040=-0x1;for(var _0x40d081=0x0;_0x40d081<_0x4fd284;_0x40d081++){var _0x281c2c=_0x425cf7[_0x40d081];_0x25b524[_0x281c2c[0x1]][_0x281c2c[0x2]]=EMPTY,_0x25b524[_0x281c2c[0x3]][_0x281c2c[0x4]]=_0x281c2c[0x6];var _0x4110b1=allPossMoves(_0x3bb136,_0x832820),_0x2e647d=_0x4110b1[_0x1c5a47(0x199)],_0x2a6aa6,_0x2826be=-0x1,_0x4e5586=[];for(var _0xc2ad2e=0x0;_0xc2ad2e<_0x2e647d;_0xc2ad2e++){var _0x421e25=_0x4110b1[_0xc2ad2e];_0x25b524[_0x421e25[0x1]][_0x421e25[0x2]]=EMPTY,_0x25b524[_0x421e25[0x3]][_0x421e25[0x4]]=_0x421e25[0x6];var _0x4e8054=allPossMoves(_0x3bb136,_0x2c9a08),_0x1aa524=_0x4e8054[_0x1c5a47(0x199)],_0xcf477f,_0x5f4d33=-0x1,_0x695895=[];for(var _0x1db221=0x0;_0x1db221<_0x1aa524;_0x1db221++){var _0x34564a=_0x4e8054[_0x1db221];_0x25b524[_0x34564a[0x1]][_0x34564a[0x2]]=EMPTY,_0x25b524[_0x34564a[0x3]][_0x34564a[0x4]]=_0x34564a[0x6],pos[_0x1c5a47(0x129)]=_0x832820;var _0xecfba7=eval(_0x3bb136);pos[_0x1c5a47(0x129)]=_0x2c9a08;var _0x466c37=_0xecfba7[0x0]['w']-_0xecfba7[0x0]['b'];(_0x5f4d33==-0x1||_0x2c9a08=='w'&&_0x466c37>_0xcf477f||_0x2c9a08=='b'&&_0x466c37<_0xcf477f)&&(_0xcf477f=_0x466c37,_0x5f4d33=_0x1db221,_0x695895=_0x34564a),_0x25b524[_0x34564a[0x1]][_0x34564a[0x2]]=_0x34564a[0x0],_0x25b524[_0x34564a[0x3]][_0x34564a[0x4]]=_0x34564a[0x5];}(_0x2826be==-0x1||_0x2c9a08=='w'&&_0xcf477f<_0x2a6aa6||_0x2c9a08=='b'&&_0xcf477f>_0x2a6aa6)&&(_0x2a6aa6=_0xcf477f,_0x2826be=_0xc2ad2e,_0x4e5586=_0x421e25),_0x25b524[_0x421e25[0x1]][_0x421e25[0x2]]=_0x421e25[0x0],_0x25b524[_0x421e25[0x3]][_0x421e25[0x4]]=_0x421e25[0x5];}(_0x2b0040==-0x1||_0x2c9a08=='w'&&_0x2a6aa6>_0x1fbcc4||_0x2c9a08=='b'&&_0x2a6aa6<_0x1fbcc4)&&(_0x1fbcc4=_0x2a6aa6,_0x2b0040=_0x40d081),track[_0x1c5a47(0x1ad)]([pos[_0x1c5a47(0x1ec)],_0x281c2c,_0xcf477f,_0x4e5586,_0x695895]),_0x25b524[_0x281c2c[0x1]][_0x281c2c[0x2]]=_0x281c2c[0x0],_0x25b524[_0x281c2c[0x3]][_0x281c2c[0x4]]=_0x281c2c[0x5];}_0x4e8ea1=_0x2b0040;}}}return _0x425cf7[_0x4e8ea1];}else return null;}function dds(_0x291301){return 0x258+_0x291301*ui['ds'];}class Status extends Rect{constructor(){var _0x59a33f=_0x13c3c3;super(panel,0x0,dds(0x0),0x19*ui['ds'],ui['ds'],_0x59a33f(0x240),layout[_0x59a33f(0x1de)]);}[_0x13c3c3(0x262)](){var _0x4aa33e=_0x13c3c3,_0x3df7e6=eval(pos);for(var _0x4970a3=0x0;_0x4970a3<0x8;_0x4970a3++){var _0x2f5e9f=this['ax'];ui['ctx']['beginPath'](),ui[_0x4aa33e(0xdc)][_0x4aa33e(0x147)]=COLOR['STATUS'][_0x4aa33e(0x168)],ui[_0x4aa33e(0xdc)]['fillRect'](_0x2f5e9f,dds(_0x4970a3),this['w'],this['h']),ui[_0x4aa33e(0xdc)]['strokeStyle']=COLOR[_0x4aa33e(0x1c9)][_0x4aa33e(0xf7)],ui[_0x4aa33e(0xdc)]['lineWidth']=0.5,ui[_0x4aa33e(0xdc)]['rect'](_0x2f5e9f,dds(_0x4970a3),this['w'],this['h']),ui[_0x4aa33e(0xdc)]['stroke']();}var _0x4970a3=0x0;drawText(0x3,'','left',_0x4aa33e(0x224),pos[_0x4aa33e(0x1ec)],_0x2f5e9f+0xf,dds(_0x4970a3)+ui['ds']/0x2),_0x4970a3++,drawText(0x3,'',_0x4aa33e(0x164),_0x4aa33e(0x224),'Game\x20PTR:\x20'+g[_0x4aa33e(0x151)]+'/'+g[_0x4aa33e(0x23d)],_0x2f5e9f+0xf,dds(_0x4970a3)+ui['ds']/0x2),_0x4970a3++,drawText(0x3,'','left',_0x4aa33e(0x224),_0x3df7e6[0x0][_0x4aa33e(0x11d)]+':\x20'+(_0x3df7e6[0x0]['w']-_0x3df7e6[0x0]['b'])+'\x20('+_0x3df7e6[0x0]['w']+',\x20'+_0x3df7e6[0x0]['b']+')',_0x2f5e9f+0xf,dds(_0x4970a3)+ui['ds']/0x2),_0x4970a3++,drawText(0x3,'','left',_0x4aa33e(0x224),_0x3df7e6[0x1]['name']+_0x4aa33e(0x13d)+_0x3df7e6[0x1]['w']+',\x20'+_0x3df7e6[0x1]['b']+')',_0x2f5e9f+0xf,dds(_0x4970a3)+ui['ds']/0x2),_0x4970a3++,drawText(0x3,'','left','middle',_0x3df7e6[0x2][_0x4aa33e(0x11d)]+_0x4aa33e(0x13d)+_0x3df7e6[0x2]['w']+',\x20'+_0x3df7e6[0x2]['b']+')',_0x2f5e9f+0xf,dds(_0x4970a3)+ui['ds']/0x2),_0x4970a3++,drawText(0x3,'',_0x4aa33e(0x164),_0x4aa33e(0x224),_0x3df7e6[0x3]['name']+_0x4aa33e(0x13d)+_0x3df7e6[0x3]['w']+',\x20'+_0x3df7e6[0x3]['b']+')',_0x2f5e9f+0xf,dds(_0x4970a3)+ui['ds']/0x2),_0x4970a3++;var _0x428342=ui[_0x4aa33e(0x1af)];if(_0x428342!=null)_0x428342=_0x428342[_0x4aa33e(0x230)];drawText(0x3,'',_0x4aa33e(0x164),'middle',g[_0x4aa33e(0x18f)]+'\x20:\x20'+_0x428342,_0x2f5e9f+0xf,dds(_0x4970a3)+ui['ds']/0x2),_0x4970a3++;var _0x4b59a0='';for(var _0x3115f5=0x0;_0x3115f5<ui['events'][_0x4aa33e(0x199)];_0x3115f5++)_0x4b59a0+=ui[_0x4aa33e(0x12d)][_0x3115f5]['eventName']+'\x20';drawText(0x3,'',_0x4aa33e(0x164),_0x4aa33e(0x224),_0x4b59a0,_0x2f5e9f+0xf,dds(_0x4970a3)+ui['ds']/0x2);}}var status=new Status();class Button extends Rect{constructor(){var _0x3acdae=_0x13c3c3;super(null,0x0,0x0,0x0,0x0,'frame',layout[_0x3acdae(0x1de)]),this[_0x3acdae(0x22e)]=COLOR['BUTTON'][_0x3acdae(0x168)],this['color_frame']=COLOR[_0x3acdae(0x1d0)]['FRAME'],this[_0x3acdae(0x129)]=COLOR['BUTTON'][_0x3acdae(0x198)];}}class ButtonColor extends Button{[_0x13c3c3(0x262)](){var _0x1ef802=_0x13c3c3;super[_0x1ef802(0x262)](),ui[_0x1ef802(0xdc)]['beginPath']();var _0x28a678=pos[_0x1ef802(0x129)]=='w'?ui[_0x1ef802(0x134)][0x6]:ui[_0x1ef802(0x134)][0x0];if(NOSVG)drawText(0x6,'',_0x1ef802(0x25e),_0x1ef802(0x224),pos[_0x1ef802(0x129)],this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);else ui[_0x1ef802(0xdc)]['drawImage'](_0x28a678,this['ax']+this['w']/0x2-this['h']/0x2,this['ay'],this['h'],this['h']);ui['ctx'][_0x1ef802(0x102)]();}[_0x13c3c3(0x1a2)](){var _0x449316=_0x13c3c3,_0x38ee55=pos[_0x449316(0x1ec)]['split']('\x20');pos[_0x449316(0x129)]=oppColor(pos[_0x449316(0x129)]),pos[_0x449316(0x1ec)]=_0x38ee55[0x0]+'\x20'+pos[_0x449316(0x129)]+'\x20'+_0x38ee55[0x2]+'\x20'+_0x38ee55[0x3]+'\x20'+_0x38ee55[0x4]+'\x20'+_0x38ee55[0x5],g[_0x449316(0x253)][g[_0x449316(0x151)]]=pos[_0x449316(0x1ec)],nextPos();}}function actionButtonHome(){var _0x3cc269=_0x13c3c3;g[_0x3cc269(0x151)]!=0x0&&(g[_0x3cc269(0x151)]=0x0,nextPos(!![],!![]));}class ButtonHome extends Button{['render'](_0x19ff6e,_0x35f085,_0x15b0fc,_0x4823a0){var _0x4a3c20=_0x13c3c3;super[_0x4a3c20(0x262)](),ui['ctx'][_0x4a3c20(0xf6)](),moveTo(this['ax']+0x4*this['w']/0x5,this['ay']+this['h']/0x5),lineTo(this['ax']+0x4*this['w']/0x5,this['ay']+0x4*this['h']/0x5),lineTo(this['ax']+0x2*this['w']/0x5,this['ay']+this['h']/0x2),lineTo(this['ax']+0x4*this['w']/0x5,this['ay']+this['h']/0x5),moveTo(this['ax']+this['w']/0x5,this['ay']+this['h']/0x5),lineTo(this['ax']+this['w']/0x5,this['ay']+0x4*this['h']/0x5),lineTo(this['ax']+0x3*this['w']/0xa,this['ay']+0x4*this['h']/0x5),lineTo(this['ax']+0x3*this['w']/0xa,this['ay']+this['h']/0x5),lineTo(this['ax']+this['w']/0x5,this['ay']+this['h']/0x5),ui[_0x4a3c20(0xdc)][_0x4a3c20(0x102)]();}[_0x13c3c3(0x1a2)](){actionButtonHome();}}function actionButtonTakeback(){var _0x42eda1=_0x13c3c3;if(g[_0x42eda1(0x151)]>0x0){a[_0x42eda1(0x179)][_0x42eda1(0x13e)](g['bs'][g['ply']]);var _0x2a5913=g['moves'][g['ply']],_0x177b9c=new MoveData();_0x177b9c['movePiece']=_0x2a5913[_0x42eda1(0x10e)],_0x177b9c[_0x42eda1(0x250)]=_0x2a5913[_0x42eda1(0xed)],_0x177b9c[_0x42eda1(0x1f6)]=_0x2a5913[_0x42eda1(0x21e)],_0x177b9c[_0x42eda1(0x188)]=_0x2a5913[_0x42eda1(0x1f4)],_0x177b9c[_0x42eda1(0x1f4)]=_0x2a5913[_0x42eda1(0x1f4)],_0x177b9c[_0x42eda1(0xed)]=_0x2a5913[_0x42eda1(0x250)],_0x177b9c['moveR']=_0x2a5913['newR'],_0x177b9c[_0x42eda1(0x14b)]=_0x2a5913[_0x42eda1(0x10e)],g[_0x42eda1(0x151)]--,a[_0x42eda1(0xeb)](_0x2a5913),a[_0x42eda1(0x13a)](_0x177b9c,_0x42eda1(0x237),![]);}}class ButtonTakeback extends Button{['render'](){var _0x26e375=_0x13c3c3;super[_0x26e375(0x262)](),ui[_0x26e375(0xdc)]['beginPath'](),moveTo(this['ax']+0x4*this['w']/0x5,this['ay']+this['h']/0x5),lineTo(this['ax']+0x4*this['w']/0x5,this['ay']+0x4*this['h']/0x5),lineTo(this['ax']+this['w']/0x5,this['ay']+this['h']/0x2),lineTo(this['ax']+0x4*this['w']/0x5,this['ay']+this['h']/0x5),ui['ctx'][_0x26e375(0x102)]();}[_0x13c3c3(0x1a2)](){actionButtonTakeback();}}function actionButtonForward(){var _0x324685=_0x13c3c3;g[_0x324685(0x151)]<g[_0x324685(0x23d)]&&(a['pos'][_0x324685(0x13e)](g['bs'][g['ply']]),g[_0x324685(0x151)]++,a[_0x324685(0xeb)](g[_0x324685(0x16a)][g['ply']]),a['anim'](g[_0x324685(0x16a)][g[_0x324685(0x151)]],_0x324685(0x237),!![]));}class ButtonForward extends Button{['render'](){var _0x2ac259=_0x13c3c3;super[_0x2ac259(0x262)](),ui[_0x2ac259(0xdc)][_0x2ac259(0xf6)](),moveTo(this['ax']+this['w']/0x5,this['ay']+this['h']/0x5),lineTo(this['ax']+this['w']/0x5,this['ay']+0x4*this['h']/0x5),lineTo(this['ax']+0x4*this['w']/0x5,this['ay']+this['h']/0x2),lineTo(this['ax']+this['w']/0x5,this['ay']+this['h']/0x5),ui[_0x2ac259(0xdc)][_0x2ac259(0x102)]();}[_0x13c3c3(0x1a2)](){actionButtonForward();}}function actionButtonEnd(){var _0xd7900e=_0x13c3c3;g[_0xd7900e(0x151)]!=g['maxPly']&&(g[_0xd7900e(0x151)]=g['maxPly'],nextPos(!![],!![]));}class ButtonEnd extends Button{[_0x13c3c3(0x262)](){var _0x4d7393=_0x13c3c3;super[_0x4d7393(0x262)](),ui['ctx'][_0x4d7393(0xf6)](),moveTo(this['ax']+this['w']/0x5,this['ay']+this['h']/0x5),lineTo(this['ax']+this['w']/0x5,this['ay']+0x4*this['h']/0x5),lineTo(this['ax']+0x3*this['w']/0x5,this['ay']+this['h']/0x2),lineTo(this['ax']+this['w']/0x5,this['ay']+this['h']/0x5),moveTo(this['ax']+0x4*this['w']/0x5,this['ay']+this['h']/0x5),lineTo(this['ax']+0x4*this['w']/0x5,this['ay']+0x4*this['h']/0x5),lineTo(this['ax']+0x7*this['w']/0xa,this['ay']+0x4*this['h']/0x5),lineTo(this['ax']+0x7*this['w']/0xa,this['ay']+this['h']/0x5),lineTo(this['ax']+0x4*this['w']/0x5,this['ay']+this['h']/0x5),ui['ctx'][_0x4d7393(0x102)]();}['clicked'](){actionButtonEnd();}}class ButtonDepth extends Button{['render'](){var _0x129498=_0x13c3c3;super['render'](),drawText(0x4,'',_0x129498(0x25e),_0x129498(0x224),'d:'+b1['depth'],this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}[_0x13c3c3(0x1a2)](){var _0x55dc8d=_0x13c3c3;b1[_0x55dc8d(0x145)]=(b1['depth']+0x1)%0x4,nextPos();}}function doAiMove(_0x3062f5){var _0x2dec1b=_0x13c3c3,_0x50ac90=searchMove(_0x3062f5);m[_0x2dec1b(0x10e)]=_0x50ac90[0x0],m[_0x2dec1b(0x188)]=EMPTY,m[_0x2dec1b(0xed)]=_0x50ac90[0x1],m[_0x2dec1b(0x21e)]=_0x50ac90[0x2],m[_0x2dec1b(0x250)]=_0x50ac90[0x3],m[_0x2dec1b(0x1f6)]=_0x50ac90[0x4],m[_0x2dec1b(0x1f4)]=_0x50ac90[0x5],m[_0x2dec1b(0x14b)]=_0x50ac90[0x6],doMove(m,_0x2dec1b(0x237));}class ButtonAIMove extends Button{['render'](){var _0x2c0b07=_0x13c3c3;super['render'](),drawText(0x4,'',_0x2c0b07(0x25e),_0x2c0b07(0x224),'MOVE',this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}[_0x13c3c3(0x1a2)](){doAiMove(pos);}}var demoTimer;class ButtonDemo extends Button{['render'](){var _0x104003=_0x13c3c3;super[_0x104003(0x262)]();var _0x2083ed=b1[_0x104003(0x24e)]?'DEMO':_0x104003(0x24e);drawText(0x4,'',_0x104003(0x25e),_0x104003(0x224),_0x2083ed,this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}[_0x13c3c3(0x1a2)](){var _0x34c1b8=_0x13c3c3;b1['demo']=!b1[_0x34c1b8(0x24e)],doRedraw();if(b1[_0x34c1b8(0x24e)])demoTimer=setTimeout(function(){doAiMove(pos);},0x32);}}function actionButtonSquareNames(_0xd518df){b1['squareNames']=_0xd518df,doRedraw();}class ButtonSquareNames extends Button{[_0x13c3c3(0x262)](){var _0x57ea8b=_0x13c3c3;super['render']();var _0x18ce55=b1[_0x57ea8b(0x165)]?'A1':'a1';drawText(0x6,'',_0x57ea8b(0x25e),_0x57ea8b(0x224),_0x18ce55,this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}['clicked'](){actionButtonSquareNames(!b1['squareNames']);}}class ButtonFlip extends Button{[_0x13c3c3(0x262)](){var _0x3e721d=_0x13c3c3;super[_0x3e721d(0x262)]();var _0x2b9e9d=b1[_0x3e721d(0x177)]?_0x3e721d(0x116):_0x3e721d(0x177);drawText(0x4,'','center',_0x3e721d(0x224),_0x2b9e9d,this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}[_0x13c3c3(0x1a2)](){var _0x33bcf3=_0x13c3c3,_0x295ff4=new Position();_0x295ff4['initPos'](pos);for(var _0x20d4b4=0x0;_0x20d4b4<0x8;_0x20d4b4++)for(var _0x18fdc6=0x0;_0x18fdc6<0x8;_0x18fdc6++){var _0x4cb2d6=_0x295ff4['b'][_0x20d4b4][_0x18fdc6][_0x33bcf3(0x228)](0x0,0x2),_0x358b06=_0x33bcf3(0x148);for(var _0x50dd8d=0x0;_0x50dd8d<0x8;_0x50dd8d++)for(var _0x4f60ab=0x0;_0x4f60ab<0x8;_0x4f60ab++){if(_0x295ff4['b'][_0x50dd8d][_0x4f60ab][_0x33bcf3(0x228)](0x0,0x2)==_0x4cb2d6&&(_0x50dd8d!=_0x20d4b4||_0x4f60ab!=_0x18fdc6)){if(_0x4cb2d6[0x1]!='P')_0x358b06=[_0x50dd8d,_0x4f60ab];else _0x295ff4['b'][_0x50dd8d][_0x4f60ab][0x2]==''+(0x9-parseInt(_0x295ff4['b'][_0x20d4b4][_0x18fdc6][0x2]))&&(_0x358b06=[_0x50dd8d,_0x4f60ab]);}}if('QK'['indexOf'](_0x4cb2d6[0x1])!=-0x1||_0x358b06==_0x33bcf3(0x148))a['pos']['b'][0x7-_0x20d4b4][0x7-_0x18fdc6]=_0x295ff4['b'][_0x20d4b4][_0x18fdc6];else a['pos']['b'][0x7-_0x20d4b4][0x7-_0x18fdc6]=_0x295ff4['b'][_0x358b06[0x0]][_0x358b06[0x1]],a[_0x33bcf3(0x179)]['b'][0x7-_0x358b06[0x0]][0x7-_0x358b06[0x1]]=_0x295ff4['b'][_0x20d4b4][_0x18fdc6];}a[_0x33bcf3(0x1f7)](),pos[_0x33bcf3(0x13e)](_0x295ff4),b1['flip']=!b1[_0x33bcf3(0x177)];}}class ButtonAttackSpots extends Button{[_0x13c3c3(0x262)](){var _0x1042a0=_0x13c3c3;super[_0x1042a0(0x262)]();var _0x434a42=b1[_0x1042a0(0x162)]?[0xd2,0x28,0x28]:[0x64,0x64,0x64];drawSpot(_0x434a42,this['ax']+this['w']/0x2,this['ay']+this['h']/0x2,this['h']/0x3);}[_0x13c3c3(0x1a2)](){var _0x144c92=_0x13c3c3;b1[_0x144c92(0x162)]=!b1['attackSpots'],nextPos();}}class ButtonTrail extends Button{[_0x13c3c3(0x262)](){var _0x10f368=_0x13c3c3;super[_0x10f368(0x262)]();var _0x1a819c=b1[_0x10f368(0x158)]?_0x10f368(0x200):'trail';drawText(0x4,'','center',_0x10f368(0x224),_0x1a819c,this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}[_0x13c3c3(0x1a2)](){var _0xf3bb61=_0x13c3c3;b1[_0xf3bb61(0x158)]=!b1[_0xf3bb61(0x158)],nextPos();}}class ButtonSetupPos extends Button{[_0x13c3c3(0x262)](){var _0x37fa3d=_0x13c3c3;super[_0x37fa3d(0x262)](),drawText(0x4,'','center','middle',_0x37fa3d(0x247),this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}['clicked'](){var _0xe4be27=_0x13c3c3;g[_0xe4be27(0xec)](SM['S'][_0xe4be27(0x1d3)][_0xe4be27(0x1b5)]),g[_0xe4be27(0x18f)]=SM['S'][_0xe4be27(0x1d3)][_0xe4be27(0x1b5)],setup['savedSetupFen']=[pos[_0xe4be27(0x1ec)],b1['title'][_0xe4be27(0x242)]],actionButtonSquareNames(!![]),nextPos(),ss[_0xe4be27(0x262)]();}}class ButtonPgn extends Button{constructor(){var _0x2d20ee=_0x13c3c3;super(),this['s'],this['c'],this['ptr'],this[_0x2d20ee(0x210)],this['l'];}[_0x13c3c3(0x262)](){var _0x35ea32=_0x13c3c3;super[_0x35ea32(0x262)](),drawText(0x4,'',_0x35ea32(0x25e),_0x35ea32(0x224),_0x35ea32(0x210),this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}[_0x13c3c3(0x1a2)](){var _0x449eea=_0x13c3c3;a['pos'][_0x449eea(0x13e)](pos),pgn[_0x449eea(0x11f)]=(pgn[_0x449eea(0x11f)]+0x1)%pgn[_0x449eea(0x238)],this['pgn']=constPgns[pgn[_0x449eea(0x11f)]][0x0],b1['title']['text']='',b1[_0x449eea(0x245)][_0x449eea(0x242)]+=constPgns[pgn[_0x449eea(0x11f)]][0x1],g['initFen'](),pos[_0x449eea(0x1ac)](),this['l']=this[_0x449eea(0x210)]['length'],this['ptr']=0x0;while(this[_0x449eea(0x11f)]<this['l']){!this[_0x449eea(0x256)]()&&(this[_0x449eea(0x260)](),this[_0x449eea(0x19f)](),this['pgnMove'](),this['c']=this[_0x449eea(0x19f)](),this['c']=='{'&&(this[_0x449eea(0xe8)](),this['c']=this[_0x449eea(0x19f)]()),this['c']=='('&&(this['sideline'](),this['c']=this[_0x449eea(0x19f)]()),!this[_0x449eea(0x256)]()&&(_0x449eea(0x182)['indexOf'](this['c'])>=0x0&&(this[_0x449eea(0x260)](),this[_0x449eea(0x19f)]()),this[_0x449eea(0x25c)](),this['c']=this[_0x449eea(0x19f)](),this['c']=='{'&&(this[_0x449eea(0xe8)](),this['c']=this[_0x449eea(0x19f)]()),this['c']=='('&&(this['sideline'](),this['c']=this[_0x449eea(0x19f)]())));}a[_0x449eea(0x1f7)]();if(PGNLOG)console['log'](_0x449eea(0x1b8));}[_0x13c3c3(0x256)](){var _0x1e8b1f=_0x13c3c3,_0x33e9a0=this[_0x1e8b1f(0x11f)];this['s']='';while(this[_0x1e8b1f(0x11f)]<this['l']&&this['pgn'][this['ptr']]!='\x20'){this['s']+=this[_0x1e8b1f(0x210)][this[_0x1e8b1f(0x11f)]],this[_0x1e8b1f(0x11f)]++;}if(this['s']=='1-0'||this['s']=='0-1'||this['s']==_0x1e8b1f(0x17f))return!![];else return this[_0x1e8b1f(0x11f)]=_0x33e9a0,![];}[_0x13c3c3(0x260)](){var _0x26db12=_0x13c3c3;this['s']='';while(this['ptr']<this['l']&&this['pgn'][this[_0x26db12(0x11f)]]!='.'){this['s']+=this[_0x26db12(0x210)][this[_0x26db12(0x11f)]],this[_0x26db12(0x11f)]++;}while(this[_0x26db12(0x210)][this[_0x26db12(0x11f)]]=='.'){this['s']+=this[_0x26db12(0x210)][this[_0x26db12(0x11f)]],this['ptr']++;}if(PGNLOG)console[_0x26db12(0xd8)](this['s']);}['spaces'](){var _0x558b30=_0x13c3c3;while(this[_0x558b30(0x11f)]<this['l']&&this[_0x558b30(0x210)][this[_0x558b30(0x11f)]]=='\x20'){this[_0x558b30(0x11f)]++;}return this[_0x558b30(0x210)][this[_0x558b30(0x11f)]];}[_0x13c3c3(0x25c)](){var _0x2f2863=_0x13c3c3;this['s']='';while(this['ptr']<this['l']&&this[_0x2f2863(0x210)][this[_0x2f2863(0x11f)]]!='\x20'){this['s']+=this[_0x2f2863(0x210)][this[_0x2f2863(0x11f)]],this[_0x2f2863(0x11f)]++;}if(this[_0x2f2863(0x11f)]<=this['l']){var _0x2baac0=this['s'][_0x2f2863(0x22f)](-0x1),_0x1e633a=this['s'][_0x2f2863(0x22f)](-0x2),_0x3ce898='';if(['!!','??','!?','?!'][_0x2f2863(0x1df)](_0x1e633a))this['s']=this['s'][_0x2f2863(0x228)](0x0,this['s'][_0x2f2863(0x199)]-0x2),_0x3ce898=_0x1e633a;else['+','#','!','?']['includes'](_0x2baac0)&&(this['s']=this['s'][_0x2f2863(0x228)](0x0,this['s'][_0x2f2863(0x199)]-0x1),_0x3ce898=_0x2baac0);PGNLOG&&(console[_0x2f2863(0xd8)](_0x2f2863(0x221)+this['s']),console[_0x2f2863(0xd8)]('ending\x20annotation:\x20'+_0x3ce898)),doPgnMove(g,pos,this['s']),this[_0x2f2863(0x11f)]++;}}['comment'](){var _0x4f8caa=_0x13c3c3;while(this['pgn'][this['ptr']]=='{'){this['s']='',this[_0x4f8caa(0x11f)]++,this['spaces']();while(this[_0x4f8caa(0x11f)]<this['l']&&this[_0x4f8caa(0x210)][this['ptr']]!='}'){if(this[_0x4f8caa(0x210)][this[_0x4f8caa(0x11f)]]=='['){this[_0x4f8caa(0x11f)]++,this[_0x4f8caa(0x19f)]();if(this[_0x4f8caa(0x210)][this[_0x4f8caa(0x11f)]]=='%'){var _0x151cb1='';while(this[_0x4f8caa(0x210)][this[_0x4f8caa(0x11f)]]!='\x20'){_0x151cb1+=this[_0x4f8caa(0x210)][this[_0x4f8caa(0x11f)]],this[_0x4f8caa(0x11f)]++;}if(PGNLOG)console[_0x4f8caa(0xd8)](_0x4f8caa(0x21b)+_0x151cb1);this[_0x4f8caa(0x19f)]();if(this['pgn'][this[_0x4f8caa(0x11f)]]!=']'){var _0x387e3a='';while(this['pgn'][this[_0x4f8caa(0x11f)]]!=']'){_0x387e3a+=this[_0x4f8caa(0x210)][this['ptr']],this[_0x4f8caa(0x11f)]++;}if(PGNLOG)console[_0x4f8caa(0xd8)](_0x4f8caa(0x276)+_0x387e3a);if(_0x151cb1==_0x4f8caa(0x127))g[_0x4f8caa(0x1fc)][g['ply']][_0x4f8caa(0x178)][_0x4f8caa(0x1ad)](_0x387e3a);else{if(_0x151cb1=='%sq')g[_0x4f8caa(0x1fc)][g['ply']][_0x4f8caa(0x17d)]['push'](_0x387e3a);else{if(_0x151cb1=='%eval')g[_0x4f8caa(0x1fc)][g[_0x4f8caa(0x151)]][_0x4f8caa(0x1db)]=_0x387e3a;else _0x151cb1==_0x4f8caa(0x104)?g['ann'][g[_0x4f8caa(0x151)]][_0x4f8caa(0x144)]=_0x387e3a:(g[_0x4f8caa(0x1fc)][g['ply']]['tags'][_0x4f8caa(0x1ad)](_0x151cb1),g[_0x4f8caa(0x1fc)][g[_0x4f8caa(0x151)]][_0x4f8caa(0x1f2)]['push'](_0x387e3a));}}this['ptr']++,this[_0x4f8caa(0x19f)]();}}else alert('pgn\x20tag\x20without\x20%,\x20see\x20log');}else this['s']+=this[_0x4f8caa(0x210)][this[_0x4f8caa(0x11f)]],this['ptr']++;}if(this['s'][_0x4f8caa(0x199)]>0x0){if(PGNLOG)console[_0x4f8caa(0xd8)](_0x4f8caa(0x1be)+this['s']);g[_0x4f8caa(0x1fc)][g[_0x4f8caa(0x151)]][_0x4f8caa(0x1a7)][_0x4f8caa(0x1ad)](this['s']);}this[_0x4f8caa(0x11f)]++,this[_0x4f8caa(0x19f)]();}}[_0x13c3c3(0x161)](){var _0x5154c2=_0x13c3c3;while(this[_0x5154c2(0x210)][this[_0x5154c2(0x11f)]]=='('){this['s']='',this['ptr']++;while(this[_0x5154c2(0x11f)]<this['l']&&this['pgn'][this[_0x5154c2(0x11f)]]!=')'){this['s']+=this['pgn'][this['ptr']],this[_0x5154c2(0x11f)]++;}if(PGNLOG)console['log'](_0x5154c2(0x141)+this['s']);this[_0x5154c2(0x11f)]++,this[_0x5154c2(0x19f)]();}}}class ButtonSetupNew extends Button{[_0x13c3c3(0x262)](){var _0x8ef13f=_0x13c3c3;super['render'](),drawText(0x4,'',_0x8ef13f(0x25e),'middle','New',this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}[_0x13c3c3(0x1a2)](){var _0x4458b3=_0x13c3c3;setup[_0x4458b3(0x1e8)]=!![],pos[_0x4458b3(0x1ac)](initialPosition),g[_0x4458b3(0x253)][g['ply']]=pos[_0x4458b3(0x1ec)],nextPos();}}class ButtonSetupEmpty extends Button{['render'](){var _0x25c3ba=_0x13c3c3;super['render'](),drawText(0x4,'',_0x25c3ba(0x25e),_0x25c3ba(0x224),_0x25c3ba(0x150),this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}['clicked'](){var _0x2317cf=_0x13c3c3;setup[_0x2317cf(0x1e8)]=!![],pos[_0x2317cf(0x1ac)](_0x2317cf(0x222)),g[_0x2317cf(0x253)][g[_0x2317cf(0x151)]]=pos[_0x2317cf(0x1ec)],nextPos();}}class ButtonSetupLoad extends Button{[_0x13c3c3(0x262)](){var _0x295938=_0x13c3c3;super[_0x295938(0x262)](),drawText(0x4,'',_0x295938(0x25e),_0x295938(0x224),_0x295938(0xda),this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}[_0x13c3c3(0x1a2)](){var _0x2dc6ca=_0x13c3c3;setup['modified']=!![],pos[_0x2dc6ca(0x1ac)](setup[_0x2dc6ca(0x17c)][setup[_0x2dc6ca(0x261)]][0x0]),b1[_0x2dc6ca(0x245)][_0x2dc6ca(0x242)]=setup[_0x2dc6ca(0x17c)][setup[_0x2dc6ca(0x261)]][0x1],setup[_0x2dc6ca(0x261)]=(setup[_0x2dc6ca(0x261)]+0x1)%setup['nSavedFen'],g[_0x2dc6ca(0x253)][g['ply']]=pos['fen'],nextPos();}}class ButtonSetupSave extends Button{[_0x13c3c3(0x262)](){var _0x18227a=_0x13c3c3;super[_0x18227a(0x262)](),drawText(0x4,'',_0x18227a(0x25e),_0x18227a(0x224),'Save',this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}[_0x13c3c3(0x1a2)](){var _0x583223=_0x13c3c3;savedFen[nSavedFen]=[],savedFen[nSavedFen][0x0]=fenString,savedFen[nSavedFen++][0x1]=_0x583223(0x160);}}class ButtonSetupRevert extends Button{[_0x13c3c3(0x262)](){var _0x57eb25=_0x13c3c3;super['render'](),drawText(0x4,'',_0x57eb25(0x25e),_0x57eb25(0x224),'Reset',this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}['clicked'](){var _0x591861=_0x13c3c3;setup[_0x591861(0x1e8)]=![],pos[_0x591861(0x1ac)](setup[_0x591861(0x114)][0x0]),b1[_0x591861(0x245)][_0x591861(0x242)]=setup['savedSetupFen'][0x1],g[_0x591861(0x253)][g[_0x591861(0x151)]]=pos[_0x591861(0x1ec)],nextPos();}}class ButtonSetupExit extends Button{[_0x13c3c3(0x262)](){var _0x1d7e92=_0x13c3c3;super[_0x1d7e92(0x262)](),drawText(0x4,'',_0x1d7e92(0x25e),_0x1d7e92(0x224),'Exit',this['ax']+this['w']/0x2,this['ay']+this['h']/0x2);}['clicked'](){var _0xbed400=_0x13c3c3;if(setup[_0xbed400(0x1e8)])initGame(pos['fen']);g[_0xbed400(0xec)](SM['S'][_0xbed400(0x1b5)]),g[_0xbed400(0x18f)]=SM['S'][_0xbed400(0x1b5)],doRedraw();}}class Toolbar extends Rect{constructor(_0x35422d,_0x2e30e8,_0x58310e,_0x148f31){var _0x2dc261=_0x13c3c3;super(_0x35422d,_0x2e30e8,_0x58310e,0x0,0x0,_0x2dc261(0x236),_0x148f31),this['bw']=0x37,this['bh']=0x25,this['bd']=0x8,super[_0x2dc261(0x1d1)](0x4*this['bd'],0x2*this['bd']),this[_0x2dc261(0x22e)]=COLOR[_0x2dc261(0x149)]['BACKGROUND'],this[_0x2dc261(0x1f8)]=COLOR[_0x2dc261(0x149)][_0x2dc261(0xf7)],this[_0x2dc261(0x129)]=COLOR[_0x2dc261(0x149)]['COLOR'];}[_0x13c3c3(0x1b7)](_0x2d7d00){var _0x200c37=_0x13c3c3;_0x2d7d00['parent']=this,_0x2d7d00[_0x200c37(0x1d1)](this['bw'],this['bh']),this[_0x200c37(0x277)](_0x2d7d00);var _0x149dfb=this['os'][_0x200c37(0x199)];_0x2d7d00['setXY'](0x2*this['bd']+(_0x149dfb-0x1)*(this['bw']+this['bd']),this['bd']),this['setWH'](0x4*this['bd']+_0x149dfb*this['bw']+(_0x149dfb-0x1)*this['bd'],this['bh']+0x2*this['bd']);}['clicked'](_0x3aa4af,_0x546f24){var _0x4b20ee=_0x13c3c3;if(this[_0x4b20ee(0x1da)]()){for(var _0x43a79a=0x0;_0x43a79a<this['os'][_0x4b20ee(0x199)];_0x43a79a++)if(this['os'][_0x43a79a]['cursorIn'](_0x3aa4af,_0x546f24))this['os'][_0x43a79a]['clicked'](_0x3aa4af,_0x546f24);}}}var toolbar=new Toolbar(panel,0x0,0x64,layout[_0x13c3c3(0xdb)]);toolbar[_0x13c3c3(0x1b7)](new ButtonColor()),toolbar[_0x13c3c3(0x1b7)](new ButtonHome()),toolbar[_0x13c3c3(0x1b7)](new ButtonTakeback()),toolbar[_0x13c3c3(0x1b7)](new ButtonForward()),toolbar[_0x13c3c3(0x1b7)](new ButtonEnd()),toolbar[_0x13c3c3(0x1b7)](new ButtonDepth()),toolbar[_0x13c3c3(0x1b7)](new ButtonAIMove());var toolbar2=new Toolbar(panel,0x0,0x96,layout[_0x13c3c3(0xdb)]);toolbar2[_0x13c3c3(0x1b7)](new ButtonDemo()),toolbar2[_0x13c3c3(0x1b7)](new ButtonSquareNames()),toolbar2['addButton'](new ButtonFlip()),toolbar2[_0x13c3c3(0x1b7)](new ButtonAttackSpots()),toolbar2[_0x13c3c3(0x1b7)](new ButtonTrail()),toolbar2[_0x13c3c3(0x1b7)](new ButtonSetupPos()),toolbar2[_0x13c3c3(0x1b7)](new ButtonPgn()),toolbarSetup=new Toolbar(panel,0x0,0x64,layout['Setup']),toolbarSetup[_0x13c3c3(0x1b7)](new ButtonColor()),toolbarSetup[_0x13c3c3(0x1b7)](new ButtonSetupNew()),toolbarSetup[_0x13c3c3(0x1b7)](new ButtonSetupEmpty()),toolbarSetup[_0x13c3c3(0x1b7)](new ButtonSetupLoad()),toolbarSetup[_0x13c3c3(0x1b7)](new ButtonSetupSave()),toolbarSetup[_0x13c3c3(0x1b7)](new ButtonSetupRevert()),toolbarSetup[_0x13c3c3(0x1b7)](new ButtonSetupExit());class Event{constructor(){var _0x44677a=_0x13c3c3;this['eventName']='',this['evt']=null,this['now']=0x0,this['mx']=-0x1,this['my']=-0x1,this[_0x44677a(0x254)]=![],this['f']=-0x1,this['r']=-0x1,this['button']=-0x1;}[_0x13c3c3(0xe3)](_0x2c4fc2){var _0x2bec87=_0x13c3c3;if(typeof _0x2c4fc2!==_0x2bec87(0x154))this[_0x2bec87(0x230)]=_0x2c4fc2;else alert(_0x2bec87(0x193));}['event'](_0x4181bd){var _0x333ebd=_0x13c3c3;if(typeof _0x4181bd!=='undefined')return this[_0x333ebd(0x230)]==_0x4181bd;else alert(_0x333ebd(0x132));}}window[_0x13c3c3(0x1eb)]=function(_0x2ba8fb){return![];};function doKeyDown(_0x24a90c){var _0x18998a=_0x13c3c3;(ui[_0x18998a(0x1af)][_0x18998a(0x230)]!=SM['E'][_0x18998a(0x1c4)]||Date[_0x18998a(0x105)]()-ui['lastEvent'][_0x18998a(0x105)]>0xa)&&ui['push'](SM['E'][_0x18998a(0x1c4)],_0x24a90c);}function doKeyUp(_0x3fb4ee){var _0xe6f0d4=_0x13c3c3;(ui[_0xe6f0d4(0x1af)][_0xe6f0d4(0x230)]!=SM['E'][_0xe6f0d4(0x11c)]||Date['now']()-ui['lastEvent'][_0xe6f0d4(0x105)]>0xa)&&ui['push'](SM['E'][_0xe6f0d4(0x11c)],_0x3fb4ee);}function doMouseDown(_0x32b2a9){var _0xd7a390=_0x13c3c3;if(_0x32b2a9[_0xd7a390(0x187)]==0x2)return;else{if(_0x32b2a9[_0xd7a390(0x187)]==0x1)ui[_0xd7a390(0x1ad)](SM['E'][_0xd7a390(0x1f5)],_0x32b2a9);else{if(_0x32b2a9[_0xd7a390(0x187)]==0x3)ui[_0xd7a390(0x1ad)](SM['E'][_0xd7a390(0x23b)],_0x32b2a9);}}}function doMouseMove(_0xbe4cd1){var _0x3099cc=_0x13c3c3;ui[_0x3099cc(0x1ad)](SM['E'][_0x3099cc(0x1fb)],_0xbe4cd1);}function doMouseUp(_0x3698c2){var _0x65116=_0x13c3c3;if(_0x3698c2[_0x65116(0x187)]==0x2)return;else{if(_0x3698c2[_0x65116(0x187)]==0x1)ui[_0x65116(0x1ad)](SM['E']['MOUSEUP'],_0x3698c2);else{if(_0x3698c2[_0x65116(0x187)]==0x3)ui[_0x65116(0x1ad)](SM['E']['RIGHTUP'],_0x3698c2);}}}function doWheel(_0x2f5167){var _0x26919e=_0x13c3c3;ui[_0x26919e(0x1ad)](SM['E']['MOUSEWHEEL'],_0x2f5167);}function promotion(){var _0x4bdee9=_0x13c3c3;return m[_0x4bdee9(0x14b)][0x1]=='P'&&(m[_0x4bdee9(0x10e)][_0x4bdee9(0x228)](0x0,0x2)=='wP'&&m[_0x4bdee9(0x1f6)]==0x7)||m[_0x4bdee9(0x10e)]['substr'](0x0,0x2)=='bP'&&m[_0x4bdee9(0x1f6)]==0x0;}function arrayIndexOf(_0x13d519,_0x55dcc4){var _0x54f84c=_0x13c3c3,_0x3b6fd2,_0x5f0fa6,_0x449752;for(_0x3b6fd2=0x0;_0x3b6fd2<_0x13d519[_0x54f84c(0x199)];++_0x3b6fd2){if(_0x55dcc4[_0x54f84c(0x199)]===_0x13d519[_0x3b6fd2]['length']){_0x449752=_0x13d519[_0x3b6fd2];for(_0x5f0fa6=0x1;_0x5f0fa6<_0x55dcc4['length']&&_0x55dcc4[_0x5f0fa6]===_0x449752[_0x5f0fa6];++_0x5f0fa6);if(_0x5f0fa6===_0x55dcc4[_0x54f84c(0x199)])return _0x3b6fd2;}}return-0x1;}var arrowF,arrowR,button;function adjustMouseXY(_0x412114){var _0x79a89c=_0x13c3c3;if(_0x412114['mx']<b1[_0x79a89c(0x201)](0x0)+b1['d']/0x2)_0x412114['mx']=b1[_0x79a89c(0x201)](0x0)+b1['d']/0x2;if(_0x412114['mx']>b1[_0x79a89c(0x201)](0x7)+b1['d']/0x2)_0x412114['mx']=b1[_0x79a89c(0x201)](0x7)+b1['d']/0x2;if(_0x412114['my']>b1[_0x79a89c(0x204)](0x0)+b1['d']/0x2)_0x412114['my']=b1[_0x79a89c(0x204)](0x0)+b1['d']/0x2;if(_0x412114['my']<b1['r2y'](0x7)+b1['d']/0x2)_0x412114['my']=b1[_0x79a89c(0x204)](0x7)+b1['d']/0x2;if(_0x412114['f']<0x0)_0x412114['f']=0x0;if(_0x412114['f']>0x7)_0x412114['f']=0x7;if(_0x412114['r']<0x0)_0x412114['r']=0x0;if(_0x412114['r']>0x7)_0x412114['r']=0x7;}async function paste(_0x4dd1d2,_0xc35812,_0x48fcfd){var _0x33c6d2=_0x13c3c3;try{const _0x276b37=await navigator[_0x33c6d2(0x1c6)]['readText']();return _0x4dd1d2[_0x33c6d2(0x242)]=_0xc35812+_0x276b37+_0x48fcfd,_0x4dd1d2['ptrCursor']+=_0x276b37[_0x33c6d2(0x199)],doRedraw(),!![];}catch(_0x15d3a1){console[_0x33c6d2(0xd8)](_0x33c6d2(0x227),_0x15d3a1);}}function fsmTick(){var _0x34a1a2=_0x13c3c3;ui[_0x34a1a2(0x25f)]--;ui[_0x34a1a2(0x25f)]<=0x0&&(ui[_0x34a1a2(0x25f)]=0x32,ui[_0x34a1a2(0x12a)]!=null&&(ui[_0x34a1a2(0x12a)][_0x34a1a2(0x101)]=!ui['focus'][_0x34a1a2(0x101)],ui[_0x34a1a2(0x12a)]['render']()));if(ui[_0x34a1a2(0x12d)][_0x34a1a2(0x199)]>0x0){var _0x25fcc3=ui[_0x34a1a2(0x12d)]['shift']();if(EVENTLOG==0x1)console['log'](g[_0x34a1a2(0x18f)]+':'+_0x25fcc3['eventName']);g['nextState'](g[_0x34a1a2(0x18f)]);if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x1b5)]))m[_0x34a1a2(0x169)]=[];if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x113)])&&_0x25fcc3['event'](SM['E'][_0x34a1a2(0x1f5)])){m[_0x34a1a2(0x14b)]=scBox[0x3][0x4];for(var _0x16ed54=0x0;_0x16ed54<0x4;_0x16ed54++){_0x25fcc3['mx']>scBox[_0x16ed54][0x0]&&_0x25fcc3['mx']<scBox[_0x16ed54][0x0]+scBox[_0x16ed54][0x2]&&_0x25fcc3['my']>scBox[_0x16ed54][0x1]&&_0x25fcc3['my']<scBox[_0x16ed54][0x1]+scBox[_0x16ed54][0x3]&&(m[_0x34a1a2(0x14b)]=scBox[_0x16ed54][0x4]);}g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x1b5)]),g[_0x34a1a2(0x244)](),doMove(m,_0x34a1a2(0x237));}else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x1b5)])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0x1f5)])&&b1[_0x34a1a2(0x136)][_0x34a1a2(0x20f)](_0x25fcc3['mx'],_0x25fcc3['my']))g[_0x34a1a2(0xec)](SM['S']['RESIZE']),ui[_0x34a1a2(0x1f3)]=_0x25fcc3['my'];else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x10d)])){if(_0x25fcc3[_0x34a1a2(0xd0)](SM['E']['MOUSEMOVE']))b1['h']=b1['h']-ui[_0x34a1a2(0x1f3)]+_0x25fcc3['my'],ui[_0x34a1a2(0x1f3)]=_0x25fcc3['my'],g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x10d)]),doRedraw();else _0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0xce)])&&(g['nextState'](SM['S']['IDLE']),doRedraw());}else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x1b5)])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0x1f5)])){if(_0x25fcc3[_0x34a1a2(0xfd)]){m[_0x34a1a2(0x10e)]=pos['b'][_0x25fcc3['f']][_0x25fcc3['r']];if(m[_0x34a1a2(0x10e)][0x0]==pos[_0x34a1a2(0x129)]&&calcMoves(pos,_0x25fcc3['f'],_0x25fcc3['r'],_0x34a1a2(0x16a),pos['b'][_0x25fcc3['f']][_0x25fcc3['r']],_0x34a1a2(0x1fa))[_0x34a1a2(0x199)]>0x0){m[_0x34a1a2(0xed)]=_0x25fcc3['f'],m[_0x34a1a2(0x21e)]=_0x25fcc3['r'],drawSquare(_0x25fcc3['f'],_0x25fcc3['r'],_0x34a1a2(0x1ee)),drawPiece(pos['b'][_0x25fcc3['f']][_0x25fcc3['r']],_0x25fcc3['f'],_0x25fcc3['r']);var _0x11afdf=calcMoves(pos,_0x25fcc3['f'],_0x25fcc3['r'],'moves',pos['b'][_0x25fcc3['f']][_0x25fcc3['r']],_0x34a1a2(0x1fa));for(var _0x515f20=0x0;_0x515f20<_0x11afdf[_0x34a1a2(0x199)];_0x515f20++){m[_0x34a1a2(0x169)][_0x34a1a2(0x1ad)](_0x11afdf[_0x515f20]);}drawTargets(m),g['nextState'](SM['S'][_0x34a1a2(0x1c7)]);}}else{if(pgn[_0x34a1a2(0x20f)](_0x25fcc3['mx'],_0x25fcc3['my']))pgn[_0x34a1a2(0x1a2)](_0x25fcc3['mx'],_0x25fcc3['my']);if(toolbar[_0x34a1a2(0x20f)](_0x25fcc3['mx'],_0x25fcc3['my']))toolbar['clicked'](_0x25fcc3['mx'],_0x25fcc3['my']);if(toolbar2['cursorIn'](_0x25fcc3['mx'],_0x25fcc3['my']))toolbar2['clicked'](_0x25fcc3['mx'],_0x25fcc3['my']);for(var _0x515f20=0x0;_0x515f20<ui['textboxes'][_0x34a1a2(0x199)];_0x515f20++){if(ui['textboxes'][_0x515f20][_0x34a1a2(0x1da)]&&ui['textboxes'][_0x515f20]['cursorIn'](_0x25fcc3['mx'],_0x25fcc3['my']))ui['textboxes'][_0x515f20][_0x34a1a2(0x1a2)](_0x25fcc3['mx'],_0x25fcc3['my']);}}}else{if(g[_0x34a1a2(0x26d)](SM['S']['CLICKED'])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0xce)]))_0x25fcc3[_0x34a1a2(0xfd)]&&_0x25fcc3['f']==m['moveF']&&_0x25fcc3['r']==m['moveR']?g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x23f)]):(g[_0x34a1a2(0xec)](SM['S']['IDLE']),nextPos());else{if(g['inState'](SM['S'][_0x34a1a2(0x23f)])&&_0x25fcc3['event'](SM['E']['MOUSEDOWN']))_0x25fcc3[_0x34a1a2(0xfd)]&&(m[_0x34a1a2(0x188)]=EMPTY,m['newF']=_0x25fcc3['f'],m[_0x34a1a2(0x1f6)]=_0x25fcc3['r'],m[_0x34a1a2(0x14b)]=m[_0x34a1a2(0x10e)],m[_0x34a1a2(0x1f4)]=pos['b'][_0x25fcc3['f']][_0x25fcc3['r']],(_0x25fcc3['f']!=m[_0x34a1a2(0xed)]||_0x25fcc3['r']!=m[_0x34a1a2(0x21e)])&&legalMove(pos,m)?promotion()?(drawPromotion(m[_0x34a1a2(0x250)],m['newR']),g['nextState'](SM['S'][_0x34a1a2(0x113)])):(doMove(m,'click'),g['nextState'](SM['S'][_0x34a1a2(0x1b5)])):(nextPos(),g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x1b5)])));else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x1c7)])&&_0x25fcc3['event'](SM['E'][_0x34a1a2(0x1fb)]))b1[_0x34a1a2(0x192)]=null,drawSquare(_0x25fcc3['f'],_0x25fcc3['r'],_0x34a1a2(0x1ee)),g['nextState'](SM['S']['DRAG']);else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0xe9)])&&_0x25fcc3['event'](SM['E'][_0x34a1a2(0x1fb)])&&_0x25fcc3[_0x34a1a2(0xfd)])adjustMouseXY(_0x25fcc3),pos['b'][m['moveF']][m[_0x34a1a2(0x21e)]]=EMPTY,drawAbsPiece(null,0x0,0x0,0x0,_0x34a1a2(0x115)),drawAbsPiece(m[_0x34a1a2(0x10e)],_0x25fcc3['mx']-b1['d']/0x2,_0x25fcc3['my']-b1['d']/0x2,0xe*b1['dp']/0xf,_0x34a1a2(0x25b));else{if(g[_0x34a1a2(0x26d)](SM['S']['DRAG'])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0xce)]))adjustMouseXY(_0x25fcc3),m['leftPiece']=EMPTY,m['newF']=_0x25fcc3['f'],m[_0x34a1a2(0x1f6)]=_0x25fcc3['r'],m[_0x34a1a2(0x14b)]=m['movePiece'],m[_0x34a1a2(0x1f4)]=pos['b'][_0x25fcc3['f']][_0x25fcc3['r']],_0x25fcc3[_0x34a1a2(0xfd)]&&(_0x25fcc3['f']!=m[_0x34a1a2(0xed)]||_0x25fcc3['r']!=m[_0x34a1a2(0x21e)])&&legalMove(pos,m)?promotion()?(drawPromotion(m[_0x34a1a2(0x250)],m[_0x34a1a2(0x1f6)]),g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x113)])):(doMove(m,_0x34a1a2(0x118)),g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x1b5)])):(pos['b'][m[_0x34a1a2(0xed)]][m[_0x34a1a2(0x21e)]]=m[_0x34a1a2(0x10e)],nextPos(),g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x1b5)]));else{if((g['inState'](SM['S'][_0x34a1a2(0x171)])||g['inState'](SM['S'][_0x34a1a2(0x17a)])||g['inState'](SM['S'][_0x34a1a2(0x186)]))&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0x23b)])||_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0x23b)])){if(pos['inside'](_0x25fcc3['f'],_0x25fcc3['r'])){arrowF=_0x25fcc3['f'],arrowR=_0x25fcc3['r'],button=_0x25fcc3[_0x34a1a2(0x18c)];if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x171)]))g[_0x34a1a2(0xec)](SM['S']['CTRLMOUSEDOWN']);else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x17a)]))g[_0x34a1a2(0xec)](SM['S']['SHIFTMOUSEDOWN']);else{if(g['inState'](SM['S'][_0x34a1a2(0x186)]))g['nextState'](SM['S'][_0x34a1a2(0x1b6)]);else g['nextState'](SM['S']['RIGHTDOWN']);}}}}else{if(g['inState'](SM['S']['CTRL'])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0x1c4)])&&_0x25fcc3[_0x34a1a2(0x18b)]['keyCode']==0x10)g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x186)]);else{if(g['inState'](SM['S'][_0x34a1a2(0x17a)])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E']['KEYDOWN'])&&_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x11)g['nextState'](SM['S']['CTRLSHIFT']);else{if(g['inState'](SM['S'][_0x34a1a2(0x186)])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E']['KEYUP'])&&_0x25fcc3['evt'][_0x34a1a2(0xd6)]==0x10)g[_0x34a1a2(0xec)](SM['S']['CTRL']);else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x186)])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0x11c)])&&_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x11)g[_0x34a1a2(0xec)](SM['S']['SHIFT']);else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x10b)])||g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x203)])||g[_0x34a1a2(0x26d)](SM['S']['CTRLSHIFTMOUSEDOWN'])||g[_0x34a1a2(0x26d)](SM['S']['RIGHTDOWN'])){adjustMouseXY(_0x25fcc3);var _0xedf876;if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x23b)]))_0xedf876='G';else{if(g['inState'](SM['S'][_0x34a1a2(0x10b)]))_0xedf876='R';else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x203)]))_0xedf876='B';else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x1b6)]))_0xedf876='Y';}}}if(_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0x1fb)])){nextPos();var _0x41c0fc=b1[_0x34a1a2(0x177)]?0x7-arrowF:arrowF,_0x1b89e1=b1[_0x34a1a2(0x177)]?0x7-arrowR:arrowR;drawAbsArrow(_0xedf876,b1['f2x'](_0x41c0fc)+b1['d']/0x2,b1[_0x34a1a2(0x204)](_0x1b89e1)+b1['d']/0x2,_0x25fcc3['mx'],_0x25fcc3['my'],0xa,button);}else{if(_0x25fcc3['event'](SM['E'][_0x34a1a2(0x19e)])){if(arrowF==_0x25fcc3['f']&&arrowR==_0x25fcc3['r']){var _0x5b9b35=_0xedf876+F[_0x25fcc3['f']]+R[_0x25fcc3['r']],_0x274f2e=arrayIndexOf(g[_0x34a1a2(0x1fc)][g[_0x34a1a2(0x151)]]['squares'],_0x5b9b35);if(_0x274f2e==-0x1)g['ann'][g[_0x34a1a2(0x151)]][_0x34a1a2(0x17d)]['push'](_0x5b9b35);else g[_0x34a1a2(0x1fc)][g['ply']][_0x34a1a2(0x17d)][_0x34a1a2(0x20a)](_0x274f2e,0x1);}else{var _0x5b9b35=_0xedf876+F[arrowF]+R[arrowR]+F[_0x25fcc3['f']]+R[_0x25fcc3['r']],_0x274f2e=arrayIndexOf(g[_0x34a1a2(0x1fc)][g[_0x34a1a2(0x151)]][_0x34a1a2(0x178)],_0x5b9b35);if(_0x274f2e==-0x1)g['ann'][g[_0x34a1a2(0x151)]][_0x34a1a2(0x178)]['push'](_0x5b9b35);else g[_0x34a1a2(0x1fc)][g[_0x34a1a2(0x151)]]['arrows'][_0x34a1a2(0x20a)](_0x274f2e,0x1);}nextPos();if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x10b)]))g['nextState'](SM['S'][_0x34a1a2(0x171)]);else{if(g[_0x34a1a2(0x26d)](SM['S']['SHIFTMOUSEDOWN']))g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x17a)]);else{if(g[_0x34a1a2(0x26d)](SM['S']['CTRLSHIFTMOUSEDOWN']))g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x186)]);else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x23b)]))g['nextState'](SM['S'][_0x34a1a2(0x1b5)]);}}}}}}else{if((g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x17a)])||g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x171)]))&&_0x25fcc3['event'](SM['E'][_0x34a1a2(0x11c)]))g[_0x34a1a2(0xec)](SM['S']['IDLE']);else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x1b5)])&&_0x25fcc3['event'](SM['E']['KEYDOWN'])){if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x25)actionButtonTakeback();if(_0x25fcc3[_0x34a1a2(0x18b)]['keyCode']==0x27)actionButtonForward();if(_0x25fcc3['evt'][_0x34a1a2(0xd6)]==0x24)actionButtonHome();if(_0x25fcc3[_0x34a1a2(0x18b)]['keyCode']==0x23)actionButtonEnd();if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x10)g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x17a)]);if(_0x25fcc3['evt']['keyCode']==0x11)g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x171)]);}else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x1b5)])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0x1c2)])){if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0x212)]<0x0)actionButtonTakeback();if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0x212)]>0x0)actionButtonForward();}else{if(g['inState'](SM['S'][_0x34a1a2(0x1d3)][_0x34a1a2(0x1b5)])&&_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0x1f5)])){if(toolbarSetup[_0x34a1a2(0x20f)](_0x25fcc3['mx'],_0x25fcc3['my']))toolbarSetup[_0x34a1a2(0x1a2)](_0x25fcc3['mx'],_0x25fcc3['my']);else{if(ss[_0x34a1a2(0x20f)](_0x25fcc3['mx'],_0x25fcc3['my'])){for(var _0x515f20=0x0;_0x515f20<scBox[_0x34a1a2(0x199)];_0x515f20++){if(_0x25fcc3['mx']>scBox[_0x515f20][0x0]&&_0x25fcc3['mx']<scBox[_0x515f20][0x0]+scBox[_0x515f20][0x2]&&_0x25fcc3['my']>scBox[_0x515f20][0x1]&&_0x25fcc3['my']<scBox[_0x515f20][0x1]+scBox[_0x515f20][0x3]){ss[_0x34a1a2(0x191)]=scBox[_0x515f20][0x4]+pos['nextIndex'](scBox[_0x515f20][0x4]);if(EVENTLOG==0x1)console[_0x34a1a2(0xd8)](ss['piece']);}}g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x1d3)][_0x34a1a2(0x215)]);}else{if(pos['inside'](_0x25fcc3['f'],_0x25fcc3['r'])){ss['piece']=pos['b'][_0x25fcc3['f']][_0x25fcc3['r']],pos['b'][_0x25fcc3['f']][_0x25fcc3['r']]=EMPTY,pos[_0x34a1a2(0x24a)](),nextPos();if(EVENTLOG==0x1)console[_0x34a1a2(0xd8)](ss[_0x34a1a2(0x191)]);g[_0x34a1a2(0xec)](SM['S']['SETUP'][_0x34a1a2(0x272)]);}}}}else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x1d3)][_0x34a1a2(0x215)])||g['inState'](SM['S']['SETUP']['BOARDCLICK'])){if(_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0xce)]))g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x1d3)][_0x34a1a2(0x1b5)]);else _0x25fcc3[_0x34a1a2(0xd0)](SM['E']['MOUSEMOVE'])&&(b1['prevImageData']=null,g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x1d3)]['DRAG']));}else{if(g[_0x34a1a2(0x26d)](SM['S'][_0x34a1a2(0x1d3)][_0x34a1a2(0xe9)])){if(_0x25fcc3['event'](SM['E'][_0x34a1a2(0x1fb)])){if(_0x25fcc3['mx']<b1[_0x34a1a2(0x201)](0x0)+b1['d']/0x2)_0x25fcc3['mx']=b1['f2x'](0x0)+b1['d']/0x2;if(_0x25fcc3['mx']>b1[_0x34a1a2(0x201)](0x7)+0x4*b1['d']/0x3)_0x25fcc3['mx']=b1['f2x'](0x7)+0x4*b1['d']/0x3;if(_0x25fcc3['my']>b1['r2y'](0x0)+b1['d']/0x2)_0x25fcc3['my']=b1['r2y'](0x0)+b1['d']/0x2;if(_0x25fcc3['my']<b1[_0x34a1a2(0x204)](0x7)+b1['d']/0x2)_0x25fcc3['my']=b1[_0x34a1a2(0x204)](0x7)+b1['d']/0x2;drawAbsPiece(null,0x0,0x0,0x0,_0x34a1a2(0x115)),drawAbsPiece(ss[_0x34a1a2(0x191)],_0x25fcc3['mx']-b1['d']/0x2,_0x25fcc3['my']-b1['d']/0x2,0xe*b1['dp']/0xf,'save'),g[_0x34a1a2(0xec)](SM['S'][_0x34a1a2(0x1d3)]['DRAG']);}else{if(_0x25fcc3['event'](SM['E'][_0x34a1a2(0xce)])){if(pos[_0x34a1a2(0x1e5)](_0x25fcc3['f'],_0x25fcc3['r']))setup['modified']=!![],pos['b'][_0x25fcc3['f']][_0x25fcc3['r']]=ss['piece'],pos['calcFen']();else{if(ss['cursorIn']()){}}nextPos(),g['nextState'](SM['S'][_0x34a1a2(0x1d3)][_0x34a1a2(0x1b5)]);}}}else{if(g['inState'](SM['S']['TEXTBOX'])){(_0x25fcc3[_0x34a1a2(0xd0)](SM['E']['MOUSEDOWN'])||_0x25fcc3[_0x34a1a2(0xd0)](SM['E'][_0x34a1a2(0xce)])||_0x25fcc3[_0x34a1a2(0xd0)](SM['E']['KEYDOWN']))&&(ui['cursorBlinkTimer']=0x32,ui['focus'][_0x34a1a2(0x101)]=!![],ui[_0x34a1a2(0x12a)][_0x34a1a2(0x262)]());if(_0x25fcc3['event'](SM['E']['MOUSEDOWN']))ui[_0x34a1a2(0x12a)][_0x34a1a2(0x20f)](_0x25fcc3['mx'],_0x25fcc3['my'])?(g['nextState'](SM['S'][_0x34a1a2(0x232)]),ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1a2)](_0x25fcc3['mx'],_0x25fcc3['my'])):(g['nextState'](SM['S'][_0x34a1a2(0x1b5)]),ui[_0x34a1a2(0x12a)][_0x34a1a2(0x101)]=![],ui['focus'][_0x34a1a2(0x262)](),ui[_0x34a1a2(0x12a)]=null,ui[_0x34a1a2(0x12d)][_0x34a1a2(0x1ad)](ui['lastEvent']));else{if(_0x25fcc3['event'](SM['E'][_0x34a1a2(0x1c4)])){console[_0x34a1a2(0xd8)](_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]+'\x20'+_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0x24c)]);if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x25)ui['focus'][_0x34a1a2(0x1b2)]=ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]<=0x0?0x0:ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]-0x1;else{if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x27)ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]=ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]>=ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)][_0x34a1a2(0x199)]?ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)][_0x34a1a2(0x199)]:ui[_0x34a1a2(0x12a)]['ptrCursor']+0x1;else{if(_0x25fcc3['evt']['keyCode']==0x24)ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]=0x0;else{if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x23)ui['focus'][_0x34a1a2(0x1b2)]=ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)][_0x34a1a2(0x199)];else{if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0xd)ui[_0x34a1a2(0x12a)][_0x34a1a2(0x11d)]=='fenstring'&&pos[_0x34a1a2(0x1ac)](ui['focus']['text']),ui[_0x34a1a2(0x12a)]['name']==_0x34a1a2(0x14f)&&(doPgnMove(g,pos,ui['focus']['text']),ui[_0x34a1a2(0x12a)][_0x34a1a2(0xe6)]());else{if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x56&&_0x25fcc3[_0x34a1a2(0x18b)]['ctrlKey'])paste(ui[_0x34a1a2(0x12a)],ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)]['substr'](0x0,ui['focus'][_0x34a1a2(0x1b2)]),ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)][_0x34a1a2(0x228)](ui['focus'][_0x34a1a2(0x1b2)],ui['focus']['text']['length']-ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]));else{if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]>=0x30&&_0x25fcc3[_0x34a1a2(0x18b)]['keyCode']<=0x39||_0x25fcc3[_0x34a1a2(0x18b)]['keyCode']==0x20||_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0xd||_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]>=0x41&&_0x25fcc3[_0x34a1a2(0x18b)]['keyCode']<=0x5a||_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]>0x5f&&_0x25fcc3['evt']['keyCode']<0x70||_0x25fcc3['evt'][_0x34a1a2(0xd6)]>0xb9&&_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]<0xc1||_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]>0xda&&_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]<0xdf)ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)]=ui['focus'][_0x34a1a2(0x242)][_0x34a1a2(0x228)](0x0,ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)])+_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0x24c)]+ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)][_0x34a1a2(0x228)](ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)],ui[_0x34a1a2(0x12a)]['text'][_0x34a1a2(0x199)]-ui[_0x34a1a2(0x12a)]['ptrCursor']),ui['focus']['ptrCursor']++;else{if(_0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x8&&ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]>0x0)ui['focus'][_0x34a1a2(0x242)]=ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)][_0x34a1a2(0x228)](0x0,ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]-0x1)+ui['focus']['text']['substr'](ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)],ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)]['length']-ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]),ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]--;else _0x25fcc3[_0x34a1a2(0x18b)][_0x34a1a2(0xd6)]==0x2e&&(ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)]=ui['focus'][_0x34a1a2(0x242)][_0x34a1a2(0x228)](0x0,ui[_0x34a1a2(0x12a)]['ptrCursor'])+ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)][_0x34a1a2(0x228)](ui[_0x34a1a2(0x12a)]['ptrCursor']+0x1,ui[_0x34a1a2(0x12a)][_0x34a1a2(0x242)][_0x34a1a2(0x199)]-ui[_0x34a1a2(0x12a)][_0x34a1a2(0x1b2)]));}}}}}}}doRedraw();}}}}}}}}}}}}}}}}}}}}}}}}g['setNextState']();}ui['eventTimer']=setTimeout(fsmTick,0x7);}function main(){var _0xed2544=_0x13c3c3;const _0x331490=window[_0xed2544(0x23c)][_0xed2544(0x1f1)],_0x255c94=new URLSearchParams(_0x331490);if(_0x255c94['has'](_0xed2544(0x1d2)))NOSVG=_0x255c94['get']('NOSVG');if(_0x255c94[_0xed2544(0x167)](_0xed2544(0x231)))NOIMAGEDATA=_0x255c94['get']('NOIMAGEDATA');if(_0x255c94[_0xed2544(0x167)](_0xed2544(0xe4)))PGNLOG=_0x255c94[_0xed2544(0x185)](_0xed2544(0xe4));if(_0x255c94[_0xed2544(0x167)]('SILENT'))SILENT=_0x255c94[_0xed2544(0x185)](_0xed2544(0x258));if(_0x255c94[_0xed2544(0x167)](_0xed2544(0x234)))EVENTLOG=_0x255c94[_0xed2544(0x185)]('EVENTLOG');if(_0x255c94['has']('SMALLBOARD'))SMALLBOARD=_0x255c94[_0xed2544(0x185)]('SMALLBOARD');ui[_0xed2544(0x1f0)](),ui[_0xed2544(0xf0)]=setInterval(tick,0x64),initializeSavedFens(setup),initGame(initialPosition),ui[_0xed2544(0x109)]=document['getElementById'](_0xed2544(0x263)),ui[_0xed2544(0xdc)]=ui[_0xed2544(0x109)]['getContext']('2d'),ui[_0xed2544(0xdc)][_0xed2544(0x251)]=![],ui['canvas'][_0xed2544(0x220)]=window[_0xed2544(0xf8)],ui[_0xed2544(0x109)][_0xed2544(0xf3)]=window[_0xed2544(0x119)],window[_0xed2544(0x20c)]('wheel',doWheel,![]),document['addEventListener']('keydown',doKeyDown,![]),document['addEventListener']('keyup',doKeyUp,![]),window[_0xed2544(0x20c)]('resize',function(_0x3657ad){doResize();}),ui[_0xed2544(0x109)]['addEventListener'](_0xed2544(0x1e7),doMouseUp,![]),ui[_0xed2544(0x109)][_0xed2544(0x20c)](_0xed2544(0x1e1),doMouseDown,![]),ui[_0xed2544(0x109)]['addEventListener'](_0xed2544(0x235),doMouseMove,![]),ui[_0xed2544(0x1a0)]=setTimeout(fsmTick,0x64);}var lan=_0x13c3c3(0x249);function playLongAlgebraicNotation(_0x43f47c){var _0x19b654=_0x13c3c3,_0x22a301=_0x43f47c[_0x19b654(0x17e)]('\x20');for(var _0xad945f=0x0;_0xad945f<_0x22a301[_0x19b654(0x199)];_0xad945f++){var _0x1f9723=new MoveData();_0x1f9723[_0x19b654(0xed)]='abcdefgh'[_0x19b654(0x19b)](_0x22a301[_0xad945f][0x0]),_0x1f9723['moveR']=parseInt(_0x22a301[_0xad945f][0x1])-0x1,_0x1f9723[_0x19b654(0x250)]=_0x19b654(0x1bc)['indexOf'](_0x22a301[_0xad945f][0x2]),_0x1f9723[_0x19b654(0x1f6)]=parseInt(_0x22a301[_0xad945f][0x3])-0x1,_0x1f9723['movePiece']=pos['b'][_0x1f9723[_0x19b654(0xed)]][_0x1f9723[_0x19b654(0x21e)]],_0x1f9723['leftPiece']=EMPTY,_0x1f9723[_0x19b654(0x1f4)]=pos['b'][_0x1f9723['newF']][_0x1f9723[_0x19b654(0x1f6)]],_0x1f9723['becomesPiece']=pos['b'][_0x1f9723[_0x19b654(0xed)]][_0x1f9723[_0x19b654(0x21e)]];var _0x221fd5=new Move();_0x221fd5['setMoveData'](_0x1f9723),doMove(_0x221fd5,_0x19b654(0x210));}}function onloadCallback(){nextPos();}